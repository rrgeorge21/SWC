!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/packs/",i(i.s=184)}({11:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(i=window)}e.exports=i},154:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(34),r=i.n(n),o=i(155),s=(i.n(o),i(156)),a=(i.n(s),i(157)),l=(i.n(a),i(158));i.n(l);r.a.fn.selectpicker.Constructor.BootstrapVersion="4.x.x",r.a.fn.fileinputThemes.fa={fileActionSettings:{removeIcon:'<i class="fa fa-trash text-danger"></i>',uploadIcon:'<i class="fa fa-upload text-info"></i>',zoomIcon:'<i class="fa fa-search-plus"></i>',dragIcon:'<i class="fa fa-bars"></i>',indicatorNew:'<i class="fa fa-hand-o-down text-warning"></i>',indicatorSuccess:'<i class="fa fa-check-circle text-success"></i>',indicatorError:'<i class="fa fa-exclamation-circle text-danger"></i>',indicatorLoading:'<i class="fa fa-hand-o-up text-muted"></i>'},layoutTemplates:{fileIcon:'<i class="fa fa-file kv-caption-icon"></i> '},previewZoomButtonIcons:{prev:'<i class="fa fa-caret-left fa-lg"></i>',next:'<i class="fa fa-caret-right fa-lg"></i>',toggleheader:'<i class="fa fa-arrows-v"></i>',fullscreen:'<i class="fa fa-arrows-alt"></i>',borderless:'<i class="fa fa-external-link"></i>',close:'<i class="fa fa-remove"></i>'},previewFileIcon:'<i class="fa fa-file"></i>',browseIcon:'<i class="fa fa-folder-open"></i>',removeIcon:'<i class="fa fa-trash"></i>',cancelIcon:'<i class="fa fa-ban"></i>',uploadIcon:'<i class="fa fa-upload"></i>',msgValidationErrorIcon:'<i class="fa fa-exclamation-circle"></i> '},r()(function(){r()("input.djb_file").each(function(e,t){var i;return i={layoutTemplates:{modal:'<div class="modal-dialog" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{close}</div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"></span></small></h3>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n'},theme:"fa",overwriteInitial:!1,showPreview:"true"===r()(t).attr("data-preview"),previewSettings:{image:{width:"100px",height:"auto"}},showUpload:!1},r()(t).attr("data-preload")&&(i.initialPreview=[],i.initialPreviewConfig=[],r()(r()(t).attr("data-preload")+" img").each(function(e,t){return i.initialPreview.push(t.outerHTML),i.initialPreviewConfig.push({caption:r()(t).attr("title"),width:"100px",height:"auto",url:r()(t).attr("data-delete-url")})})),r()(t).fileinput(i)}),r()(".custom-file-input").on("change",function(){var e,t;return e=r()(this).val().split("\\").pop(),t=r()(this).siblings(".custom-file-label"),console.log(e,t),t.data("default-title")||t.data("default-title",t.html()),e?t.addClass("selected").html(e):t.removeClass("selected").html(t.data("default-title"))})})},155:function(e,t,i){var n,r,o;!function(s){"use strict";r=[i(34)],void 0===(o="function"===typeof(n=s)?n.apply(t,r):n)||(e.exports=o)}(function(e){"use strict";var t,i;e.fn.fileinputLocales={},e.fn.fileinputThemes={},String.prototype.setTokens=function(e){var t,i,n=this.toString();for(t in e)e.hasOwnProperty(t)&&(i=new RegExp("{"+t+"}","g"),n=n.replace(i,e[t]));return n},t={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],objUrl:window.URL||window.webkitURL,createObjectURL:function(e){return t.objUrl&&t.objUrl.createObjectURL&&e?t.objUrl.createObjectURL(e):""},revokeObjectURL:function(e){t.objUrl&&t.objUrl.revokeObjectURL&&e&&t.objUrl.revokeObjectURL(e)},compare:function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},isIE:function(e){var t,i;return"Microsoft Internet Explorer"===navigator.appName&&(10===e?new RegExp("msie\\s"+e,"i").test(navigator.userAgent):((t=document.createElement("div")).innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",i=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),i))},canAssignFilesToInput:function(){var e=document.createElement("input");try{return e.type="file",e.files=null,!0}catch(e){return!1}},getDragDropFolders:function(e){var t,i,n=e?e.length:0,r=0;if(n>0&&e[0].webkitGetAsEntry())for(t=0;t<n;t++)(i=e[t].webkitGetAsEntry())&&i.isDirectory&&r++;return r},initModal:function(t){var i=e("body");i.length&&t.appendTo(i)},isEmpty:function(t,i){return void 0===t||null===t||0===t.length||i&&""===e.trim(t)},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,i){return i=i||"",t&&"object"===typeof t&&e in t?t[e]:i},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return void 0!==e&&null!==e})},spliceArray:function(t,i,n){var r,o,s=0,a=[];if(!(t instanceof Array))return[];for(o=e.extend(!0,[],t),n&&o.reverse(),r=0;r<o.length;r++)r!==i&&(a[s]=o[r],s++);return n&&a.reverse(),a},getNum:function(e,t){return t=t||0,"number"===typeof e?e:("string"===typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!t.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return t.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return!1}},hasArrayBufferViewSupport:function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}},dataURI2Blob:function(e){var i,n,r,o,s,a,l=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,c=t.hasBlobSupport();if(!((c||l)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return null;for(i=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),n=new ArrayBuffer(i.length),r=new Uint8Array(n),o=0;o<i.length;o+=1)r[o]=i.charCodeAt(o);return s=e.split(",")[0].split(":")[1].split(";")[0],c?new Blob([t.hasArrayBufferViewSupport()?r:n],{type:s}):((a=new l).append(n),a.getBlob(s))},arrayBuffer2String:function(e){if(window.TextDecoder)return new TextDecoder("utf-8").decode(e);var t,i,n,r,o=Array.prototype.slice.apply(new Uint8Array(e)),s="",a=0;for(t=o.length;a<t;)switch((i=o[a++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(i);break;case 12:case 13:n=o[a++],s+=String.fromCharCode((31&i)<<6|63&n);break;case 14:n=o[a++],r=o[a++],s+=String.fromCharCode((15&i)<<12|(63&n)<<6|(63&r)<<0)}return s},isHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes,n=i.length;n--;)if(1===i[n].nodeType)return!0;return!1},isSvg:function(e){return e.match(/^\s*<\?xml/i)&&(e.match(/<!DOCTYPE svg/i)||e.match(/<svg/i))},getMimeType:function(e,t,i){switch(e){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":return"image/jpeg";case"89504E47":return"image/png";case"47494638":return"image/gif";case"49492a00":return"image/tiff";case"52494646":return"image/webp";case"66747970":return"video/3gp";case"4f676753":return"video/ogg";case"1a45dfa3":return"video/mkv";case"000001ba":case"000001b3":return"video/mpeg";case"3026b275":return"video/wmv";case"25504446":return"application/pdf";case"25215053":return"application/ps";case"504b0304":case"504b0506":case"504b0508":return"application/zip";case"377abcaf":return"application/7z";case"75737461":return"application/tar";case"7801730d":return"application/dmg";default:switch(e.substring(0,6)){case"435753":return"application/x-shockwave-flash";case"494433":return"audio/mp3";case"425a68":return"application/bzip";default:switch(e.substring(0,4)){case"424d":return"image/bmp";case"fffb":return"audio/mp3";case"4d5a":return"application/exe";case"1f9d":case"1fa0":return"application/zip";case"1f8b":return"application/gzip";default:return t&&!t.match(/[^\u0000-\u007f]/)?"application/text-plain":i}}}},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(i,n,r){return t.isEmpty(i)||t.isEmpty(i[n])?r:e(i[n])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(100*Math.random())},htmlEncode:function(e,t){return void 0===e?t||null:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(t,i){var n=t;return i?(e.each(i,function(e,t){"function"===typeof t&&(t=t()),n=n.split(e).join(t)}),n):n},cleanMemory:function(e){var i=e.is("img")?e.attr("src"):e.find("source").attr("src");t.revokeObjectURL(i)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var i=document,n=i.documentElement;n&&e&&!t.checkFullScreen()?n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen()},moveArray:function(t,i,n,r){var o=e.extend(!0,[],t);if(r&&o.reverse(),n>=o.length)for(var s=n-o.length;1+s--;)o.push(void 0);return o.splice(n,0,o.splice(i,1)[0]),r&&o.reverse(),o},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()},closeButton:function(e){return'<button type="button" class="'+(e=e?"close "+e:"close")+'" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>'},getRotation:function(e){switch(e){case 2:return"rotateY(180deg)";case 3:return"rotate(180deg)";case 4:return"rotate(180deg) rotateY(180deg)";case 5:return"rotate(270deg) rotateY(180deg)";case 6:return"rotate(90deg)";case 7:return"rotate(90deg) rotateY(180deg)";case 8:return"rotate(270deg)";default:return""}},setTransform:function(e,t){e&&(e.style.transform=t,e.style.webkitTransform=t,e.style["-moz-transform"]=t,e.style["-ms-transform"]=t,e.style["-o-transform"]=t)},setImageOrientation:function(e,i,n){if(e&&e.length){var r="load.fileinputimageorient";e.off(r).on(r,function(){var r=e.get(0),o=i&&i.length?i.get(0):null,s=r.offsetHeight,a=r.offsetWidth,l=t.getRotation(n);if(e.data("orientation",n),o&&i.data("orientation",n),n<5)return t.setTransform(r,l),void t.setTransform(o,l);var c=Math.atan(a/s),u=Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),d=u?s/Math.cos(Math.PI/2+c)/u:1,h=" scale("+Math.abs(d)+")";t.setTransform(r,l+h),t.setTransform(o,l+h)})}}},(i=function(i,n){this.$element=e(i),this.$parent=this.$element.parent(),this._validate()&&(this.isPreviewable=t.hasFileAPISupport(),this.isIE9=t.isIE(9),this.isIE10=t.isIE(10),(this.isPreviewable||this.isIE9)&&(this._init(n),this._listen()),this.$element.removeClass("file-loading"))}).prototype={constructor:i,_cleanup:function(){this.reader=null,this.formdata={},this.uploadCount=0,this.uploadStatus={},this.uploadLog=[],this.uploadAsyncCount=0,this.loadedImages=[],this.totalImagesCount=0,this.ajaxRequests=[],this.clearStack(),this.fileBatchCompleted=!0,this.isPreviewable||(this.showPreview=!1),this.isError=!1,this.ajaxAborted=!1,this.cancelling=!1},_init:function(i,n){var r,o,s,a,l=this,c=l.$element;l.options=i,e.each(i,function(e,i){switch(e){case"minFileCount":case"maxFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":l[e]=t.getNum(i);break;default:l[e]=i}}),l.rtl&&(a=l.previewZoomButtonIcons.prev,l.previewZoomButtonIcons.prev=l.previewZoomButtonIcons.next,l.previewZoomButtonIcons.next=a),n||l._cleanup(),l.$form=c.closest("form"),l._initTemplateDefaults(),l.uploadFileAttr=t.isEmpty(c.attr("name"))?"file_data":c.attr("name"),s=l._getLayoutTemplate("progress"),l.progressTemplate=s.replace("{class}",l.progressClass),l.progressCompleteTemplate=s.replace("{class}",l.progressCompleteClass),l.progressErrorTemplate=s.replace("{class}",l.progressErrorClass),l.isDisabled=c.attr("disabled")||c.attr("readonly"),l.isDisabled&&c.attr("disabled",!0),l.isClickable=l.browseOnZoneClick&&l.showPreview&&(l.dropZoneEnabled||!t.isEmpty(l.defaultPreviewContent)),l.isAjaxUpload=t.hasFileUploadSupport()&&!t.isEmpty(l.uploadUrl),l.dropZoneEnabled=t.hasDragDropSupport()&&l.dropZoneEnabled,l.isAjaxUpload||(l.dropZoneEnabled=l.dropZoneEnabled&&t.canAssignFilesToInput()),l.slug="function"===typeof i.slugCallback?i.slugCallback:l._slugDefault,l.mainTemplate=l.showCaption?l._getLayoutTemplate("main1"):l._getLayoutTemplate("main2"),l.captionTemplate=l._getLayoutTemplate("caption"),l.previewGenericTemplate=l._getPreviewTemplate("generic"),!l.imageCanvas&&l.resizeImage&&(l.maxImageWidth||l.maxImageHeight)&&(l.imageCanvas=document.createElement("canvas"),l.imageCanvasContext=l.imageCanvas.getContext("2d")),t.isEmpty(c.attr("id"))&&c.attr("id",t.uniqId()),l.namespace=".fileinput_"+c.attr("id").replace(/-/g,"_"),void 0===l.$container?l.$container=l._createContainer():l._refreshContainer(),o=l.$container,l.$dropZone=o.find(".file-drop-zone"),l.$progress=o.find(".kv-upload-progress"),l.$btnUpload=o.find(".fileinput-upload"),l.$captionContainer=t.getElement(i,"elCaptionContainer",o.find(".file-caption")),l.$caption=t.getElement(i,"elCaptionText",o.find(".file-caption-name")),t.isEmpty(l.msgPlaceholder)||(r=c.attr("multiple")?l.filePlural:l.fileSingle,l.$caption.attr("placeholder",l.msgPlaceholder.replace("{files}",r))),l.$captionIcon=l.$captionContainer.find(".file-caption-icon"),l.$previewContainer=t.getElement(i,"elPreviewContainer",o.find(".file-preview")),l.$preview=t.getElement(i,"elPreviewImage",o.find(".file-preview-thumbnails")),l.$previewStatus=t.getElement(i,"elPreviewStatus",o.find(".file-preview-status")),l.$errorContainer=t.getElement(i,"elErrorContainer",l.$previewContainer.find(".kv-fileinput-error")),l._validateDisabled(),t.isEmpty(l.msgErrorClass)||t.addCss(l.$errorContainer,l.msgErrorClass),n?l._errorsExist()||l.$errorContainer.hide():(l.$errorContainer.hide(),l.previewInitId="preview-"+t.uniqId(),l._initPreviewCache(),l._initPreview(!0),l._initPreviewActions(),l.$parent.hasClass("file-loading")&&(l.$container.insertBefore(l.$parent),l.$parent.remove())),l._setFileDropZoneTitle(),c.attr("disabled")&&l.disable(),l._initZoom(),l.hideThumbnailContent&&t.addCss(l.$preview,"hide-content")},_initTemplateDefaults:function(){var i,n,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x,k,T,C,E,S,_,I,A,P,D,L,$,N,F,O,j,M,z,R=this;i='{preview}\n<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n<div class="input-group {class}">\n  {caption}\n<div class="input-group-btn input-group-append">\n      {remove}\n      {cancel}\n      {upload}\n      {browse}\n    </div>\n</div>',n='{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',r='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',s=t.closeButton("fileinput-remove"),o='<i class="glyphicon glyphicon-file"></i>',a='<div class="file-caption form-control {class}" tabindex="500">\n  <span class="file-caption-icon"></span>\n  <input class="file-caption-name" onkeydown="return false;" onpaste="return false;">\n</div>',l='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',c='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',u='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',d='<div id="'+t.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+t.MODAL_ID+'Label"></div>',h='<div class="modal-dialog modal-lg{rtl}" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h5 class="modal-title">{heading}</h5>\n      <span class="kv-zoom-title"></span>\n      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',p='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>',f=" <samp>({sizeText})</samp>",m='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">\n        <div class="file-caption-info">{caption}</div>\n        <div class="file-size-info">{size}</div>\n    </div>\n    {progress}\n{indicator}\n{actions}\n</div>',g='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {download} {upload} {delete} {zoom} {other}    </div>\n</div>\n{drag}\n<div class="clearfix"></div>',v='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',y='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',b='<a class="kv-file-download {downloadClass}" title="{downloadTitle}" href="{downloadUrl}" download="{caption}" target="_blank">{downloadIcon}</a>',w='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',x='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',k='<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>',C=(T='<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"')+'><div class="kv-file-content">\n',E=T+' title="{caption}"><div class="kv-file-content">\n',S="</div>{footer}\n</div>\n",_='<div class="kv-preview-data file-preview-html" title="{caption}" {style}>{data}</div>\n',I='<img src="{data}" class="file-preview-image kv-preview-data" title="{caption}" alt="{caption}" {style}>\n',A='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly {style}>{data}</textarea>\n',P='<iframe class="kv-preview-data file-preview-office" src="https://view.officeapps.live.com/op/embed.aspx?src={data}" {style}></iframe>',D='<iframe class="kv-preview-data file-preview-gdocs" src="https://docs.google.com/gview?url={data}&embedded=true" {style}></iframe>',L='<video class="kv-preview-data file-preview-video" controls {style}>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</video>\n",$='\x3c!--suppress ALL --\x3e<audio class="kv-preview-data file-preview-audio" controls {style}>\n<source src="{data}" type="{type}">\n'+t.DEFAULT_PREVIEW+"\n</audio>\n",N='<embed class="kv-preview-data file-preview-flash" src="{data}" type="application/x-shockwave-flash" {style}>\n',O='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf" {style}>\n',F='<object class="kv-preview-data file-preview-object file-object {typeCss}" data="{data}" type="{type}" {style}>\n<param name="movie" value="{caption}" />\n'+t.OBJECT_PARAMS+" "+t.DEFAULT_PREVIEW+"\n</object>\n",j='<div class="kv-preview-data file-preview-other-frame" {style}>\n'+t.DEFAULT_PREVIEW+"\n</div>\n",M='<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>',z={width:"100%",height:"100%","min-height":"480px"},R._isPdfRendered()&&(O=R.pdfRendererTemplate.replace("{renderer}",R._encodeURI(R.pdfRendererUrl))),R.defaults={layoutTemplates:{main1:i,main2:n,preview:r,close:s,fileIcon:o,caption:a,modalMain:d,modal:h,progress:p,size:f,footer:m,indicator:k,actions:g,actionDelete:v,actionUpload:y,actionDownload:b,actionZoom:w,actionDrag:x,btnDefault:l,btnLink:c,btnBrowse:u,zoomCache:M},previewMarkupTags:{tagBefore1:C,tagBefore2:E,tagAfter:S},previewContentTemplates:{generic:"{content}\n",html:_,image:I,text:A,office:P,gdocs:D,video:L,audio:$,flash:N,object:F,pdf:O,other:j},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},office:{width:"213px",height:"160px"},gdocs:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"100%",height:"160px"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},office:{width:"100%",height:"160px"},gdocs:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:z,text:z,office:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},gdocs:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:z,other:{width:"auto",height:"100%","min-height":"480px"}},mimeTypeAliases:{"video/quicktime":"video/mp4"},fileTypeSettings:{image:function(e,i){return t.compare(e,"image.*")&&!t.compare(e,/(tiff?|wmf)$/i)||t.compare(i,/\.(gif|png|jpe?g)$/i)},html:function(e,i){return t.compare(e,"text/html")||t.compare(i,/\.(htm|html)$/i)},office:function(e,i){return t.compare(e,/(word|excel|powerpoint|office)$/i)||t.compare(i,/\.(docx?|xlsx?|pptx?|pps|potx?)$/i)},gdocs:function(e,i){return t.compare(e,/(word|excel|powerpoint|office|iwork-pages|tiff?)$/i)||t.compare(i,/\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i)},text:function(e,i){return t.compare(e,"text.*")||t.compare(i,/\.(xml|javascript)$/i)||t.compare(i,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,i){return t.compare(e,"video.*")&&(t.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||t.compare(i,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,i){return t.compare(e,"audio.*")&&(t.compare(i,/(ogg|mp3|mp?g|wav)$/i)||t.compare(i,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,i){return t.compare(e,"application/x-shockwave-flash",!0)||t.compare(i,/\.(swf)$/i)},pdf:function(e,i){return t.compare(e,"application/pdf",!0)||t.compare(i,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showDownload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-sm btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."}},e.each(R.defaults,function(t,i){"allowedPreviewTypes"!==t?R[t]=e.extend(!0,{},i,R[t]):void 0===R.allowedPreviewTypes&&(R.allowedPreviewTypes=i)}),R._initPreviewTemplates()},_initPreviewTemplates:function(){var i,n=this,r=n.previewMarkupTags,o=r.tagAfter;e.each(n.previewContentTemplates,function(e,s){t.isEmpty(n.previewTemplates[e])&&(i=r.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(i=r.tagBefore1),n._isPdfRendered()&&"pdf"===e&&(i=i.replace("kv-file-content","kv-file-content kv-pdf-rendered")),n.previewTemplates[e]=i+s+o)})},_initPreviewCache:function(){var i=this;i.previewCache={data:{},init:function(){var e=i.initialPreview;e.length>0&&!t.isArray(e)&&(e=e.split(i.initialPreviewDelimiter)),i.previewCache.data={content:e,config:i.initialPreviewConfig,tags:i.initialPreviewThumbTags}},count:function(){return i.previewCache.data&&i.previewCache.data.content?i.previewCache.data.content.length:0},get:function(n,r){var o,s,a,l,c,u,d,h="init_"+n,p=i.previewCache.data,f=p.config[n],m=p.content[n],g=i.previewInitId+"-"+h,v=t.ifSet("previewAsData",f,i.initialPreviewAsData),y=function(e,n,r,o,s,a,l,c,u){return c=" file-preview-initial "+t.SORT_CSS+(c?" "+c:""),i._generatePreviewTemplate(e,n,r,o,s,!1,null,c,a,l,u)};return m?(r=void 0===r||r,a=t.ifSet("type",f,i.initialPreviewFileType||"generic"),c=t.ifSet("filename",f,t.ifSet("caption",f)),u=t.ifSet("filetype",f,a),l=i.previewCache.footer(n,r,f&&f.size||null),d=t.ifSet("frameClass",f),o=v?y(a,m,c,u,g,l,h,d):y("generic",m,c,u,g,l,h,d,a).setTokens({content:p.content[n]}),p.tags.length&&p.tags[n]&&(o=t.replaceTags(o,p.tags[n])),t.isEmpty(f)||t.isEmpty(f.frameAttr)||((s=e(document.createElement("div")).html(o)).find(".file-preview-initial").attr(f.frameAttr),o=s.html(),s.remove()),o):""},add:function(e,n,r,o){var s,a=i.previewCache.data;return t.isArray(e)||(e=e.split(i.initialPreviewDelimiter)),o?(s=a.content.push(e)-1,a.config[s]=n,a.tags[s]=r):(s=e.length-1,a.content=e,a.config=n,a.tags=r),i.previewCache.data=a,s},set:function(e,n,r,o){var s,a=i.previewCache.data;if(e&&e.length&&(t.isArray(e)||(e=e.split(i.initialPreviewDelimiter)),e.filter(function(e){return null!==e}).length)){if(void 0===a.content&&(a.content=[]),void 0===a.config&&(a.config=[]),void 0===a.tags&&(a.tags=[]),o){for(s=0;s<e.length;s++)e[s]&&a.content.push(e[s]);for(s=0;s<n.length;s++)n[s]&&a.config.push(n[s]);for(s=0;s<r.length;s++)r[s]&&a.tags.push(r[s])}else a.content=e,a.config=n,a.tags=r;i.previewCache.data=a}},unset:function(e){var n=i.previewCache.count(),r=i.reversePreviewOrder;if(n){if(1===n)return i.previewCache.data.content=[],i.previewCache.data.config=[],i.previewCache.data.tags=[],i.initialPreview=[],i.initialPreviewConfig=[],void(i.initialPreviewThumbTags=[]);i.previewCache.data.content=t.spliceArray(i.previewCache.data.content,e,r),i.previewCache.data.config=t.spliceArray(i.previewCache.data.config,e,r),i.previewCache.data.tags=t.spliceArray(i.previewCache.data.tags,e,r)}},out:function(){var e,t,n="",r=i.previewCache.count();if(0===r)return{content:"",caption:""};for(e=0;e<r;e++)t=i.previewCache.get(e),n=i.reversePreviewOrder?t+n:n+t;return{content:n,caption:i._getMsgSelected(r)}},footer:function(e,n,r){var o=i.previewCache.data||{};if(t.isEmpty(o.content))return"";(t.isEmpty(o.config)||t.isEmpty(o.config[e]))&&(o.config[e]={}),n=void 0===n||n;var s,a=o.config[e],l=t.ifSet("caption",a),c=t.ifSet("width",a,"auto"),u=t.ifSet("url",a,!1),d=t.ifSet("key",a,null),h=i.fileActionSettings,p=i.initialPreviewShowDelete||!1,f=a.downloadUrl||i.initialPreviewDownloadUrl||"",m=a.filename||a.caption||"",g=!!f,v=t.ifSet("showRemove",a,t.ifSet("showRemove",h,p)),y=t.ifSet("showDownload",a,t.ifSet("showDownload",h,g)),b=t.ifSet("showZoom",a,t.ifSet("showZoom",h,!0)),w=t.ifSet("showDrag",a,t.ifSet("showDrag",h,!0)),x=!1===u&&n;return y=y&&!1!==a.downloadUrl&&!!f,s=i._renderFileActions(!1,y,v,b,w,x,u,d,!0,f,m),i._getLayoutTemplate("footer").setTokens({progress:i._renderThumbProgress(),actions:s,caption:l,size:i._getSize(r),width:c,indicator:""})}},i.previewCache.init()},_isPdfRendered:function(){var e=this.usePdfRenderer;return("function"===typeof e?e():!!e)&&this.pdfRendererUrl},_handler:function(e,t,i){var n=this.namespace,r=t.split(" ").join(n+" ")+n;e&&e.length&&e.off(r).on(r,i)},_encodeURI:function(e){return this.encodeUrl?encodeURI(e):e},_log:function(e){var t=this.$element.attr("id");t&&(e='"'+t+'": '+e),e="bootstrap-fileinput: "+e,"undefined"!==typeof window.console.log?window.console.log(e):window.alert(e)},_validate:function(){var e="file"===this.$element.attr("type");return e||this._log('The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.'),e},_errorsExist:function(){var t;return!!this.$errorContainer.find("li").length||((t=e(document.createElement("div")).html(this.$errorContainer.html())).find(".kv-error-close").remove(),t.find("ul").remove(),!!e.trim(t.text()).length)},_errorHandler:function(e,t){var i=this,n=e.target.error,r=function(e){i._showError(e.replace("{name}",t))};n.code===n.NOT_FOUND_ERR?r(i.msgFileNotFound):n.code===n.SECURITY_ERR?r(i.msgFileSecured):n.code===n.NOT_READABLE_ERR?r(i.msgFileNotReadable):n.code===n.ABORT_ERR?r(i.msgFilePreviewAborted):r(i.msgFilePreviewError)},_addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),t._handler(i.find(".kv-error-close"),"click",function(){setTimeout(function(){t.showPreview&&!t.getFrames().length&&t.clear(),i.fadeOut("slow")},10)}))},_setValidationError:function(e){e=(e?e+" ":"")+"has-error",this.$container.removeClass(e).addClass("has-error"),t.addCss(this.$captionContainer,"is-invalid")},_resetErrors:function(e){var t=this.$errorContainer;this.isError=!1,this.$container.removeClass("has-error"),this.$captionContainer.removeClass("is-invalid"),t.html(""),e?t.fadeOut("slow"):t.hide()},_showFolderError:function(e){var t,i=this.$errorContainer;e&&(this.isAjaxUpload||this._clearFileInput(),t=this.msgFoldersNotAllowed.replace("{n}",e),this._addError(t),this._setValidationError(),i.fadeIn(800),this._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,i){var n=this.$errorContainer,r=i||"fileuploaderror",o=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===n.find("ul").length?this._addError("<ul>"+o+"</ul>"):n.find("ul").append(o),n.fadeIn(800),this._raise(r,[t,e]),this._setValidationError("file-input-new"),!0},_showError:function(e,t,i){var n=this.$errorContainer,r=i||"fileerror";return(t=t||{}).reader=this.reader,this._addError(e),n.fadeIn(800),this._raise(r,[t,e]),this.isAjaxUpload||this._clearFileInput(),this._setValidationError("file-input-new"),this.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this.minFileCount>1?this.filePlural:this.fileSingle,i=this.msgFilesTooLess.replace("{n}",this.minFileCount).replace("{files}",t),n=this.$errorContainer;this._addError(i),this.isError=!0,this._updateFileDetails(0),n.fadeIn(800),this._raise("fileerror",[e,i]),this._clearFileInput(),this._setValidationError()},_parseError:function(t,i,n,r){var o,s=e.trim(n+""),a=void 0!==i.responseJSON&&void 0!==i.responseJSON.error?i.responseJSON.error:i.responseText;return this.cancelling&&this.msgUploadAborted&&(s=this.msgUploadAborted),this.showAjaxErrorDetails&&a&&(o=(a=e.trim(a.replace(/\n\s*\n/g,"\n"))).length?"<pre>"+a+"</pre>":"",s+=s?o:a),s||(s=this.msgAjaxError.replace("{operation}",t)),this.cancelling=!1,r?"<b>"+r+": </b>"+s:s},_parseFileType:function(e,i){var n,r,o,s=this.allowedPreviewTypes||[];if("application/text-plain"===e)return"text";for(o=0;o<s.length;o++)if(r=s[o],n=(0,this.fileTypeSettings[r])(e,i)?r:"",!t.isEmpty(n))return n;return"other"},_getPreviewIcon:function(t){var i,n=this,r=null;return t&&t.indexOf(".")>-1&&(i=t.split(".").pop(),n.previewFileIconSettings&&(r=n.previewFileIconSettings[i]||n.previewFileIconSettings[i.toLowerCase()]||null),n.previewFileExtSettings&&e.each(n.previewFileExtSettings,function(e,t){n.previewFileIconSettings[e]&&t(i)&&(r=n.previewFileIconSettings[e])})),r},_parseFilePreviewIcon:function(e,t){var i=this._getPreviewIcon(t)||this.previewFileIcon,n=e;return n.indexOf("{previewFileIcon}")>-1&&(n=n.setTokens({previewFileIconClass:this.previewFileIconClass,previewFileIcon:i})),n},_raise:function(t,i){var n=e.Event(t);if(void 0!==i?this.$element.trigger(n,i):this.$element.trigger(n),n.isDefaultPrevented()||!1===n.result)return!1;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:this.ajaxAborted||(this.ajaxAborted=n.result)}return!0},_listenFullScreen:function(e){var t,i,n=this.$modal;n&&n.length&&(t=n&&n.find(".btn-fullscreen"),i=n&&n.find(".btn-borderless"),t.length&&i.length&&(t.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),n.hasClass("file-zoom-fullscreen")?this._maximizeZoomDialog():e?this._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var i,n=this,r=n.$element,o=n.$form,s=n.$container;n._handler(r,"click",function(e){r.hasClass("file-no-browse")&&(r.data("zoneClicked")?r.data("zoneClicked",!1):e.preventDefault())}),n._handler(r,"change",e.proxy(n._change,n)),n.showBrowse&&n._handler(n.$btnFile,"click",e.proxy(n._browse,n)),n._handler(s.find(".fileinput-remove:not([disabled])"),"click",e.proxy(n.clear,n)),n._handler(s.find(".fileinput-cancel"),"click",e.proxy(n.cancel,n)),n._initDragDrop(),n._handler(o,"reset",e.proxy(n.clear,n)),n.isAjaxUpload||n._handler(o,"submit",e.proxy(n._submitForm,n)),n._handler(n.$container.find(".fileinput-upload"),"click",e.proxy(n._uploadClick,n)),n._handler(e(window),"resize",function(){n._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),i="webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",n._handler(e(document),i,function(){n._listenFullScreen(t.checkFullScreen())}),n._autoFitContent(),n._initClickable(),n._refreshPreview()},_autoFitContent:function(){var t,i=this,n=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<400?i.previewSettingsSmall||i.defaults.previewSettingsSmall:i.previewSettings||i.defaults.previewSettings;e.each(n,function(e,n){t=".file-preview-frame .file-preview-"+e,i.$preview.find(t+".kv-preview-data,"+t+" .kv-preview-data").css(n)})},_scanDroppedItems:function(e,t,i){i=i||"";var n,r,o,s=this,a=function(e){s._log("Error scanning dropped files!"),s._log(e)};e.isFile?e.file(function(e){t.push(e)},a):e.isDirectory&&(r=e.createReader(),(o=function(){r.readEntries(function(r){if(r&&r.length>0){for(n=0;n<r.length;n++)s._scanDroppedItems(r[n],t,i+e.name+"/");o()}return null},a)})())},_initDragDrop:function(){var t=this.$dropZone;this.dropZoneEnabled&&this.showPreview&&(this._handler(t,"dragenter dragover",e.proxy(this._zoneDragEnter,this)),this._handler(t,"dragleave",e.proxy(this._zoneDragLeave,this)),this._handler(t,"drop",e.proxy(this._zoneDrop,this)),this._handler(e(document),"dragenter dragover drop",this._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(i){var n=i.originalEvent.dataTransfer,r=e.inArray("Files",n.types)>-1;if(this._zoneDragDropInit(i),this.isDisabled||!r)return i.originalEvent.dataTransfer.effectAllowed="none",void(i.originalEvent.dataTransfer.dropEffect="none");this._raise("fileDragEnter",{sourceEvent:i,files:n.types.Files})&&t.addCss(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){this._zoneDragDropInit(e),this.isDisabled||this._raise("fileDragLeave",{sourceEvent:e})&&this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var i,n=this,r=n.$element,o=e.originalEvent.dataTransfer,s=o.files,a=o.items,l=t.getDragDropFolders(a),c=function(){n.isAjaxUpload?n._change(e,s):(n.changeTriggered=!0,r.get(0).files=s,setTimeout(function(){n.changeTriggered=!1,r.trigger("change"+n.namespace)},10)),n.$dropZone.removeClass("file-highlighted")};if(e.preventDefault(),!n.isDisabled&&!t.isEmpty(s)&&n._raise("fileDragDrop",{sourceEvent:e,files:s}))if(l>0){if(!n.isAjaxUpload)return void n._showFolderError(l);for(s=[],i=0;i<a.length;i++){var u=a[i].webkitGetAsEntry();u&&n._scanDroppedItems(u,s)}setTimeout(function(){c()},500)}else c()},_uploadClick:function(e){var i,n=this.$container.find(".fileinput-upload"),r=!n.hasClass("disabled")&&t.isEmpty(n.attr("disabled"));e&&e.isDefaultPrevented()||(this.isAjaxUpload?(e.preventDefault(),r&&this.upload()):r&&"submit"!==n.attr("type")&&((i=n.closest("form")).length&&i.trigger("submit"),e.preventDefault()))},_submitForm:function(){return this._isFileSelectionValid()&&!this._abort({})},_clearPreview:function(){var i=this.$preview;(this.showUploadedThumbs?this.getFrames(":not(.file-preview-success)"):this.getFrames()).each(function(){var n=e(this);n.remove(),t.cleanZoomCache(i.find("#zoom-"+n.attr("id")))}),this.getFrames().length&&this.showPreview||this._resetUpload(),this._validateDefaultPreview()},_initSortable:function(){var i,n=this,r=n.$preview,o="."+t.SORT_CSS,s=n.reversePreviewOrder;window.KvSortable&&0!==r.find(o).length&&(i={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:o,onSort:function(i){var r=i.oldIndex,o=i.newIndex,a=0;n.initialPreview=t.moveArray(n.initialPreview,r,o,s),n.initialPreviewConfig=t.moveArray(n.initialPreviewConfig,r,o,s),n.previewCache.init(),n.getFrames(".file-preview-initial").each(function(){e(this).attr("data-fileindex","init_"+a),a++}),n._raise("filesorted",{previewId:e(i.item).attr("id"),oldIndex:r,newIndex:o,stack:n.initialPreviewConfig})}},r.data("kvsortable")&&r.kvsortable("destroy"),e.extend(!0,i,n.fileActionSettings.dragSettings),r.kvsortable(i))},_setPreviewContent:function(e){this.$preview.html(e),this._autoFitContent()},_initPreview:function(e){var i,n=this.initialCaption||"";if(!this.previewCache.count())return this._clearPreview(),void(e?this._setCaption(n):this._initCaption());i=this.previewCache.out(),n=e&&this.initialCaption?this.initialCaption:i.caption,this._setPreviewContent(i.content),this._setInitThumbAttr(),this._setCaption(n),this._initSortable(),t.isEmpty(i.content)||this.$container.removeClass("file-input-new")},_getZoomButton:function(e){var t=this.previewZoomButtonIcons[e],i=this.previewZoomButtonClasses[e],n=' title="'+(this.previewZoomButtonTitles[e]||"")+'" '+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(n+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+i+" btn-"+e+'"'+n+">"+t+"</button>"},_getModalContent:function(){return this._getLayoutTemplate("modal").setTokens({rtl:this.rtl?" kv-rtl":"",zoomFrameClass:this.frameClass,heading:this.msgZoomModalHeading,prev:this._getZoomButton("prev"),next:this._getZoomButton("next"),toggleheader:this._getZoomButton("toggleheader"),fullscreen:this._getZoomButton("fullscreen"),borderless:this._getZoomButton("borderless"),close:this._getZoomButton("close")})},_listenModalEvent:function(e){var i=this,n=i.$modal;n.on(e+".bs.modal",function(r){var o=n.find(".btn-fullscreen"),s=n.find(".btn-borderless");i._raise("filezoom"+e,function(e){return{sourceEvent:e,previewId:n.data("previewId"),modal:n}}(r)),"shown"===e&&(s.removeClass("active").attr("aria-pressed","false"),o.removeClass("active").attr("aria-pressed","false"),n.hasClass("file-zoom-fullscreen")&&(i._maximizeZoomDialog(),t.checkFullScreen()?o.addClass("active").attr("aria-pressed","true"):s.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var i,n=this,r=n._getLayoutTemplate("modalMain"),o="#"+t.MODAL_ID;n.showPreview&&(n.$modal=e(o),n.$modal&&n.$modal.length||(i=e(document.createElement("div")).html(r).insertAfter(n.$container),n.$modal=e(o).insertBefore(i),i.remove()),t.initModal(n.$modal),n.$modal.html(n._getModalContent()),e.each(t.MODAL_EVENTS,function(e,t){n._listenModalEvent(t)}))},_initZoomButtons:function(){var t,i,n=this.$modal.data("previewId")||"",r=this.getFrames().toArray(),o=r.length,s=this.$modal.find(".btn-prev"),a=this.$modal.find(".btn-next");if(r.length<2)return s.hide(),void a.hide();s.show(),a.show(),o&&(t=e(r[0]),i=e(r[o-1]),s.removeAttr("disabled"),a.removeAttr("disabled"),t.length&&t.attr("id")===n&&s.attr("disabled",!0),i.length&&i.attr("id")===n&&a.attr("disabled",!0))},_maximizeZoomDialog:function(){var t=this.$modal,i=t.find(".modal-header:visible"),n=t.find(".modal-footer:visible"),r=t.find(".modal-body"),o=e(window).height();t.addClass("file-zoom-fullscreen"),i&&i.length&&(o-=i.outerHeight(!0)),n&&n.length&&(o-=n.outerHeight(!0)),r&&r.length&&(o-=r.outerHeight(!0)-r.height()),t.find(".kv-zoom-body").height(o)},_resizeZoomDialog:function(e){var i=this.$modal,n=i.find(".btn-fullscreen"),r=i.find(".btn-borderless");if(i.hasClass("file-zoom-fullscreen"))t.toggleFullScreen(!1),e?n.hasClass("active")||(i.removeClass("file-zoom-fullscreen"),this._resizeZoomDialog(!0),r.hasClass("active")&&r.removeClass("active").attr("aria-pressed","false")):n.hasClass("active")?n.removeClass("active").attr("aria-pressed","false"):(i.removeClass("file-zoom-fullscreen"),this.$modal.find(".kv-zoom-body").css("height",this.zoomModalHeight));else{if(!e)return void this._maximizeZoomDialog();t.toggleFullScreen(!0)}i.focus()},_setZoomContent:function(i,n){var r,o,s,a,l,c,u,d,h=this,p=i.attr("id"),f=h.$preview.find("#zoom-"+p),m=h.$modal,g=m.find(".btn-fullscreen"),v=m.find(".btn-borderless"),y=m.find(".btn-toggleheader");o=f.attr("data-template")||"generic",s=(r=f.find(".kv-file-content")).length?r.html():"",a=(i.data("caption")||"")+" "+(i.data("size")||""),m.find(".kv-zoom-title").attr("title",e("<div/>").html(a).text()).html(a),l=m.find(".kv-zoom-body"),m.removeClass("kv-single-content"),n?(d=l.addClass("file-thumb-loading").clone().insertAfter(l),l.html(s).hide(),d.fadeOut("fast",function(){l.fadeIn("fast",function(){l.removeClass("file-thumb-loading")}),d.remove()})):l.html(s),(u=h.previewZoomSettings[o])&&(c=l.find(".kv-preview-data"),t.addCss(c,"file-zoom-detail"),e.each(u,function(e,t){c.css(e,t),(c.attr("width")&&"width"===e||c.attr("height")&&"height"===e)&&c.removeAttr(e)})),m.data("previewId",p),h._handler(m.find(".btn-prev"),"click",function(){h._zoomSlideShow("prev",p)}),h._handler(m.find(".btn-next"),"click",function(){h._zoomSlideShow("next",p)}),h._handler(g,"click",function(){h._resizeZoomDialog(!0)}),h._handler(v,"click",function(){h._resizeZoomDialog(!1)}),h._handler(y,"click",function(){var e,t=m.find(".modal-header"),i=m.find(".modal-body .floating-buttons"),n=t.find(".kv-zoom-actions"),r=function(e){var i=h.$modal.find(".kv-zoom-body"),n=h.zoomModalHeight;m.hasClass("file-zoom-fullscreen")&&(n=i.outerHeight(!0),e||(n-=t.outerHeight(!0))),i.css("height",e?n+e:n)};t.is(":visible")?(e=t.outerHeight(!0),t.slideUp("slow",function(){n.find(".btn").appendTo(i),r(e)})):(i.find(".btn").appendTo(n),t.slideDown("slow",function(){r()})),m.focus()}),h._handler(m,"keydown",function(t){var i=t.which||t.keyCode,n=e(this).find(".btn-prev"),r=e(this).find(".btn-next"),o=e(this).data("previewId"),s=h.rtl?39:37,a=h.rtl?37:39;i===s&&n.length&&!n.attr("disabled")&&h._zoomSlideShow("prev",o),i===a&&r.length&&!r.attr("disabled")&&h._zoomSlideShow("next",o)})},_zoomPreview:function(e){var i,n=this.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";t.initModal(n),n.html(this._getModalContent()),i=e.closest(t.FRAMES),this._setZoomContent(i),n.modal("show"),this._initZoomButtons()},_zoomSlideShow:function(t,i){var n,r,o,s=this.$modal.find(".kv-zoom-actions .btn-"+t),a=this.getFrames().toArray(),l=a.length;if(!s.attr("disabled")){for(r=0;r<l;r++)if(e(a[r]).attr("id")===i){o="prev"===t?r-1:r+1;break}o<0||o>=l||!a[o]||((n=e(a[o])).length&&this._setZoomContent(n,!0),this._initZoomButtons(),this._raise("filezoom"+t,{previewId:i,modal:this.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var i=e(this);t._handler(i,"click",function(){t._zoomPreview(i)})})},_inputFileCount:function(){return this.$element.get(0).files.length},_refreshPreview:function(){var e;this._inputFileCount()&&this.showPreview&&this.isPreviewable&&(this.isAjaxUpload?(e=this.getFileStack(),this.filestack=[],e.length?this._clearFileInput():e=this.$element.get(0).files):e=this.$element.get(0).files,e&&e.length&&(this.readFiles(e),this._setFileDropZoneTitle()))},_clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var t,i,n,r=this.$element;this._inputFileCount()&&(t=r.closest("form"),i=e(document.createElement("form")),n=e(document.createElement("div")),r.before(n),t.length?t.after(i):n.after(i),i.append(r).trigger("reset"),n.before(r).remove(),i.remove())},_resetUpload:function(){this.uploadCache={content:[],config:[],tags:[],append:!0},this.uploadCount=0,this.uploadStatus={},this.uploadLog=[],this.uploadAsyncCount=0,this.loadedImages=[],this.totalImagesCount=0,this.$btnUpload.removeAttr("disabled"),this._setProgress(0),this.$progress.hide(),this._resetErrors(!1),this.ajaxAborted=!1,this.ajaxRequests=[],this._resetCanvas(),this.cacheInitialPreview={},this.overwriteInitial&&(this.initialPreview=[],this.initialPreviewConfig=[],this.initialPreviewThumbTags=[],this.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){this.canvas&&this.imageCanvasContext&&this.imageCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&this.previewCache.count()},_resetPreview:function(){var e,t;this.previewCache.count()?(e=this.previewCache.out(),this._setPreviewContent(e.content),this._setInitThumbAttr(),t=this.initialCaption?this.initialCaption:e.caption,this._setCaption(t)):(this._clearPreview(),this._initCaption()),this.showPreview&&(this._initZoom(),this._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){this.showPreview&&!t.isEmpty(this.defaultPreviewContent)&&(this._setPreviewContent('<div class="file-default-preview">'+this.defaultPreviewContent+"</div>"),this.$container.removeClass("file-input-new"),this._initClickable())},_resetPreviewThumbs:function(e){var t;if(e)return this._clearPreview(),void this.clearStack();this._hasInitialPreview()?(t=this.previewCache.out(),this._setPreviewContent(t.content),this._setInitThumbAttr(),this._setCaption(t.caption),this._initPreviewActions()):this._clearPreview()},_getLayoutTemplate:function(e){var i=this.layoutTemplates[e];return t.isEmpty(this.customLayoutTags)?i:t.replaceTags(i,this.customLayoutTags)},_getPreviewTemplate:function(e){var i=this.previewTemplates[e];return t.isEmpty(this.customPreviewTags)?i:t.replaceTags(i,this.customPreviewTags)},_getOutData:function(e,t,i){return e=e||{},t=t||{},i=i||this.filestack.slice(0)||{},{form:this.formdata,files:i,filenames:this.filenames,filescount:this.getFilesCount(),extra:this._getExtraData(),response:t,reader:this.reader,jqXHR:e}},_getMsgSelected:function(e){var t=1===e?this.fileSingle:this.filePlural;return e>0?this.msgSelected.replace("{n}",e).replace("{files}",t):this.msgNoFilesSelected},_getFrame:function(t){var i=e("#"+t);return i.length?i:(this._log('Invalid thumb frame with id: "'+t+'".'),null)},_getThumbs:function(e){return e=e||"",this.getFrames(":not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this.uploadExtraData;return"function"===typeof this.uploadExtraData&&(i=this.uploadExtraData(e,t)),i},_initXhr:function(e,t,i){var n=this;return e.upload&&e.upload.addEventListener("progress",function(e){var r=0,o=e.total,s=e.loaded||e.position;e.lengthComputable&&(r=Math.floor(s/o*100)),t?n._setAsyncUploadStatus(t,r,i):n._setProgress(r)},!1),e},_initAjaxSettings:function(){this._ajaxSettings=e.extend(!0,{},this.ajaxSettings),this._ajaxDeleteSettings=e.extend(!0,{},this.ajaxDeleteSettings)},_mergeAjaxCallback:function(e,t,i){var n,r=this._ajaxSettings,o=this.mergeAjaxCallbacks;"delete"===i&&(r=this._ajaxDeleteSettings,o=this.mergeAjaxDeleteCallbacks),n=r[e],r[e]=o&&"function"===typeof n?"before"===o?function(){n.apply(this,arguments),t.apply(this,arguments)}:function(){t.apply(this,arguments),n.apply(this,arguments)}:t},_ajaxSubmit:function(t,i,n,r,o,s){var a,l,c=this;c._raise("filepreajax",[o,s])&&(c._uploadExtra(o,s),c._initAjaxSettings(),c._mergeAjaxCallback("beforeSend",t),c._mergeAjaxCallback("success",i),c._mergeAjaxCallback("complete",n),c._mergeAjaxCallback("error",r),l=s&&c.uploadUrlThumb?c.uploadUrlThumb:c.uploadUrl,a=e.extend(!0,{},{xhr:function(){var t=e.ajaxSettings.xhr();return c._initXhr(t,o,c.getFileStack().length)},url:c._encodeURI(l),type:"POST",dataType:"json",data:c.formdata,cache:!1,processData:!1,contentType:!1},c._ajaxSettings),c.ajaxRequests.push(e.ajax(a)))},_mergeArray:function(e,i){var n=t.cleanArray(this[e]),r=t.cleanArray(i);this[e]=n.concat(r)},_initUploadSuccess:function(i,n,r){var o,s,a,l,c,u,d,h,p,f=this;f.showPreview&&"object"===typeof i&&!e.isEmptyObject(i)&&void 0!==i.initialPreview&&i.initialPreview.length>0&&(f.hasInitData=!0,u=i.initialPreview||[],d=i.initialPreviewConfig||[],h=i.initialPreviewThumbTags||[],o=void 0===i.append||i.append,u.length>0&&!t.isArray(u)&&(u=u.split(f.initialPreviewDelimiter)),f._mergeArray("initialPreview",u),f._mergeArray("initialPreviewConfig",d),f._mergeArray("initialPreviewThumbTags",h),void 0!==n?r?(p=n.attr("data-fileindex"),f.uploadCache.content[p]=u[0],f.uploadCache.config[p]=d[0]||[],f.uploadCache.tags[p]=h[0]||[],f.uploadCache.append=o):(a=f.previewCache.add(u,d[0],h[0],o),s=f.previewCache.get(a,!1),(c=(l=e(document.createElement("div")).html(s).hide().insertAfter(n)).find(".kv-zoom-cache"))&&c.length&&c.insertAfter(n),n.fadeOut("slow",function(){var e=l.find(".file-preview-frame");e&&e.length&&e.insertBefore(n).fadeIn("slow").css("display:inline-block"),f._initPreviewActions(),f._clearFileInput(),t.cleanZoomCache(f.$preview.find("#zoom-"+n.attr("id"))),n.remove(),l.remove(),f._initSortable()})):(f.previewCache.set(u,d,h,o),f._initPreview(),f._initPreviewActions()))},_initSuccessThumbs:function(){var i=this;i.showPreview&&i._getThumbs(t.FRAMES+".file-preview-success").each(function(){var n=e(this),r=i.$preview,o=n.find(".kv-file-remove");o.removeAttr("disabled"),i._handler(o,"click",function(){var e=n.attr("id"),o=i._raise("filesuccessremove",[e,n.attr("data-fileindex")]);t.cleanMemory(n),!1!==o&&n.fadeOut("slow",function(){t.cleanZoomCache(r.find("#zoom-"+e)),n.remove(),i.getFrames().length||i.reset()})})})},_checkAsyncComplete:function(){var t,i;for(i=0;i<this.filestack.length;i++)if(this.filestack[i]&&(t=this.previewInitId+"-"+i,-1===e.inArray(t,this.uploadLog)))return!1;return this.uploadAsyncCount===this.uploadLog.length},_uploadExtra:function(t,i){var n=this,r=n._getExtraData(t,i);0!==r.length&&e.each(r,function(e,t){n.formdata.append(e,t)})},_uploadSingle:function(i,n){var r,o,s,a,l,c,u,d,h,p,f,m=this,g=m.getFileStack().length,v=new FormData,y=m.previewInitId+"-"+i,b=m.filestack.length>0||!e.isEmptyObject(m.uploadExtraData),w=e("#"+y).find(".file-thumb-progress"),x={id:y,index:i};m.formdata=v,m.showPreview&&(o=e("#"+y+":not(.file-preview-initial)"),a=o.find(".kv-file-upload"),l=o.find(".kv-file-remove"),w.show()),0===g||!b||a&&a.hasClass("disabled")||m._abort(x)||(f=function(e,t){c||m.updateStack(e,void 0),m.uploadLog.push(t),m._checkAsyncComplete()&&(m.fileBatchCompleted=!0)},s=function(){var e,i,n,r=m.uploadCache,o=0,s=m.cacheInitialPreview;m.fileBatchCompleted&&(s&&s.content&&(o=s.content.length),setTimeout(function(){var a=0===m.getFileStack(!0).length;if(m.showPreview){if(m.previewCache.set(r.content,r.config,r.tags,r.append),o){for(i=0;i<r.content.length;i++)n=i+o,s.content[n]=r.content[i],s.config.length&&(s.config[n]=r.config[i]),s.tags.length&&(s.tags[n]=r.tags[i]);m.initialPreview=t.cleanArray(s.content),m.initialPreviewConfig=t.cleanArray(s.config),m.initialPreviewThumbTags=t.cleanArray(s.tags)}else m.initialPreview=r.content,m.initialPreviewConfig=r.config,m.initialPreviewThumbTags=r.tags;m.cacheInitialPreview={},m.hasInitData&&(m._initPreview(),m._initPreviewActions())}m.unlock(a),a&&m._clearFileInput(),e=m.$preview.find(".file-preview-initial"),m.uploadAsync&&e.length&&(t.addCss(e,t.SORT_CSS),m._initSortable()),m._raise("filebatchuploadcomplete",[m.filestack,m._getExtraData()]),m.uploadCount=0,m.uploadStatus={},m.uploadLog=[],m._setProgress(101),m.ajaxAborted=!1},100))},u=function(s){r=m._getOutData(s),m.fileBatchCompleted=!1,n||(m.ajaxAborted=!1),m.showPreview&&(o.hasClass("file-preview-success")||(m._setThumbStatus(o,"Loading"),t.addCss(o,"file-uploading")),a.attr("disabled",!0),l.attr("disabled",!0)),n||m.lock(),m._raise("filepreupload",[r,y,i]),e.extend(!0,x,r),m._abort(x)&&(s.abort(),n||(m._setThumbStatus(o,"New"),o.removeClass("file-uploading"),a.removeAttr("disabled"),l.removeAttr("disabled"),m.unlock()),m._setProgressCancelled())},d=function(s,l,u){var d=m.showPreview&&o.attr("id")?o.attr("id"):y;r=m._getOutData(u,s),e.extend(!0,x,r),setTimeout(function(){t.isEmpty(s)||t.isEmpty(s.error)?(m.showPreview&&(m._setThumbStatus(o,"Success"),a.hide(),m._initUploadSuccess(s,o,n),m._setProgress(101,w)),m._raise("fileuploaded",[r,d,i]),n?f(i,d):m.updateStack(i,void 0)):(c=!0,m._showUploadError(s.error,x),m._setPreviewError(o,i,m.filestack[i],m.retryErrorUploads),m.retryErrorUploads||a.hide(),n&&f(i,d),m._setProgress(101,e("#"+d).find(".file-thumb-progress"),m.msgUploadError))},100)},h=function(){setTimeout(function(){m.showPreview&&(a.removeAttr("disabled"),l.removeAttr("disabled"),o.removeClass("file-uploading")),n?s():(m.unlock(!1),m._clearFileInput()),m._initSuccessThumbs()},100)},p=function(t,r,s){var l=m.ajaxOperations.uploadThumb,u=m._parseError(l,t,s,n&&m.filestack[i].name?m.filestack[i].name:null);c=!0,setTimeout(function(){n&&f(i,y),m.uploadStatus[y]=100,m._setPreviewError(o,i,m.filestack[i],m.retryErrorUploads),m.retryErrorUploads||a.hide(),e.extend(!0,x,m._getOutData(t)),m._setProgress(101,w,m.msgAjaxProgressError.replace("{operation}",l)),m._setProgress(101,e("#"+y).find(".file-thumb-progress"),m.msgUploadError),m._showUploadError(u,x)},100)},v.append(m.uploadFileAttr,m.filestack[i],m.filenames[i]),v.append("file_id",i),m._ajaxSubmit(u,d,h,p,y,i))},_uploadBatch:function(){var i,n,r,o,s,a=this,l=a.filestack,c=l.length,u=a.filestack.length>0||!e.isEmptyObject(a.uploadExtraData);a.formdata=new FormData,0!==c&&u&&!a._abort({})&&(s=function(){e.each(l,function(e){a.updateStack(e,void 0)}),a._clearFileInput()},i=function(i){a.lock();var n=a._getOutData(i);a.ajaxAborted=!1,a.showPreview&&a._getThumbs().each(function(){var i=e(this),n=i.find(".kv-file-upload"),r=i.find(".kv-file-remove");i.hasClass("file-preview-success")||(a._setThumbStatus(i,"Loading"),t.addCss(i,"file-uploading")),n.attr("disabled",!0),r.attr("disabled",!0)}),a._raise("filebatchpreupload",[n]),a._abort(n)&&(i.abort(),a._getThumbs().each(function(){var t=e(this),i=t.find(".kv-file-upload"),n=t.find(".kv-file-remove");t.hasClass("file-preview-loading")&&(a._setThumbStatus(t,"New"),t.removeClass("file-uploading")),i.removeAttr("disabled"),n.removeAttr("disabled")}),a._setProgressCancelled())},n=function(i,n,r){var o=a._getOutData(r,i),l=0,c=a._getThumbs(":not(.file-preview-success)"),u=t.isEmpty(i)||t.isEmpty(i.errorkeys)?[]:i.errorkeys;t.isEmpty(i)||t.isEmpty(i.error)?(a._raise("filebatchuploadsuccess",[o]),s(),a.showPreview?(c.each(function(){var t=e(this);a._setThumbStatus(t,"Success"),t.removeClass("file-uploading"),t.find(".kv-file-upload").hide().removeAttr("disabled")}),a._initUploadSuccess(i)):a.reset(),a._setProgress(101)):(a.showPreview&&(c.each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),t.find(".kv-file-upload").removeAttr("disabled"),t.find(".kv-file-remove").removeAttr("disabled"),0===u.length||-1!==e.inArray(l,u)?(a._setPreviewError(t,i,a.filestack[i],a.retryErrorUploads),a.retryErrorUploads||(t.find(".kv-file-upload").hide(),a.updateStack(i,void 0))):(t.find(".kv-file-upload").hide(),a._setThumbStatus(t,"Success"),a.updateStack(i,void 0)),t.hasClass("file-preview-error")&&!a.retryErrorUploads||l++}),a._initUploadSuccess(i)),a._showUploadError(i.error,o,"filebatchuploaderror"),a._setProgress(101,a.$progress,a.msgUploadError))},o=function(){a.unlock(),a._initSuccessThumbs(),a._clearFileInput(),a._raise("filebatchuploadcomplete",[a.filestack,a._getExtraData()])},r=function(t,i,n){var r=a._getOutData(t),o=a.ajaxOperations.uploadBatch,s=a._parseError(o,t,n);a._showUploadError(s,r,"filebatchuploaderror"),a.uploadFileCount=c-1,a.showPreview&&(a._getThumbs().each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==a.filestack[i]&&a._setPreviewError(t)}),a._getThumbs().removeClass("file-uploading"),a._getThumbs(" .kv-file-upload").removeAttr("disabled"),a._getThumbs(" .kv-file-delete").removeAttr("disabled"),a._setProgress(101,a.$progress,a.msgAjaxProgressError.replace("{operation}",o)))},e.each(l,function(e,i){t.isEmpty(l[e])||a.formdata.append(a.uploadFileAttr,i,a.filenames[e])}),a._ajaxSubmit(i,n,o,r))},_uploadExtraOnly:function(){var e,i,n,r,o=this,s={};o.formdata=new FormData,o._abort(s)||(e=function(e){o.lock();var t=o._getOutData(e);o._raise("filebatchpreupload",[t]),o._setProgress(50),s.data=t,s.xhr=e,o._abort(s)&&(e.abort(),o._setProgressCancelled())},i=function(e,i,n){var r=o._getOutData(n,e);t.isEmpty(e)||t.isEmpty(e.error)?(o._raise("filebatchuploadsuccess",[r]),o._clearFileInput(),o._initUploadSuccess(e),o._setProgress(101)):o._showUploadError(e.error,r,"filebatchuploaderror")},n=function(){o.unlock(),o._clearFileInput(),o._raise("filebatchuploadcomplete",[o.filestack,o._getExtraData()])},r=function(e,t,i){var n=o._getOutData(e),r=o.ajaxOperations.uploadExtra,a=o._parseError(r,e,i);s.data=n,o._showUploadError(a,n,"filebatchuploaderror"),o._setProgress(101,o.$progress,o.msgAjaxProgressError.replace("{operation}",r))},o._ajaxSubmit(e,i,n,r))},_deleteFileIndex:function(i){var n=i.attr("data-fileindex"),r=this.reversePreviewOrder;"init_"===n.substring(0,5)&&(n=parseInt(n.replace("init_","")),this.initialPreview=t.spliceArray(this.initialPreview,n,r),this.initialPreviewConfig=t.spliceArray(this.initialPreviewConfig,n,r),this.initialPreviewThumbTags=t.spliceArray(this.initialPreviewThumbTags,n,r),this.getFrames().each(function(){var t=e(this),i=t.attr("data-fileindex");"init_"===i.substring(0,5)&&(i=parseInt(i.replace("init_","")))>n&&(i--,t.attr("data-fileindex","init_"+i))}),this.uploadAsync&&(this.cacheInitialPreview=this.getPreview()))},_initFileActions:function(){var i=this,n=i.$preview;i.showPreview&&(i._initZoomButton(),i.getFrames(" .kv-file-remove").each(function(){var r,o,s,a=e(this),l=a.closest(t.FRAMES),c=l.attr("id"),u=l.attr("data-fileindex");i._handler(a,"click",function(){if(!1===i._raise("filepreremove",[c,u])||!i._validateMinCount())return!1;r=l.hasClass("file-preview-error"),t.cleanMemory(l),l.fadeOut("slow",function(){t.cleanZoomCache(n.find("#zoom-"+c)),i.updateStack(u,void 0),i._clearObjects(l),l.remove(),c&&r&&i.$errorContainer.find('li[data-file-id="'+c+'"]').fadeOut("fast",function(){e(this).remove(),i._errorsExist()||i._resetErrors()}),i._clearFileInput();var a=i.getFileStack(!0),d=i.previewCache.count(),h=a.length,p=i.showPreview&&i.getFrames().length;0!==h||0!==d||p?(s=(o=d+h)>1?i._getMsgSelected(o):a[0]?i._getFileNames()[0]:"",i._setCaption(s)):i.reset(),i._raise("fileremoved",[c,u])})})}),i.getFrames(" .kv-file-upload").each(function(){var n=e(this);i._handler(n,"click",function(){var e=n.closest(t.FRAMES),r=e.attr("data-fileindex");i.$progress.hide(),e.hasClass("file-preview-error")&&!i.retryErrorUploads||i._uploadSingle(r,!1)})}))},_initPreviewActions:function(){var i=this,n=i.$preview,r=i.deleteExtraData||{},o=t.FRAMES+" .kv-file-remove",s=i.fileActionSettings,a=s.removeClass,l=s.removeErrorClass,c=function(){var e=i.isAjaxUpload?i.previewCache.count():i._inputFileCount();n.find(t.FRAMES).length||e||(i._setCaption(""),i.reset(),i.initialCaption="")};i._initZoomButton(),n.find(o).each(function(){var o,s,u,d=e(this),h=d.data("url")||i.deleteUrl,p=d.data("key");if(!t.isEmpty(h)&&void 0!==p){var f,m,g,v,y=d.closest(t.FRAMES),b=i.previewCache.data,w=y.attr("data-fileindex");w=parseInt(w.replace("init_","")),g=t.isEmpty(b.config)&&t.isEmpty(b.config[w])?null:b.config[w],"function"===typeof(v=t.isEmpty(g)||t.isEmpty(g.extra)?r:g.extra)&&(v=v()),m={id:d.attr("id"),key:p,extra:v},o=function(e){i.ajaxAborted=!1,i._raise("filepredelete",[p,e,v]),i._abort()?e.abort():(d.removeClass(l),t.addCss(y,"file-uploading"),t.addCss(d,"disabled "+a))},s=function(e,r,o){var s,u;if(!t.isEmpty(e)&&!t.isEmpty(e.error))return m.jqXHR=o,m.response=e,i._showError(e.error,m,"filedeleteerror"),y.removeClass("file-uploading"),d.removeClass("disabled "+a).addClass(l),void c();y.removeClass("file-uploading").addClass("file-deleted"),y.fadeOut("slow",function(){w=parseInt(y.attr("data-fileindex").replace("init_","")),i.previewCache.unset(w),i._deleteFileIndex(y),s=i.previewCache.count(),u=s>0?i._getMsgSelected(s):"",i._setCaption(u),i._raise("filedeleted",[p,o,v]),t.cleanZoomCache(n.find("#zoom-"+y.attr("id"))),i._clearObjects(y),y.remove(),c()})},u=function(e,t,n){var r=i.ajaxOperations.deleteThumb,o=i._parseError(r,e,n);m.jqXHR=e,m.response={},i._showError(o,m,"filedeleteerror"),y.removeClass("file-uploading"),d.removeClass("disabled "+a).addClass(l),c()},i._initAjaxSettings(),i._mergeAjaxCallback("beforeSend",o,"delete"),i._mergeAjaxCallback("success",s,"delete"),i._mergeAjaxCallback("error",u,"delete"),f=e.extend(!0,{},{url:i._encodeURI(h),type:"POST",dataType:"json",data:e.extend(!0,{},{key:p},v)},i._ajaxDeleteSettings),i._handler(d,"click",function(){if(!i._validateMinCount())return!1;i.ajaxAborted=!1,i._raise("filebeforedelete",[p,v]),i.ajaxAborted instanceof Promise?i.ajaxAborted.then(function(t){t||e.ajax(f)}):i.ajaxAborted||e.ajax(f)})}})},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.removeClass("icon-visible")},_showFileIcon:function(){t.addCss(this.$captionContainer,"icon-visible")},_getSize:function(t){var i,n,r,o=parseFloat(t),s=this.fileSizeGetter;return e.isNumeric(t)&&e.isNumeric(o)?("function"===typeof s?r=s(o):0===o?r="0.00 B":(i=Math.floor(Math.log(o)/Math.log(1024)),n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=1*(o/Math.pow(1024,i)).toFixed(2)+" "+n[i]),this._getLayoutTemplate("size").replace("{sizeText}",r)):""},_getFileType:function(e){return this.mimeTypeAliases[e]||e},_generatePreviewTemplate:function(i,n,r,o,s,a,l,c,u,d,h){var p,f=this,m=f.slug(r),g="",v="",y=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<400?f.previewSettingsSmall[i]||f.defaults.previewSettingsSmall[i]:f.previewSettings[i]||f.defaults.previewSettings[i],b=u||f._renderFileFooter(m,l,"auto",a),w=f._getPreviewIcon(r),x="type-default",k=w&&f.preferIconicPreview,T=w&&f.preferIconicZoomPreview;return y&&e.each(y,function(e,t){v+=e+":"+t+";"}),p=function(n,a,l,u){var p=l?"zoom-"+s:s,g=f._getPreviewTemplate(n),y=(c||"")+" "+u;return f.frameClass&&(y=f.frameClass+" "+y),l&&(y=y.replace(" "+t.SORT_CSS,"")),g=f._parseFilePreviewIcon(g,r),"text"===n&&(a=t.htmlEncode(a)),"object"!==i||o||e.each(f.defaults.fileTypeSettings,function(e,t){"object"!==e&&"other"!==e&&t(r,o)&&(x="type-"+e)}),g.setTokens({previewId:p,caption:m,frameClass:y,type:f._getFileType(o),fileindex:d,typeCss:x,footer:b,data:a,template:h||i,style:v?'style="'+v+'"':""})},d=d||s.slice(s.lastIndexOf("-")+1),f.fileActionSettings.showZoom&&(g=p(T?"other":i,n,!0,"kv-zoom-thumb")),g="\n"+f._getLayoutTemplate("zoomCache").replace("{zoomContent}",g),p(k?"other":i,n,!1,"kv-preview-thumb")+g},_addToPreview:function(e,t){return this.reversePreviewOrder?e.prepend(t):e.append(t)},_previewDefault:function(i,n,r){var o=this.$preview;if(this.showPreview){var s,a=i?i.name:"",l=i?i.type:"",c=i.size||0,u=this.slug(a),d=!0===r&&!this.isAjaxUpload,h=t.createObjectURL(i);this._clearDefaultPreview(),s=this._generatePreviewTemplate("other",h,a,l,n,d,c),this._addToPreview(o,s),this._setThumbAttr(n,u,c),!0===r&&this.isAjaxUpload&&this._setThumbStatus(e("#"+n),"Error")}},_previewFile:function(e,t,i,n,r,o){if(this.showPreview){var s,a=t?t.name:"",l=o.type,c=o.name,u=this._parseFileType(l,a),d=this.allowedPreviewTypes,h=this.allowedPreviewMimeTypes,p=this.$preview,f=t.size||0,m=d&&d.indexOf(u)>=0,g=h&&-1!==h.indexOf(l),v="text"===u||"html"===u||"image"===u?i.target.result:r;if("html"===u&&this.purifyHtml&&window.DOMPurify&&(v=window.DOMPurify.sanitize(v)),m||g){s=this._generatePreviewTemplate(u,v,a,l,n,!1,f),this._clearDefaultPreview(),this._addToPreview(p,s);var y=p.find("#"+n+" img");this._validateImageOrientation(y,t,n,c,l,f,v)}else this._previewDefault(t,n);this._setThumbAttr(n,c,f),this._initSortable()}},_setThumbAttr:function(t,i,n){var r=e("#"+t);r.length&&(n=n&&n>0?this._getSize(n):"",r.data({caption:i,size:n}))},_setInitThumbAttr:function(){var e,i,n,r,o=this.previewCache.data,s=this.previewCache.count();if(0!==s)for(var a=0;a<s;a++)e=o.config[a],r=this.previewInitId+"-init_"+a,i=t.ifSet("caption",e,t.ifSet("filename",e)),n=t.ifSet("size",e),this._setThumbAttr(r,i,n)},_slugDefault:function(e){return t.isEmpty(e)?"":String(e).replace(/[\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_updateFileDetails:function(e){var i=this.$element,n=this.getFileStack(),r=t.isIE(9)&&t.findFileName(i.val())||i[0].files[0]&&i[0].files[0].name||n.length&&n[0].name||"",o=this.slug(r),s=this.isAjaxUpload?n.length:e,a=this.previewCache.count()+s,l=1===s?o:this._getMsgSelected(a);this.isError?(this.$previewContainer.removeClass("file-thumb-loading"),this.$previewStatus.html(""),this.$captionContainer.removeClass("icon-visible")):this._showFileIcon(),this._setCaption(l,this.isError),this.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&this._raise("fileselect",[e,o]),this.previewCache.count()&&this._initPreviewActions()},_setThumbStatus:function(e,t){if(this.showPreview){var i="indicator"+t,n=i+"Title",r="file-preview-"+t.toLowerCase(),o=e.find(".file-upload-indicator"),s=this.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Success"===t&&e.find(".file-drag-handle").remove(),o.html(s[i]),o.attr("title",s[n]),e.addClass(r),"Error"!==t||this.retryErrorUploads||e.find(".kv-file-upload").attr("disabled",!0)}},_setProgressCancelled:function(){this._setProgress(101,this.$progress,this.msgCancelled)},_setProgress:function(e,i,n){var r,o=Math.min(e,100),s=this.progressUploadThreshold,a=e<=100?this.progressTemplate:this.progressCompleteTemplate,l=o<100?this.progressTemplate:n?this.progressErrorTemplate:a;i=i||this.$progress,t.isEmpty(l)||(r=s&&o>s&&e<=100?l.setTokens({percent:s,status:this.msgUploadThreshold}):l.setTokens({percent:o,status:e>100?this.msgUploadEnd:o+"%"}),i.html(r),n&&i.find('[role="progressbar"]').html(n))},_setFileDropZoneTitle:function(){var e,i=this.$container.find(".file-drop-zone"),n=this.dropZoneTitle;this.isClickable&&(e=t.isEmpty(this.$element.attr("multiple"))?this.fileSingle:this.filePlural,n+=this.dropZoneClickTitle.replace("{files}",e)),i.find("."+this.dropZoneTitleClass).remove(),!this.showPreview||0===i.length||this.getFileStack().length>0||!this.dropZoneEnabled||!this.isAjaxUpload&&this.$element.files||(0===i.find(t.FRAMES).length&&t.isEmpty(this.defaultPreviewContent)&&i.prepend('<div class="'+this.dropZoneTitleClass+'">'+n+"</div>"),this.$container.removeClass("file-input-new"),t.addCss(this.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,i,n){var r=0;this._setProgress(i,e("#"+t).find(".file-thumb-progress")),this.uploadStatus[t]=i,e.each(this.uploadStatus,function(e,t){r+=t}),this._setProgress(Math.floor(r/n))},_validateMinCount:function(){var e=this.isAjaxUpload?this.getFileStack().length:this._inputFileCount();return!(this.validateInitialCount&&this.minFileCount>0&&this._getFileCount(e-1)<this.minFileCount)||(this._noFilesError({}),!1)},_getFileCount:function(e){return this.validateInitialCount&&!this.overwriteInitial&&(e+=this.previewCache.count()),e},_getFileId:function(e){var t,i=this.generateFileId;return"function"===typeof i?i(e,event):e&&(t=String(e.webkitRelativePath||e.fileName||e.name||null))?e.size+"-"+t.replace(/[^0-9a-zA-Z_-]/gim,""):null},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileIds:function(e){return this.fileids.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_getFileNames:function(e){return this.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_setPreviewError:function(e,t,i,n){void 0!==t&&this.updateStack(t,i),this.showPreview&&(!this.removeFromPreviewOnError||n?(this._setThumbStatus(e,"Error"),this._refreshUploadButton(e,n)):e.remove())},_refreshUploadButton:function(e,t){var i=e.find(".kv-file-upload"),n=this.fileActionSettings,r=n.uploadIcon,o=n.uploadTitle;i.length&&(t&&(r=n.uploadRetryIcon,o=n.uploadRetryTitle),i.attr("title",o).html(r))},_checkDimensions:function(e,i,n,r,o,s,a){var l,c,u,d=this[("Small"===i?"min":"max")+"Image"+s];!t.isEmpty(d)&&n.length&&(u=n[0],c="Width"===s?u.naturalWidth||u.width:u.naturalHeight||u.height,("Small"===i?c>=d:c<=d)||(l=this["msgImage"+s+i].setTokens({name:o,size:d}),this._showUploadError(l,a),this._setPreviewError(r,e,null)))},_getExifObj:function(e){var t=null;try{t=window.piexif?window.piexif.load(e):null}catch(e){t=null}return t||this._log("Error loading the piexif.js library."),t},_validateImageOrientation:function(e,i,n,r,o,s,a){var l,c;(c=(l=e.length&&this.autoOrientImage?this._getExifObj(a):null)?l["0th"][piexif.ImageIFD.Orientation]:null)?(t.setImageOrientation(e,this.$preview.find("#zoom-"+n+" img"),c),this._raise("fileimageoriented",{$img:e,file:i}),this._validateImage(n,r,o,s,a,l)):this._validateImage(n,r,o,s,a,l)},_validateImage:function(t,i,n,r,o,s){var a,l,c,u=this,d=u.$preview,h=d.find("#"+t),p=h.attr("data-fileindex"),f=h.find("img");i=i||"Untitled",f.one("load",function(){l=h.width(),c=d.width(),l>c&&f.css("width","100%"),a={ind:p,id:t},u._checkDimensions(p,"Small",f,h,i,"Width",a),u._checkDimensions(p,"Small",f,h,i,"Height",a),u.resizeImage||(u._checkDimensions(p,"Large",f,h,i,"Width",a),u._checkDimensions(p,"Large",f,h,i,"Height",a)),u._raise("fileimageloaded",[t]),u.loadedImages.push({ind:p,img:f,thumb:h,pid:t,typ:n,siz:r,validated:!1,imgData:o,exifObj:s}),h.data("exif",s),u._validateAllImages()}).one("error",function(){u._raise("fileimageloaderror",[t])}).each(function(){this.complete?e(this).trigger("load"):this.error&&e(this).trigger("error")})},_validateAllImages:function(){var e,t,i,n={val:0},r=this.loadedImages.length,o=this.resizeIfSizeMoreThan;if(r===this.totalImagesCount&&(this._raise("fileimagesloaded"),this.resizeImage))for(e=0;e<this.loadedImages.length;e++)(t=this.loadedImages[e]).validated||((i=t.siz)&&i>1e3*o&&this._getResizedImage(t,n,r),this.loadedImages[e].validated=!0)},_getResizedImage:function(i,n,r){var o,s,a,l,c,u,d=this,h=e(i.img)[0],p=h.naturalWidth,f=h.naturalHeight,m=1,g=d.maxImageWidth||p,v=d.maxImageHeight||f,y=!(!p||!f),b=d.imageCanvas,w=d.imageCanvasContext,x=i.typ,k=i.pid,T=i.ind,C=i.thumb,E=i.exifObj;if(c=function(e,t,i){d.isAjaxUpload?d._showUploadError(e,t,i):d._showError(e,t,i),d._setPreviewError(C,T)},d.filestack[T]&&y&&!(p<=g&&f<=v)||(y&&d.filestack[T]&&d._raise("fileimageresized",[k,T]),n.val++,n.val===r&&d._raise("fileimagesresized"),y)){x=x||d.resizeDefaultImageType,s=p>g,a=f>v,m="width"===d.resizePreference?s?g/p:a?v/f:1:a?v/f:s?g/p:1,d._resetCanvas(),p*=m,f*=m,b.width=p,b.height=f;try{w.drawImage(h,0,0,p,f),l=b.toDataURL(x,d.resizeQuality),E&&(u=window.piexif.dump(E),l=window.piexif.insert(u,l)),o=t.dataURI2Blob(l),d.filestack[T]=o,d._raise("fileimageresized",[k,T]),n.val++,n.val===r&&d._raise("fileimagesresized",[void 0,void 0]),o instanceof Blob||c(d.msgImageResizeError,{id:k,index:T},"fileimageresizeerror")}catch(e){n.val++,n.val===r&&d._raise("fileimagesresized",[void 0,void 0]),c(d.msgImageResizeException.replace("{errors}",e.message),{id:k,index:T},"fileimageresizeexception")}}else c(d.msgImageResizeError,{id:k,index:T},"fileimageresizeerror")},_initBrowse:function(e){var i=this.$element;this.showBrowse?this.$btnFile=e.find(".btn-file").append(i):(i.appendTo(e).attr("tabindex",-1),t.addCss(i,"file-no-browse"))},_initClickable:function(){var i,n,r=this;r.isClickable&&(i=r.$dropZone,r.isAjaxUpload||(n=r.$preview.find(".file-default-preview")).length&&(i=n),t.addCss(i,"clickable"),i.attr("tabindex",-1),r._handler(i,"click",function(t){var n=e(t.target);e(r.elErrorContainer+":visible").length||n.parents(".file-preview-thumbnails").length&&!n.parents(".file-default-preview").length||(r.$element.data("zoneClicked",!0).trigger("click"),i.blur())}))},_initCaption:function(){var e=this.initialCaption||"";return this.overwriteInitial||t.isEmpty(e)?(this.$caption.val(""),!1):(this._setCaption(e),!0)},_setCaption:function(i,n){var r,o,s,a,l,c=this.getFileStack();if(this.$caption.length){if(this.$captionContainer.removeClass("icon-visible"),n)r=e("<div>"+this.msgValidationError+"</div>").text(),l=(a=c.length)?1===a&&c[0]?this._getFileNames()[0]:this._getMsgSelected(a):this._getMsgSelected(this.msgNo),o=t.isEmpty(i)?l:i,s='<span class="'+this.msgValidationErrorClass+'">'+this.msgValidationErrorIcon+"</span>";else{if(t.isEmpty(i))return;o=r=e("<div>"+i+"</div>").text(),s=this._getLayoutTemplate("fileIcon")}this.$captionContainer.addClass("icon-visible"),this.$caption.attr("title",r).val(o),this.$captionIcon.html(s)}},_createContainer:function(){var t={class:"file-input file-input-new"+(this.rtl?" kv-rtl":"")},i=e(document.createElement("div")).attr(t).html(this._renderMain());return i.insertBefore(this.$element),this._initBrowse(i),this.theme&&i.addClass("theme-"+this.theme),i},_refreshContainer:function(){var e=this.$container;this.$element.insertAfter(e),e.html(this._renderMain()),this._initBrowse(e),this._validateDisabled()},_validateDisabled:function(){this.$caption.attr({readonly:this.isDisabled})},_renderMain:function(){var e=this.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",t=this.showClose?this._getLayoutTemplate("close"):"",i=this.showPreview?this._getLayoutTemplate("preview").setTokens({class:this.previewClass,dropClass:e}):"",n=this.isDisabled?this.captionClass+" file-caption-disabled":this.captionClass,r=this.captionTemplate.setTokens({class:n+" kv-fileinput-caption"});return this.mainTemplate.setTokens({class:this.mainClass+(!this.showBrowse&&this.showCaption?" no-browse":""),preview:i,close:t,caption:r,upload:this._renderButton("upload"),remove:this._renderButton("remove"),cancel:this._renderButton("cancel"),browse:this._renderButton("browse")})},_renderButton:function(e){var i=this._getLayoutTemplate("btnDefault"),n=this[e+"Class"],r=this[e+"Title"],o=this[e+"Icon"],s=this[e+"Label"],a=this.isDisabled?" disabled":"",l="button";switch(e){case"remove":if(!this.showRemove)return"";break;case"cancel":if(!this.showCancel)return"";n+=" kv-hidden";break;case"upload":if(!this.showUpload)return"";this.isAjaxUpload&&!this.isDisabled?i=this._getLayoutTemplate("btnLink").replace("{href}",this.uploadUrl):l="submit";break;case"browse":if(!this.showBrowse)return"";i=this._getLayoutTemplate("btnBrowse");break;default:return""}return n+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",t.isEmpty(s)||(s=' <span class="'+this.buttonLabelClass+'">'+s+"</span>"),i.setTokens({type:l,css:n,title:r,status:a,icon:o,label:s})},_renderThumbProgress:function(){return'<div class="file-thumb-progress kv-hidden">'+this.progressTemplate.setTokens({percent:"0",status:this.msgUploadBegin})+"</div>"},_renderFileFooter:function(e,i,n,r){var o,s=this.fileActionSettings,a=s.showRemove,l=s.showDrag,c=s.showUpload,u=s.showZoom,d=this._getLayoutTemplate("footer"),h=this._getLayoutTemplate("indicator"),p=r?s.indicatorError:s.indicatorNew,f=r?s.indicatorErrorTitle:s.indicatorNewTitle,m=h.setTokens({indicator:p,indicatorTitle:f});return i=this._getSize(i),o=this.isAjaxUpload?d.setTokens({actions:this._renderFileActions(c,!1,a,u,l,!1,!1,!1),caption:e,size:i,width:n,progress:this._renderThumbProgress(),indicator:m}):d.setTokens({actions:this._renderFileActions(!1,!1,!1,u,l,!1,!1,!1),caption:e,size:i,width:n,progress:"",indicator:m}),o=t.replaceTags(o,this.previewThumbTags)},_renderFileActions:function(e,t,i,n,r,o,s,a,l,c,u){if(!e&&!t&&!i&&!n&&!r)return"";var d,h=!1===s?"":' data-url="'+s+'"',p=!1===a?"":' data-key="'+a+'"',f="",m="",g="",v="",y="",b=this._getLayoutTemplate("actions"),w=this.fileActionSettings,x=this.otherActionButtons.setTokens({dataKey:p,key:a}),k=o?w.removeClass+" disabled":w.removeClass;return i&&(f=this._getLayoutTemplate("actionDelete").setTokens({removeClass:k,removeIcon:w.removeIcon,removeTitle:w.removeTitle,dataUrl:h,dataKey:p,key:a})),e&&(m=this._getLayoutTemplate("actionUpload").setTokens({uploadClass:w.uploadClass,uploadIcon:w.uploadIcon,uploadTitle:w.uploadTitle})),t&&(g=(g=this._getLayoutTemplate("actionDownload").setTokens({downloadClass:w.downloadClass,downloadIcon:w.downloadIcon,downloadTitle:w.downloadTitle,downloadUrl:c||this.initialPreviewDownloadUrl})).setTokens({filename:u,key:a})),n&&(v=this._getLayoutTemplate("actionZoom").setTokens({zoomClass:w.zoomClass,zoomIcon:w.zoomIcon,zoomTitle:w.zoomTitle})),r&&l&&(d="drag-handle-init "+w.dragClass,y=this._getLayoutTemplate("actionDrag").setTokens({dragClass:d,dragTitle:w.dragTitle,dragIcon:w.dragIcon})),b.setTokens({delete:f,upload:m,download:g,zoom:v,drag:y,other:x})},_browse:function(e){e&&e.isDefaultPrevented()||!this._raise("filebrowse")||(this.isError&&!this.isAjaxUpload&&this.clear(),this.$captionContainer.focus())},_filterDuplicate:function(e,t,i){var n=this._getFileId(e);n&&i&&i.indexOf(n)>-1||(i||(i=[]),t.push(e),i.push(n))},_change:function(i){var n=this;if(!n.changeTriggered){var r,o,s,a,l,c,u,d,h,p,f,m=n.$element,g=arguments.length>1,v=n.isAjaxUpload,y=[],b=g?arguments[1]:m.get(0).files,w=!v&&t.isEmpty(m.attr("multiple"))?1:n.maxFileCount,x=n.filestack.length,k=t.isEmpty(m.attr("multiple"))&&x>0,T=n._getFileIds();if(n.reader=null,n._resetUpload(),n._hideFileIcon(),n.dropZoneEnabled&&n.$container.find(".file-drop-zone ."+n.dropZoneTitleClass).remove(),v?e.each(b,function(e,t){n._filterDuplicate(t,y,T)}):(b=i.target&&void 0===i.target.files?i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]:i.target.files||{},y=b),t.isEmpty(y)||0===y.length)return v||n.clear(),void n._raise("fileselectnone");if(n._resetErrors(),o=y.length,r=n._getFileCount(v?n.getFileStack().length+o:o),w>0&&r>w){if(!n.autoReplace||o>w)return s=n.autoReplace&&o>w?o:r,a=w,f=n.msgFilesTooMany.replace("{m}",a).replace("{n}",s),n.isError=(l=f,c=null,u=null,d=null,h=e.extend(!0,{},n._getOutData({},{},b),{id:u,index:d}),p={id:u,index:d,file:c,files:b},v?n._showUploadError(l,h):n._showError(l,p)),n.$captionContainer.removeClass("icon-visible"),n._setCaption("",!0),void n.$container.removeClass("file-input-new file-input-ajax-new");r>w&&n._resetPreviewThumbs(v)}else!v||k?(n._resetPreviewThumbs(!1),k&&n.clearStack()):!v||0!==x||n.previewCache.count()&&!n.overwriteInitial||n._resetPreviewThumbs(!0);n.isPreviewable?n.readFiles(y):n._updateFileDetails(1)}},_abort:function(t){var i;return this.ajaxAborted&&"object"===typeof this.ajaxAborted&&void 0!==this.ajaxAborted.message?((i=e.extend(!0,{},this._getOutData(),t)).abortData=this.ajaxAborted.data||{},i.abortMessage=this.ajaxAborted.message,this._setProgress(101,this.$progress,this.msgCancelled),this._showUploadError(this.ajaxAborted.message,i,"filecustomerror"),this.cancel(),!0):!!this.ajaxAborted},_resetFileStack:function(){var i=this,n=0,r=[],o=[],s=[];i._getThumbs().each(function(){var a=e(this),l=a.attr("data-fileindex"),c=i.filestack[l],u=a.attr("id");"-1"!==l&&-1!==l&&(void 0!==c?(r[n]=c,o[n]=i._getFileName(c),s[n]=i._getFileId(c),a.attr({id:i.previewInitId+"-"+n,"data-fileindex":n}),n++):a.attr({id:"uploaded-"+t.uniqId(),"data-fileindex":"-1"}),i.$preview.find("#zoom-"+u).attr({id:"zoom-"+a.attr("id"),"data-fileindex":a.attr("data-fileindex")}))}),i.filestack=r,i.filenames=o,i.fileids=s},_isFileSelectionValid:function(e){return e=e||0,this.required&&!this.getFilesCount()?(this.$errorContainer.html(""),this._showUploadError(this.msgFileRequired),!1):!(this.minFileCount>0&&this._getFileCount(e)<this.minFileCount)||(this._noFilesError({}),!1)},clearStack:function(){return this.filestack=[],this.filenames=[],this.fileids=[],this.$element},updateStack:function(e,t){return this.filestack[e]=t,this.filenames[e]=this._getFileName(t),this.fileids[e]=t&&this._getFileId(t)||null,this.$element},addToStack:function(e){return this.filestack.push(e),this.filenames.push(this._getFileName(e)),this.fileids.push(this._getFileId(e)),this.$element},getFileStack:function(e){return this.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFilesCount:function(){var e=this.isAjaxUpload?this.getFileStack().length:this._inputFileCount();return this._getFileCount(e)},readFiles:function(i){this.reader=new FileReader;var n,r=this,o=r.$element,s=r.$preview,a=r.reader,l=r.$previewContainer,c=r.$previewStatus,u=r.msgLoading,d=r.msgProgress,h=r.previewInitId,p=i.length,f=r.fileTypeSettings,m=r.filestack.length,g=r.allowedFileTypes,v=g?g.length:0,y=r.allowedFileExtensions,b=t.isEmpty(y)?"":y.join(", "),w=r.maxFilePreviewSize&&parseFloat(r.maxFilePreviewSize),x=s.length&&(!w||isNaN(w)),k=function(t,o,s,a){var l,c=e.extend(!0,{},r._getOutData({},{},i),{id:s,index:a}),u={id:s,index:a,file:o,files:i};r._previewDefault(o,s,!0),r.isAjaxUpload?(r.addToStack(void 0),setTimeout(function(){n(a+1)},100)):p=0,r._initFileActions(),(l=e("#"+s)).find(".kv-file-upload").hide(),r.removeFromPreviewOnError&&l.remove(),r.isError=r.isAjaxUpload?r._showUploadError(t,c):r._showError(t,u),r._updateFileDetails(p)};r.loadedImages=[],r.totalImagesCount=0,e.each(i,function(e,t){var i=r.fileTypeSettings.image;i&&i(t.type)&&r.totalImagesCount++}),(n=function(T){if(t.isEmpty(o.attr("multiple"))&&(p=1),T>=p)return r.isAjaxUpload&&r.filestack.length>0?r._raise("filebatchselected",[r.getFileStack()]):r._raise("filebatchselected",[i]),l.removeClass("file-thumb-loading"),void c.html("");var C,E,S,_,I,A,P,D,L,$,N,F,O=h+"-"+(m+T),j=i[T],M=f.text,z=f.image,R=f.html,H=j&&j.name?r.slug(j.name):"",U=(j&&j.size||0)/1e3,B="",q=t.createObjectURL(j),W=0,V="",Z=0,K=function(){var e=d.setTokens({index:T+1,files:p,percent:50,name:H});setTimeout(function(){c.html(e),r._updateFileDetails(p),n(T+1)},100),r._raise("fileloaded",[j,O,T,a])};if(j){if(v>0)for(E=0;E<v;E++)A=g[E],P=r.msgFileTypes[A]||A,V+=0===E?P:", "+P;if(!1!==H){if(0===H.length)return S=r.msgInvalidFileName.replace("{name}",t.htmlEncode(j.name,"[unknown]")),void k(S,j,O,T);if(t.isEmpty(y)||(B=new RegExp("\\.("+y.join("|")+")$","i")),C=U.toFixed(2),r.maxFileSize>0&&U>r.maxFileSize)return S=r.msgSizeTooLarge.setTokens({name:H,size:C,maxSize:r.maxFileSize}),void k(S,j,O,T);if(null!==r.minFileSize&&U<=t.getNum(r.minFileSize))return S=r.msgSizeTooSmall.setTokens({name:H,size:C,minSize:r.minFileSize}),void k(S,j,O,T);if(!t.isEmpty(g)&&t.isArray(g)){for(E=0;E<g.length;E+=1)_=g[E],W+=(D=f[_])&&"function"===typeof D&&D(j.type,j.name)?1:0;if(0===W)return S=r.msgInvalidFileType.setTokens({name:H,types:V}),void k(S,j,O,T)}if(0===W&&!t.isEmpty(y)&&t.isArray(y)&&!t.isEmpty(B)&&(I=t.compare(H,B),0===(W+=t.isEmpty(I)?0:I.length)))return S=r.msgInvalidFileExtension.setTokens({name:H,extensions:b}),void k(S,j,O,T);if(!r.showPreview)return r.isAjaxUpload&&r.addToStack(j),setTimeout(function(){n(T+1),r._updateFileDetails(p)},100),void r._raise("fileloaded",[j,O,T,a]);if(!x&&U>w)return r.addToStack(j),l.addClass("file-thumb-loading"),r._previewDefault(j,O),r._initFileActions(),r._updateFileDetails(p),void n(T+1);s.length&&void 0!==FileReader?(L=M(j.type,H),$=R(j.type,H),N=z(j.type,H),c.html(u.replace("{index}",T+1).replace("{files}",p)),l.addClass("file-thumb-loading"),a.onerror=function(e){r._errorHandler(e,H)},a.onload=function(i){var n,o,s,l,c,u,d,h,p=[];if(o={name:H,type:j.type},e.each(f,function(e,t){"object"!==e&&"other"!==e&&"function"===typeof t&&t(j.type,H)&&Z++}),0===Z){for(s=new Uint8Array(i.target.result),E=0;E<s.length;E++)l=s[E].toString(16),p.push(l);if(n=p.join("").toLowerCase().substring(0,8),u=t.getMimeType(n,"",""),t.isEmpty(u)&&(c=t.arrayBuffer2String(a.result),u=t.isSvg(c)?"image/svg+xml":t.getMimeType(n,c,j.type)),o={name:H,type:u},L=M(u,""),$=R(u,""),N=z(u,""),(F=L||$)||N)return d=F,(h=new FileReader).onerror=function(e){r._errorHandler(e,H)},h.onload=function(e){r._previewFile(T,j,e,O,q,o),r._initFileActions(),K()},void(d?h.readAsText(j,r.textEncoding):h.readAsDataURL(j))}r._previewFile(T,j,i,O,q,o),r._initFileActions(),K()},a.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,i=Math.ceil(t);S=d.setTokens({index:T+1,files:p,percent:i,name:H}),setTimeout(function(){c.html(S)},100)}},L||$?a.readAsText(j,r.textEncoding):N?a.readAsDataURL(j):a.readAsArrayBuffer(j)):(r._previewDefault(j,O),setTimeout(function(){n(T+1),r._updateFileDetails(p)},100),r._raise("fileloaded",[j,O,T,a])),r.addToStack(j)}else n(T+1)}})(0),r._updateFileDetails(p,!1)},lock:function(){return this._resetErrors(),this.disable(),this.showRemove&&this.$container.find(".fileinput-remove").hide(),this.showCancel&&this.$container.find(".fileinput-cancel").show(),this._raise("filelock",[this.filestack,this._getExtraData()]),this.$element},unlock:function(e){return void 0===e&&(e=!0),this.enable(),this.showCancel&&this.$container.find(".fileinput-cancel").hide(),this.showRemove&&this.$container.find(".fileinput-remove").show(),e&&this._resetFileStack(),this._raise("fileunlock",[this.filestack,this._getExtraData()]),this.$element},cancel:function(){var t,i=this,n=i.ajaxRequests,r=n.length;if(r>0)for(t=0;t<r;t+=1)i.cancelling=!0,n[t].abort();return i._setProgressCancelled(),i._getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==i.filestack[n]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()}),i.$element},clear:function(){var i,n=this;if(n._raise("fileclear"))return n.$btnUpload.removeAttr("disabled"),n._getThumbs().find("video,audio,img").each(function(){t.cleanMemory(e(this))}),n._clearFileInput(),n._resetUpload(),n.clearStack(),n._resetErrors(!0),n._hasInitialPreview()?(n._showFileIcon(),n._resetPreview(),n._initPreviewActions(),n.$container.removeClass("file-input-new")):(n._getThumbs().each(function(){n._clearObjects(e(this))}),n.isAjaxUpload&&(n.previewCache.data={}),n.$preview.html(""),i=!n.overwriteInitial&&n.initialCaption.length>0?n.initialCaption:"",n.$caption.attr("title","").val(i),t.addCss(n.$container,"file-input-new"),n._validateDefaultPreview()),0===n.$container.find(t.FRAMES).length&&(n._initCaption()||n.$captionContainer.removeClass("icon-visible")),n._hideFileIcon(),n._raise("filecleared"),n.$captionContainer.focus(),n._setFileDropZoneTitle(),n.$element},reset:function(){if(this._raise("filereset"))return this._resetPreview(),this.$container.find(".fileinput-filename").text(""),t.addCss(this.$container,"file-input-new"),(this.getFrames().length||this.dropZoneEnabled)&&this.$container.removeClass("file-input-new"),this.clearStack(),this.formdata={},this._setFileDropZoneTitle(),this.$element},disable:function(){return this.isDisabled=!0,this._raise("filedisabled"),this.$element.attr("disabled","disabled"),this.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),this.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),t.addCss(this.$container.find(".btn-file"),"disabled"),this._initDragDrop(),this.$element},enable:function(){return this.isDisabled=!1,this._raise("fileenabled"),this.$element.removeAttr("disabled"),this.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),this.$container.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),this.$container.find(".btn-file").removeClass("disabled"),this._initDragDrop(),this.$element},upload:function(){var i,n,r,o=this.getFileStack().length,s=!e.isEmptyObject(this._getExtraData());if(this.isAjaxUpload&&!this.isDisabled&&this._isFileSelectionValid(o))if(this._resetUpload(),0!==o||s)if(this.$progress.show(),this.uploadCount=0,this.uploadStatus={},this.uploadLog=[],this.lock(),this._setProgress(2),0===o&&s)this._uploadExtraOnly();else{if(r=this.filestack.length,this.hasInitData=!1,!this.uploadAsync)return this._uploadBatch(),this.$element;for(n=this._getOutData(),this._raise("filebatchpreupload",[n]),this.fileBatchCompleted=!1,this.uploadCache={content:[],config:[],tags:[],append:!0},this.uploadAsyncCount=this.getFileStack().length,i=0;i<r;i++)this.uploadCache.content[i]=null,this.uploadCache.config[i]=null,this.uploadCache.tags[i]=null;for(this.$preview.find(".file-preview-initial").removeClass(t.SORT_CSS),this._initSortable(),this.cacheInitialPreview=this.getPreview(),i=0;i<r;i++)this.filestack[i]&&this._uploadSingle(i,!0)}else this._showUploadError(this.msgUploadEmpty)},destroy:function(){var t=this.$form,i=this.$container,n=this.$element,r=this.namespace;return e(document).off(r),e(window).off(r),t&&t.length&&t.off(r),this.isAjaxUpload&&this._clearFileInput(),this._cleanup(),this._initPreviewCache(),n.insertBefore(i).off(r).removeData(),i.off().remove(),n},refresh:function(i){var n=this.$element;return i="object"!==typeof i||t.isEmpty(i)?this.options:e.extend(!0,{},this.options,i),this._init(i,!0),this._listen(),n},zoom:function(e){var i=this._getFrame(e),n=this.$modal;i&&(t.initModal(n),n.html(this._getModalContent()),this._setZoomContent(i),n.modal("show"),this._initZoomButtons())},getExif:function(e){var t=this._getFrame(e);return t&&t.data("exif")||null},getFrames:function(i){var n;return i=i||"",n=this.$preview.find(t.FRAMES+i),this.reversePreviewOrder&&(n=e(n.get().reverse())),n},getPreview:function(){return{content:this.initialPreview,config:this.initialPreviewConfig,tags:this.initialPreviewThumbTags}}},e.fn.fileinput=function(n){if(t.hasFileAPISupport()||t.isIE(9)){var r=Array.apply(null,arguments),o=[];switch(r.shift(),this.each(function(){var s,a=e(this),l=a.data("fileinput"),c="object"===typeof n&&n,u=c.theme||a.data("theme"),d={},h={},p=c.language||a.data("language")||e.fn.fileinput.defaults.language||"en";l||(u&&(h=e.fn.fileinputThemes[u]||{}),"en"===p||t.isEmpty(e.fn.fileinputLocales[p])||(d=e.fn.fileinputLocales[p]||{}),s=e.extend(!0,{},e.fn.fileinput.defaults,h,e.fn.fileinputLocales.en,d,c,a.data()),l=new i(this,s),a.data("fileinput",l)),"string"===typeof n&&o.push(l[n].apply(l,r))}),o.length){case 0:return this;case 1:return o[0];default:return o}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:!1,required:!1,rtl:!1,hideThumbnailContent:!1,encodeUrl:!0,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,initialPreviewDownloadUrl:"",removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-sm btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-sm btn-kv btn-default btn-outline-secondary",borderless:"btn btn-sm btn-kv btn-default btn-outline-secondary",close:"btn btn-sm btn-kv btn-default btn-outline-secondary"},previewTemplates:{},previewContentTemplates:{},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:t.closeButton("kv-error-close"),slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0,mergeAjaxCallbacks:!1,mergeAjaxDeleteCallbacks:!1,retryErrorUploads:!0,reversePreviewOrder:!1},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgPlaceholder:"Select {files}...",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"},usePdfRenderer:function(){var e=!!window.MSInputMethodContext&&!!document.documentMode;return!!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/i)||e},pdfRendererUrl:"",pdfRendererTemplate:'<iframe class="kv-preview-data file-preview-pdf" src="{renderer}?file={data}" {style}></iframe>'},e.fn.fileinput.Constructor=i,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})})},156:function(e,t){},157:function(e,t,i){var n,r,o;o=function(e){!function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],i=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],n={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function s(t,n){var s=t.nodeName.toLowerCase();if(-1!==e.inArray(s,n))return-1===e.inArray(s,i)||Boolean(t.nodeValue.match(r)||t.nodeValue.match(o));for(var a=e(n).filter(function(e,t){return t instanceof RegExp}),l=0,c=a.length;l<c;l++)if(s.match(a[l]))return!0;return!1}function a(e,t,i){if(i&&"function"===typeof i)return i(e);for(var n=Object.keys(t),r=0,o=e.length;r<o;r++)for(var a=e[r].querySelectorAll("*"),l=0,c=a.length;l<c;l++){var u=a[l],d=u.nodeName.toLowerCase();if(-1!==n.indexOf(d))for(var h=[].slice.call(u.attributes),p=[].concat(t["*"]||[],t[d]||[]),f=0,m=h.length;f<m;f++){var g=h[f];s(g,p)||u.removeAttribute(g.nodeName)}else u.parentNode.removeChild(u)}}"classList"in document.createElement("_")||function(t){if("Element"in t){var i=t.Element.prototype,n=Object,r=function(){var t=e(this);return{add:function(e){return t.addClass(e)},remove:function(e){return t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(n.defineProperty){var o={get:r,enumerable:!0,configurable:!0};try{n.defineProperty(i,"classList",o)}catch(e){void 0!==e.number&&-2146823252!==e.number||(o.enumerable=!1,n.defineProperty(i,"classList",o))}}else n.prototype.__defineGetter__&&i.__defineGetter__("classList",r)}}(window);var l,c,u,d=document.createElement("_");if(d.classList.toggle("c3",!1),d.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)===!t?t:h.call(this,e)}}function p(e){var t,i=[],n=e.selectedOptions;if(e.multiple)for(var r=0,o=n.length;r<o;r++)t=n[r],i.push(t.value||t.text);else i=e.value;return i}d=null,String.prototype.startsWith||(l=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,u=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,n=String(e),r=n.length,o=arguments.length>1?arguments[1]:void 0,s=o?Number(o):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),i);if(r+a>i)return!1;for(var l=-1;++l<r;)if(t.charCodeAt(a+l)!=n.charCodeAt(l))return!1;return!0},l?l(String.prototype,"startsWith",{value:u,configurable:!0,writable:!0}):String.prototype.startsWith=u),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")||Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var f={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!f.useDefault&&e(t).data("selected",!0),f._set.apply(this,arguments)};var m=null,g=function(){try{return new Event("change"),!0}catch(e){return!1}}();function v(e,t,i,n){for(var r=["content","subtext","tokens"],o=!1,s=0;s<r.length;s++){var a=r[s],l=e[a];if(l&&(l=l.toString(),"content"===a&&(l=l.replace(/<[^>]+>/g,"")),n&&(l=T(l)),l=l.toUpperCase(),o="contains"===i?l.indexOf(t)>=0:l.startsWith(t)))break}return o}function y(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(g?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var b={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},w=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,x=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function k(e){return b[e]}function T(e){return(e=e.toString())&&e.replace(w,k).replace(x,"")}var C,E,S,_,I,A=(C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E=function(e){return C[e]},S="(?:"+Object.keys(C).join("|")+")",_=RegExp(S),I=RegExp(S,"g"),function(e){return e=null==e?"":""+e,_.test(e)?e.replace(I,E):e}),P={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},D=27,L=13,$=32,N=9,F=38,O=40,j={success:!1,major:"3"};try{j.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),j.major=j.full[0],j.success=!0}catch(e){console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e)}var M=0,z=".bs.select",R={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"},H={MENU:"."+R.MENU};"4"===j.major&&(R.DIVIDER="dropdown-divider",R.SHOW="show",R.BUTTONCLASS="btn-light",R.POPOVERHEADER="popover-header");var U={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("\xa0"),fragment:document.createDocumentFragment()};U.a.setAttribute("role","option"),U.subtext.className="text-muted",U.text=U.span.cloneNode(!1),U.text.className="text";var B=new RegExp(F+"|"+O),q=new RegExp("^"+N+"$|"+D),W=function(e,t,i){var n=U.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),"undefined"!==typeof t&&""!==t&&(n.className=t),"undefined"!==typeof i&&null!==i&&n.classList.add("optgroup-"+i),n},V=function(e,t,i){var n=U.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),"undefined"!==typeof t&&""!==t&&(n.className=t),"4"===j.major&&n.classList.add("dropdown-item"),i&&n.setAttribute("style",i),n},Z=function(e,t){var i,n,r=U.text.cloneNode(!1);if(e.optionContent)r.innerHTML=e.optionContent;else{if(r.textContent=e.text,e.optionIcon){var o=U.whitespace.cloneNode(!1);(n=(!0===t?U.i:U.span).cloneNode(!1)).className=e.iconBase+" "+e.optionIcon,U.fragment.appendChild(n),U.fragment.appendChild(o)}e.optionSubtext&&((i=U.subtext.cloneNode(!1)).textContent=e.optionSubtext,r.appendChild(i))}if(!0===t)for(;r.childNodes.length>0;)U.fragment.appendChild(r.childNodes[0]);else U.fragment.appendChild(r);return U.fragment},K=function(e){var t,i,n=U.text.cloneNode(!1);if(n.innerHTML=e.labelEscaped,e.labelIcon){var r=U.whitespace.cloneNode(!1);(i=U.span.cloneNode(!1)).className=e.iconBase+" "+e.labelIcon,U.fragment.appendChild(i),U.fragment.appendChild(r)}return e.labelSubtext&&((t=U.subtext.cloneNode(!1)).textContent=e.labelSubtext,n.appendChild(t)),U.fragment.appendChild(n),U.fragment},G=function(t,i){var n=this;f.useDefault||(e.valHooks.select.set=f._set,f.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"===typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=G.prototype.val,this.render=G.prototype.render,this.refresh=G.prototype.refresh,this.setStyle=G.prototype.setStyle,this.selectAll=G.prototype.selectAll,this.deselectAll=G.prototype.deselectAll,this.destroy=G.prototype.destroy,this.remove=G.prototype.remove,this.show=G.prototype.show,this.hide=G.prototype.hide,this.init()};function Y(i){var n,r=arguments,o=i;if([].shift.apply(r),!j.success){try{j.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){j.full=G.BootstrapVersion.split(" ")[0].split(".")}j.major=j.full[0],j.success=!0,"4"===j.major&&(R.DIVIDER="dropdown-divider",R.SHOW="show",R.BUTTONCLASS="btn-light",G.DEFAULTS.style=R.BUTTONCLASS="btn-light",R.POPOVERHEADER="popover-header")}var s=this.each(function(){var i=e(this);if(i.is("select")){var s=i.data("selectpicker"),a="object"==typeof o&&o;if(s){if(a)for(var l in a)a.hasOwnProperty(l)&&(s.options[l]=a[l])}else{var c=i.data();for(var u in c)c.hasOwnProperty(u)&&-1!==e.inArray(u,t)&&delete c[u];var d=e.extend({},G.DEFAULTS,e.fn.selectpicker.defaults||{},c,a);d.template=e.extend({},G.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},c.template,a.template),i.data("selectpicker",s=new G(this,d))}"string"==typeof o&&(n=s[o]instanceof Function?s[o].apply(s,r):s.options[o])}});return"undefined"!==typeof n?n:s}G.VERSION="1.13.6",G.BootstrapVersion=j.major,G.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:R.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:n},"4"===j.major&&(G.DEFAULTS.style="btn-light",G.DEFAULTS.iconBase="",G.DEFAULTS.tickIcon="bs-ok-default"),G.prototype={constructor:G,init:function(){var e=this,t=this.$element.attr("id");this.selectId=M++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(H.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(R.MENURIGHT),"undefined"!==typeof t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(e.isVirtual()){var t=e.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button[0].classList.add("bs-invalid"),e.$element.on("shown.bs.select.invalid",function(){e.$element.val(e.$element.val()).off("shown.bs.select.invalid")}).on("rendered.bs.select",function(){this.validity.valid&&e.$button[0].classList.remove("bs-invalid"),e.$element.off("rendered.bs.select")}),e.$button.on("blur.bs.select",function(){e.$element.trigger("focus").trigger("blur"),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.createLi(),e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t,i=this.multiple||this.options.showTick?" show-tick":"",n=this.autofocus?" autofocus":"",r="",o="",s="",a="";return this.options.header&&(r='<div class="'+R.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(o='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+A(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(s='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+R.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+R.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(a='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+R.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),t='<div class="dropdown bootstrap-select'+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+n+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===j.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+R.MENU+" "+("4"===j.major?"":R.SHOW)+'" role="combobox">'+r+o+s+'<div class="inner '+R.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+R.MENU+" inner "+("4"===j.major?R.SHOW:"")+'"></ul></div>'+a+"</div></div>",e(t)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i){i=i||0;var n=this;this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main;var r,o,s=[];function l(e,i){var l,c,u,d,h,p,f,m,g,v,y=n.selectpicker.current.elements.length,b=[],w=!0,x=n.isVirtual();n.selectpicker.view.scrollTop=e,!0===x&&n.sizeInfo.hasScrollBar&&n.$menu[0].offsetWidth>n.sizeInfo.totalMenuWidth&&(n.sizeInfo.menuWidth=n.$menu[0].offsetWidth,n.sizeInfo.totalMenuWidth=n.sizeInfo.menuWidth+n.sizeInfo.scrollBarWidth,n.$menu.css("min-width",n.sizeInfo.menuWidth)),l=Math.ceil(n.sizeInfo.menuInnerHeight/n.sizeInfo.liHeight*1.5),c=Math.round(y/l)||1;for(var k=0;k<c;k++){var T=(k+1)*l;if(k===c-1&&(T=y),b[k]=[k*l+(k?1:0),T],!y)break;void 0===h&&e<=n.selectpicker.current.data[T-1].position-n.sizeInfo.menuInnerHeight&&(h=k)}if(void 0===h&&(h=0),p=[n.selectpicker.view.position0,n.selectpicker.view.position1],u=Math.max(0,h-1),d=Math.min(c-1,h+1),n.selectpicker.view.position0=Math.max(0,b[u][0])||0,n.selectpicker.view.position1=Math.min(y,b[d][1])||0,f=p[0]!==n.selectpicker.view.position0||p[1]!==n.selectpicker.view.position1,void 0!==n.activeIndex&&(o=n.selectpicker.current.elements[n.selectpicker.current.map.newIndex[n.prevActiveIndex]],s=n.selectpicker.current.elements[n.selectpicker.current.map.newIndex[n.activeIndex]],r=n.selectpicker.current.elements[n.selectpicker.current.map.newIndex[n.selectedIndex]],i&&(n.activeIndex!==n.selectedIndex&&s&&s.length&&(s.classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),n.activeIndex=void 0),n.activeIndex&&n.activeIndex!==n.selectedIndex&&r&&r.length&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active"))),void 0!==n.prevActiveIndex&&n.prevActiveIndex!==n.activeIndex&&n.prevActiveIndex!==n.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),(i||f)&&(m=n.selectpicker.view.visibleElements?n.selectpicker.view.visibleElements.slice():[],n.selectpicker.view.visibleElements=n.selectpicker.current.elements.slice(n.selectpicker.view.position0,n.selectpicker.view.position1),n.setOptionStatus(),(t||!1===x&&i)&&(g=m,v=n.selectpicker.view.visibleElements,w=!(g.length===v.length&&g.every(function(e,t){return e===v[t]}))),(i||!0===x)&&w)){var C,E,S=n.$menuInner[0],_=document.createDocumentFragment(),I=S.firstChild.cloneNode(!1),A=!0===x?n.selectpicker.view.visibleElements:n.selectpicker.current.elements,P=[];S.replaceChild(I,S.firstChild);k=0;for(var D=A.length;k<D;k++){var L,$,N=A[k];n.options.sanitize&&(L=N.lastChild)&&($=n.selectpicker.current.data[k+n.selectpicker.view.position0].data)&&$.content&&!$.sanitized&&(P.push(L),$.sanitized=!0),_.appendChild(N)}n.options.sanitize&&P.length&&a(P,n.options.whiteList,n.options.sanitizeFn),!0===x&&(C=0===n.selectpicker.view.position0?0:n.selectpicker.current.data[n.selectpicker.view.position0-1].position,E=n.selectpicker.view.position1>y-1?0:n.selectpicker.current.data[y-1].position-n.selectpicker.current.data[n.selectpicker.view.position1-1].position,S.firstChild.style.marginTop=C+"px",S.firstChild.style.marginBottom=E+"px"),S.firstChild.appendChild(_)}if(n.prevActiveIndex=n.activeIndex,n.options.liveSearch){if(t&&i){var F,O=0;n.selectpicker.view.canHighlight[O]||(O=1+n.selectpicker.view.canHighlight.slice(1).indexOf(!0)),F=n.selectpicker.view.visibleElements[O],n.selectpicker.view.currentActive&&(n.selectpicker.view.currentActive.classList.remove("active"),n.selectpicker.view.currentActive.firstChild&&n.selectpicker.view.currentActive.firstChild.classList.remove("active")),F&&(F.classList.add("active"),F.firstChild&&F.firstChild.classList.add("active")),n.activeIndex=n.selectpicker.current.map.originalIndex[O]}}else n.$menuInner.trigger("focus")}this.setPositionData(),l(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){n.noScroll||l(this.scrollTop,t),n.noScroll=!1}),e(window).off("resize.bs.select."+this.selectId+".createView").on("resize.bs.select."+this.selectId+".createView",function(){n.$newElement.hasClass(R.SHOW)&&l(n.$menuInner[0].scrollTop)})},setPlaceholder:function(){var t=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=!0;var i=this.$element[0],n=!1,r=!this.selectpicker.view.titleOption.parentNode;if(r)this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",n=void 0===e(i.options[i.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected");(r||0!==this.selectpicker.view.titleOption.index)&&i.insertBefore(this.selectpicker.view.titleOption,i.firstChild),n&&(i.selectedIndex=0)}return t},createLi:function(){var e,t,i=this.options.iconBase,n=':not([hidden]):not([data-hidden="true"])',r=[],o=0,s=[],a=0,l=0,c=-1;this.options.hideDisabled&&(n+=":not(:disabled)"),(this.options.showTick||this.multiple)&&((e=U.span.cloneNode(!1)).className=i+" "+this.options.tickIcon+" check-mark",U.a.appendChild(e)),this.setPlaceholder()&&c--;for(var u=this.$element[0].options,d=0,h=u.length;d<h;d++){var p=u[d];if(c++,!p.classList.contains("bs-title-option")){var f,m,g,v,y={content:p.getAttribute("data-content"),tokens:p.getAttribute("data-tokens"),subtext:p.getAttribute("data-subtext"),icon:p.getAttribute("data-icon"),hidden:"true"===p.getAttribute("data-hidden"),divider:"true"===p.getAttribute("data-divider")},b=p.className||"",w=p.style.cssText,x=w?A(w):"",k=y.content,T=p.textContent,C=p.parentNode,E=p.nextElementSibling,S=p.previousElementSibling,_="OPTGROUP"===C.tagName,I=_&&C.disabled,P=p.disabled||I,D=S&&"OPTGROUP"===S.tagName,L={hidden:"true"===C.getAttribute("data-hidden")};if(!0===y.hidden||p.hidden||_&&(!0===L.hidden||C.hidden)||this.options.hideDisabled&&(P||I))f=p.prevHiddenIndex,E&&(E.prevHiddenIndex=void 0!==f?f:d),c--;else{if(E&&void 0!==E.prevHiddenIndex&&(E.prevHiddenIndex=void 0),_&&!0!==y.divider){var $=" "+C.className||"",N=p.previousElementSibling;if(void 0!==(f=p.prevHiddenIndex)&&(N=u[f].previousElementSibling),!N){a+=1,L.subtext=C.getAttribute("data-subtext"),L.icon=C.getAttribute("data-icon");var F=C.label,O=A(F),j=L.subtext,M=L.icon;0!==d&&r.length>0&&(c++,r.push(W(!1,R.DIVIDER,a+"div")),s.push({type:"divider",optID:a})),c++,g=K({labelEscaped:O,labelSubtext:j,labelIcon:M,iconBase:i}),r.push(W(g,"dropdown-header"+$,a)),s.push({content:O,subtext:j,type:"optgroup-label",optID:a}),l=c-1}m=Z({text:T,optionContent:k,optionSubtext:y.subtext,optionIcon:y.icon,iconBase:i}),r.push(W(V(m,"opt "+b+$,x),"",a)),s.push({content:k||T,subtext:y.subtext,tokens:y.tokens,type:"option",optID:a,headerIndex:l,lastIndex:l+C.querySelectorAll("option"+n).length,originalIndex:d,data:y})}else if(!0===y.divider)r.push(W(!1,R.DIVIDER)),s.push({type:"divider",originalIndex:d,data:y});else{if(this.options.hideDisabled)if(D)S.querySelectorAll("option:disabled").length===S.children.length&&(D=!1);else if(void 0!==(f=p.prevHiddenIndex))if((v=u[f].previousElementSibling)&&"OPTGROUP"===v.tagName&&!v.disabled)v.querySelectorAll("option:disabled").length<v.children.length&&(D=!0);D&&s.length&&"divider"!==s[s.length-1].type&&(c++,r.push(W(!1,R.DIVIDER,a+"div")),s.push({type:"divider",optID:a})),m=Z({text:T,optionContent:k,optionSubtext:y.subtext,optionIcon:y.icon,iconBase:i}),r.push(W(V(m,b,x))),s.push({content:k||T,subtext:y.subtext,tokens:y.tokens,type:"option",originalIndex:d,data:y})}this.selectpicker.main.map.newIndex[d]=c,this.selectpicker.main.map.originalIndex[c]=d;var z=s[s.length-1];z.disabled=P;var H=0;z.content&&(H+=z.content.length),z.subtext&&(H+=z.subtext.length),y.icon&&(H+=1),H>o&&(o=H,t=r[r.length-1])}}}this.selectpicker.main.elements=r,this.selectpicker.main.data=s,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t,i=this.$element[0].selectedOptions,n=i.length,r=this.$button.find(".filter-option-inner-inner")[0],o=document.createTextNode(this.options.multipleSeparator),s=U.fragment.cloneNode(!1),l=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)s=Z({text:this.options.title},!0);else if((e=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&n>1)&&(e=(t=this.options.selectedTextFormat.split(">")).length>1&&n>t[1]||1===t.length&&n>=2),!1===e){for(var c=0;c<n&&c<50;c++){var u=i[c],d={},h={content:u.getAttribute("data-content"),subtext:u.getAttribute("data-subtext"),icon:u.getAttribute("data-icon")};this.multiple&&c>0&&s.appendChild(o.cloneNode(!1)),u.title?d.text=u.title:h.content&&this.options.showContent?(d.optionContent=h.content.toString(),l=!0):(this.options.showIcon&&(d.optionIcon=h.icon,d.iconBase=this.options.iconBase),this.options.showSubtext&&!this.multiple&&h.subtext&&(d.optionSubtext=" "+h.subtext),d.text=u.textContent.trim()),s.appendChild(Z(d,!0))}n>49&&s.appendChild(document.createTextNode("..."))}else{var p=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(p+=":not(:disabled)");var f=this.$element[0].querySelectorAll("select > option"+p+", optgroup"+p+" option"+p).length,m="function"===typeof this.options.countSelectedText?this.options.countSelectedText(n,f):this.options.countSelectedText;s=Z({text:m.replace("{0}",n.toString()).replace("{1}",f.toString())},!0)}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),s.childNodes.length||(s=Z({text:"undefined"!==typeof this.options.title?this.options.title:this.options.noneSelectedText},!0)),this.$button[0].title=s.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&l&&a([s],this.options.whiteList,this.options.sanitizeFn),r.innerHTML="",r.appendChild(s),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){var i=this.$button[0];this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e||this.options.style;"add"==t?i.classList.add(n):"remove"==t?i.classList.remove(n):(i.classList.remove(this.options.style),i.classList.add(n))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var i=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),l=document.createElement("li"),c=document.createElement("a"),u=document.createElement("span"),d=this.options.header&&this.$menu.find("."+R.POPOVERHEADER).length>0?this.$menu.find("."+R.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,f=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,u.className="text",c.className="dropdown-item "+(m?m.className:""),i.className=this.$menu[0].parentNode.className+" "+R.SHOW,i.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(n.style.minWidth=0),n.className=R.MENU+" "+R.SHOW,r.className="inner "+R.SHOW,o.className=R.MENU+" inner "+("4"===j.major?R.SHOW:""),s.className=R.DIVIDER,a.className="dropdown-header",u.appendChild(document.createTextNode("\u200b")),c.appendChild(u),l.appendChild(c),a.appendChild(u.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(l),o.appendChild(s),o.appendChild(a),d&&n.appendChild(d),h){var g=document.createElement("input");h.className="bs-searchbox",g.className="form-control",h.appendChild(g),n.appendChild(h)}p&&n.appendChild(p),r.appendChild(o),n.appendChild(r),f&&n.appendChild(f),i.appendChild(n),document.body.appendChild(i);var v,b=c.offsetHeight,w=a?a.offsetHeight:0,x=d?d.offsetHeight:0,k=h?h.offsetHeight:0,T=p?p.offsetHeight:0,C=f?f.offsetHeight:0,E=e(s).outerHeight(!0),S=!!window.getComputedStyle&&window.getComputedStyle(n),_=n.offsetWidth,I=S?null:e(n),A={vert:y(S?S.paddingTop:I.css("paddingTop"))+y(S?S.paddingBottom:I.css("paddingBottom"))+y(S?S.borderTopWidth:I.css("borderTopWidth"))+y(S?S.borderBottomWidth:I.css("borderBottomWidth")),horiz:y(S?S.paddingLeft:I.css("paddingLeft"))+y(S?S.paddingRight:I.css("paddingRight"))+y(S?S.borderLeftWidth:I.css("borderLeftWidth"))+y(S?S.borderRightWidth:I.css("borderRightWidth"))},P={vert:A.vert+y(S?S.marginTop:I.css("marginTop"))+y(S?S.marginBottom:I.css("marginBottom"))+2,horiz:A.horiz+y(S?S.marginLeft:I.css("marginLeft"))+y(S?S.marginRight:I.css("marginRight"))+2};r.style.overflowY="scroll",v=n.offsetWidth-_,document.body.removeChild(i),this.sizeInfo.liHeight=b,this.sizeInfo.dropdownHeaderHeight=w,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=k,this.sizeInfo.actionsHeight=T,this.sizeInfo.doneButtonHeight=C,this.sizeInfo.dividerHeight=E,this.sizeInfo.menuPadding=A,this.sizeInfo.menuExtras=P,this.sizeInfo.menuWidth=_,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=v,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),n=this.$newElement.offset(),r=e(this.options.container);this.options.container&&r.length&&!r.is("body")?((t=r.offset()).top+=parseInt(r.css("borderTopWidth")),t.left+=parseInt(r.css("borderLeftWidth"))):t={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=n.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-o[2],this.sizeInfo.selectOffsetLeft=n.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,r,o,s,a,l=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(a=c*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(R.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)r=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=r+u+d+h+p,s=Math.max(r-m.vert,0),this.$newElement.hasClass(R.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=i,t=i-u-d-h-p-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&g++;t=(i=c*this.options.size+g*f+m.vert)-m.vert,o=i+u+d+h+p,n=s=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(R.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var i,n=this,r=e(window),o=0;this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),"auto"===this.options.size?r.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+z+"."+this.selectId+".setMenuSize").on("resize.bs.select."+this.selectId+".setMenuSize scroll"+z+"."+this.selectId+".setMenuSize",function(){return n.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&r.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+z+"."+this.selectId+".setMenuSize"),t?o=this.$menuInner[0].scrollTop:n.multiple||"number"===typeof(i=n.selectpicker.main.map.newIndex[n.$element[0].selectedIndex])&&!1!==n.options.size&&(o=(o=n.sizeInfo.liHeight*i)-n.sizeInfo.menuInnerHeight/2+n.sizeInfo.liHeight/2),n.createView(!1,o)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,i,n,r=this,o=e(this.options.container),s=function(s){var a={},l=r.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(s.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(R.DROPUP,s.hasClass(R.DROPUP)),t=s.offset(),o.is("body")?i={top:0,left:0}:((i=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),i.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),n=s.hasClass(R.DROPUP)?0:s[0].offsetHeight,(j.major<4||"static"===l)&&(a.top=t.top-i.top+n,a.left=t.left-i.left),a.width=s[0].offsetWidth,r.$bsContainer.css(a)};this.$button.on("click.bs.dropdown.data-api",function(){r.isDisabled()||(s(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(R.SHOW,!r.$button.hasClass(R.SHOW)).append(r.$menu))}),e(window).off("resize.bs.select."+this.selectId+" scroll"+z+"."+this.selectId).on("resize.bs.select."+this.selectId+" scroll"+z+"."+this.selectId,function(){r.$newElement.hasClass(R.SHOW)&&s(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setOptionStatus:function(){var e=this.$element[0].options;if(this.noScroll=!1,this.selectpicker.view.visibleElements&&this.selectpicker.view.visibleElements.length)for(var t=0;t<this.selectpicker.view.visibleElements.length;t++){var i=this.selectpicker.current.map.originalIndex[t+this.selectpicker.view.position0],n=e[i];if(n){var r=this.selectpicker.main.map.newIndex[i],o=this.selectpicker.main.elements[r];this.setDisabled(i,n.disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled,r,o),this.setSelected(i,n.selected,r,o)}}},setSelected:function(e,t,i,n){var r,o,s,a=void 0!==this.activeIndex,l=this.activeIndex===e||t&&!this.multiple&&!a;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),s=n.firstChild,t&&(this.selectedIndex=e),n.classList.toggle("selected",t),n.classList.toggle("active",l),l&&(this.selectpicker.view.currentActive=n,this.activeIndex=e),s&&(s.classList.toggle("selected",t),s.classList.toggle("active",l),s.setAttribute("aria-selected",t)),l||!a&&t&&void 0!==this.prevActiveIndex&&(r=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(o=this.selectpicker.main.elements[r]).classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active"))},setDisabled:function(e,t,i,n){var r;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),r=n.firstChild,n.classList.toggle(R.DISABLED,t),r&&("4"===j.major&&r.classList.toggle(R.DISABLED,t),r.setAttribute("aria-disabled",t),t?r.setAttribute("tabindex",-1):r.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement[0].classList.add(R.DISABLED),this.$button.addClass(R.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(R.DISABLED)&&(this.$newElement[0].classList.remove(R.DISABLED),this.$button.removeClass(R.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=e(document);function n(){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$menuInner.trigger("focus")}function r(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state.isCreated?n():requestAnimationFrame(r)}i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){j.major>3&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){t.$newElement.hasClass(R.SHOW)||t.setSize()}),this.$element.on("shown.bs.select",function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),j.major>3?requestAnimationFrame(r):n()}),this.$menuInner.on("click","li a",function(i,n){var r=e(this),o=t.isVirtual()?t.selectpicker.view.position0:0,s=t.selectpicker.current.map.originalIndex[r.parent().index()+o],a=p(t.$element[0]),l=t.$element.prop("selectedIndex"),c=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!r.parent().hasClass(R.DISABLED)){var u=t.$element.find("option"),d=u.eq(s),h=d.prop("selected"),f=d.parent("optgroup"),g=f.find("option"),v=t.options.maxOptions,y=f.data("maxOptions")||!1;if(s===t.activeIndex&&(n=!0),n||(t.prevActiveIndex=t.activeIndex,t.activeIndex=void 0),t.multiple){if(d.prop("selected",!h),t.setSelected(s,!h),r.trigger("blur"),!1!==v||!1!==y){var b=v<u.filter(":selected").length,w=y<f.find("option:selected").length;if(v&&b||y&&w)if(v&&1==v){u.prop("selected",!1),d.prop("selected",!0);for(var x=0;x<u.length;x++)t.setSelected(x,!1);t.setSelected(s,!0)}else if(y&&1==y){f.find("option:selected").prop("selected",!1),d.prop("selected",!0);for(x=0;x<g.length;x++){var k=g[x];t.setSelected(u.index(k),!1)}t.setSelected(s,!0)}else{var T="string"===typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,C="function"===typeof T?T(v,y):T,E=C[0].replace("{n}",v),S=C[1].replace("{n}",y),_=e('<div class="notify"></div>');C[2]&&(E=E.replace("{var}",C[2][v>1?0:1]),S=S.replace("{var}",C[2][y>1?0:1])),d.prop("selected",!1),t.$menu.append(_),v&&b&&(_.append(e("<div>"+E+"</div>")),c=!1,t.$element.trigger("maxReached.bs.select")),y&&w&&(_.append(e("<div>"+S+"</div>")),c=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(s,!1)},10),_.delay(750).fadeOut(300,function(){e(this).remove()})}}}else u.prop("selected",!1),d.prop("selected",!0),t.setSelected(s,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),c&&(a!=p(t.$element[0])&&t.multiple||l!=t.$element.prop("selectedIndex")&&!t.multiple)&&(m=[s,d.prop("selected"),a],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+R.DISABLED+" a, ."+R.POPOVERHEADER+", ."+R.POPOVERHEADER+" :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox.trigger("focus"):t.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus")}),this.$menu.on("click","."+R.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus"),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.on({change:function(){t.render(),t.$element.trigger("changed.bs.select",m),m=null},focus:function(){t.options.mobile||t.$button.trigger("focus")}})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var i=e.$searchbox.val();if(e.selectpicker.search.map.newIndex={},e.selectpicker.search.map.originalIndex={},e.selectpicker.search.elements=[],e.selectpicker.search.data=[],i){var n=[],r=i.toUpperCase(),o={},s=[],a=e._searchStyle(),l=e.options.liveSearchNormalize;l&&(r=T(r)),e._$lisSelected=e.$menuInner.find(".selected");for(var c=0;c<e.selectpicker.main.data.length;c++){var u=e.selectpicker.main.data[c];o[c]||(o[c]=v(u,r,a,l)),o[c]&&void 0!==u.headerIndex&&-1===s.indexOf(u.headerIndex)&&(u.headerIndex>0&&(o[u.headerIndex-1]=!0,s.push(u.headerIndex-1)),o[u.headerIndex]=!0,s.push(u.headerIndex),o[u.lastIndex+1]=!0),o[c]&&"optgroup-label"!==u.type&&s.push(c)}c=0;for(var d=s.length;c<d;c++){var h=s[c],p=s[c-1],f=(u=e.selectpicker.main.data[h],e.selectpicker.main.data[p]);("divider"!==u.type||"divider"===u.type&&f&&"divider"!==f.type&&d-1!==c)&&(e.selectpicker.search.data.push(u),n.push(e.selectpicker.main.elements[h]),u.hasOwnProperty("originalIndex")&&(e.selectpicker.search.map.newIndex[u.originalIndex]=n.length-1,e.selectpicker.search.map.originalIndex[n.length-1]=u.originalIndex))}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=n,e.createView(!0),n.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+A(i)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return"undefined"!==typeof e?(this.$element.val(e).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){"undefined"===typeof e&&(e=!0);var t=this.$element[0],i=t.options,n=0,r=0,o=p(t);t.classList.add("bs-select-hidden");for(var s=0,a=this.selectpicker.current.elements.length;s<a;s++){var l=this.selectpicker.current.data[s],c=i[this.selectpicker.current.map.originalIndex[s]];c&&!c.disabled&&"divider"!==l.type&&(c.selected&&n++,c.selected=e,e&&r++)}t.classList.remove("bs-select-hidden"),n!==r&&(this.setOptionStatus(),this.togglePlaceholder(),m=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var i,n,r,o,s,a=e(this),l=a.hasClass("dropdown-toggle"),c=(l?a.closest(".dropdown"):a.closest(H.MENU)).data("this"),u=c.findLis(),d=!1,h=t.which===N&&!l&&!c.options.selectOnTab,p=B.test(t.which)||h,f=c.$menuInner[0].scrollTop,m=c.isVirtual(),g=!0===m?c.selectpicker.view.position0:0;if(!(n=c.$newElement.hasClass(R.SHOW))&&(p||t.which>=48&&t.which<=57||t.which>=96&&t.which<=105||t.which>=65&&t.which<=90)&&(c.$button.trigger("click.bs.dropdown.data-api"),c.options.liveSearch))c.$searchbox.trigger("focus");else{if(t.which===D&&n&&(t.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),p){if(!u.length)return;void 0===(i=!0===m?u.index(u.filter(".active")):c.selectpicker.current.map.newIndex[c.activeIndex])&&(i=-1),-1!==i&&((r=c.selectpicker.current.elements[i+g]).classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),t.which===F?(-1!==i&&i--,i+g<0&&(i+=u.length),c.selectpicker.view.canHighlight[i+g]||-1===(i=c.selectpicker.view.canHighlight.slice(0,i+g).lastIndexOf(!0)-g)&&(i=u.length-1)):(t.which===O||h)&&(++i+g>=c.selectpicker.view.canHighlight.length&&(i=0),c.selectpicker.view.canHighlight[i+g]||(i=i+1+c.selectpicker.view.canHighlight.slice(i+g+1).indexOf(!0))),t.preventDefault();var y=g+i;t.which===F?0===g&&i===u.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,y=c.selectpicker.current.elements.length-1):d=(s=(o=c.selectpicker.current.data[y]).position-o.height)<f:(t.which===O||h)&&(0===i?(c.$menuInner[0].scrollTop=0,y=0):d=(s=(o=c.selectpicker.current.data[y]).position-c.sizeInfo.menuInnerHeight)>f),(r=c.selectpicker.current.elements[y])&&(r.classList.add("active"),r.firstChild&&r.firstChild.classList.add("active")),c.activeIndex=c.selectpicker.current.map.originalIndex[y],c.selectpicker.view.currentActive=r,d&&(c.$menuInner[0].scrollTop=s),c.options.liveSearch?c.$searchbox.trigger("focus"):a.trigger("focus")}else if(!a.is("input")&&!q.test(t.which)||t.which===$&&c.selectpicker.keydown.keyHistory){var b,w,x=[];t.preventDefault(),c.selectpicker.keydown.keyHistory+=P[t.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),w=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(w)&&(w=w.charAt(0));for(var k=0;k<c.selectpicker.current.data.length;k++){var T=c.selectpicker.current.data[k];v(T,w,"startsWith",!0)&&c.selectpicker.view.canHighlight[k]&&(T.index=k,x.push(T.originalIndex))}if(x.length){var C=0;u.removeClass("active").find("a").removeClass("active"),1===w.length&&(-1===(C=x.indexOf(c.activeIndex))||C===x.length-1?C=0:C++),b=c.selectpicker.current.map.newIndex[x[C]],f-(o=c.selectpicker.current.data[b]).position>0?(s=o.position-o.height,d=!0):(s=o.position-c.sizeInfo.menuInnerHeight,d=o.position>f+c.sizeInfo.menuInnerHeight),(r=c.selectpicker.current.elements[b]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),c.activeIndex=x[C],r.firstChild.trigger("focus"),d&&(c.$menuInner[0].scrollTop=s),a.trigger("focus")}}n&&(t.which===$&&!c.selectpicker.keydown.keyHistory||t.which===L||t.which===N&&c.options.selectOnTab)&&(t.which!==$&&t.preventDefault(),c.options.liveSearch&&t.which===$||(c.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),c.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.checkDisabled(),this.render(),this.createLi(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(z).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),e(window).off(".bs.select."+this.selectId)}};var X=e.fn.selectpicker;e.fn.selectpicker=Y,e.fn.selectpicker.Constructor=G,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=X,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',G.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);Y.call(t,t.data())})})}(e)},void 0===this&&void 0!==window&&window,n=[i(34)],void 0===(r=function(e){return o(e)}.apply(t,n))||(e.exports=r)},158:function(e,t){},159:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(160),r=i.n(n),o=i(161);i.n(o),new r.a(".plyr")},160:function(e,t,i){(function(t){var i;"object"==typeof navigator&&(i=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s={addCSS:!0,thumbWidth:15,watch:!0},a=function(e){return null!=e?e.constructor:null},l=function(e,t){return Boolean(e&&t&&e instanceof t)},c=function(e){return null==e},u=function(e){return a(e)===Object},d=function(e){return a(e)===String},h=function(e){return Array.isArray(e)},p=function(e){return l(e,NodeList)},f={nullOrUndefined:c,object:u,number:function(e){return a(e)===Number&&!Number.isNaN(e)},string:d,boolean:function(e){return a(e)===Boolean},function:function(e){return a(e)===Function},array:h,nodeList:p,element:function(e){return l(e,Element)},event:function(e){return l(e,Event)},empty:function(e){return c(e)||(d(e)||h(e)||p(e))&&!e.length||u(e)&&!Object.keys(e).length}};var m=function(){function t(i,n){e(this,t),f.element(i)?this.element=i:f.string(i)&&(this.element=document.querySelector(i)),f.element(this.element)&&f.empty(this.element.rangeTouch)&&(this.config=Object.assign({},s,n),this.init())}return n(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[i](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!t.enabled||!f.event(e))return null;var i,n=e.target,r=e.changedTouches[0],o=parseFloat(n.getAttribute("min"))||0,s=parseFloat(n.getAttribute("max"))||100,a=parseFloat(n.getAttribute("step"))||1,l=s-o,c=n.getBoundingClientRect(),u=100/c.width*(this.config.thumbWidth/2)/100;return(i=100/c.width*(r.clientX-c.left))<0?i=0:i>100&&(i=100),i<50?i-=(100-2*i)*u:i>50&&(i+=2*(i-50)*u),o+function(e,t){if(t<1){var i=(n="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(n[1]?n[1].length:0)-(n[2]?+n[2]:0)):0;return parseFloat(e.toFixed(i))}var n;return Math.round(e/t)*t}(l*(i/100),a)}},{key:"set",value:function(e){t.enabled&&f.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var i=new Event(t);e.dispatchEvent(i)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(f.empty(e)||f.string(e)?n=Array.from(document.querySelectorAll(f.string(e)?e:'input[type="range"]')):f.element(e)?n=[e]:f.nodeList(e)?n=Array.from(e):f.array(e)&&(n=e.filter(f.element)),f.empty(n))return null;var r=Object.assign({},s,i);return f.string(e)&&r.watch&&new MutationObserver(function(i){Array.from(i).forEach(function(i){Array.from(i.addedNodes).forEach(function(i){var n;f.element(i)&&function(){return Array.from(document.querySelectorAll(n)).includes(this)}.call(i,n=e)&&new t(i,r)})})}).observe(document.body,{childList:!0,subtree:!0}),n.map(function(e){return new t(e,i)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}(),g=function(e){return null!=e?e.constructor:null},v=function(e,t){return Boolean(e&&t&&e instanceof t)},y=function(e){return null==e},b=function(e){return g(e)===Object},w=function(e){return g(e)===String},x=function(e){return Array.isArray(e)},k=function(e){return v(e,NodeList)},T=function(e){return y(e)||(w(e)||x(e)||k(e))&&!e.length||b(e)&&!Object.keys(e).length},C={nullOrUndefined:y,object:b,number:function(e){return g(e)===Number&&!Number.isNaN(e)},string:w,boolean:function(e){return g(e)===Boolean},function:function(e){return g(e)===Function},array:x,weakMap:function(e){return v(e,WeakMap)},nodeList:k,element:function(e){return v(e,Element)},textNode:function(e){return g(e)===Text},event:function(e){return v(e,Event)},keyboardEvent:function(e){return v(e,KeyboardEvent)},cue:function(e){return v(e,window.TextTrackCue)||v(e,window.VTTCue)},track:function(e){return v(e,TextTrack)||!y(e)&&w(e.kind)},promise:function(e){return v(e,Promise)},url:function(e){if(v(e,window.URL))return!0;if(!w(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!T(new URL(t).hostname)}catch(e){return!1}},empty:T},E=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function S(e,t,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!C.empty(t)&&C.function(i)){var a=t.split(" "),l=s;E&&(l={passive:o,capture:s}),a.forEach(function(t){n&&n.eventListeners&&r&&n.eventListeners.push({element:e,type:t,callback:i,options:l}),e[r?"addEventListener":"removeEventListener"](t,i,l)})}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];S.call(this,e,t,i,!0,n,r)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];S.call(this,e,t,i,!1,n,r)}function A(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];S.call(this,e,i,function s(){I(e,i,s,r,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n.apply(t,l)},!0,r,o)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(C.element(e)&&!C.empty(t)){var r=new CustomEvent(t,{bubbles:i,detail:Object.assign({},n,{plyr:this})});e.dispatchEvent(r)}}function D(e,t){var i=e.length?e:[e];Array.from(i).reverse().forEach(function(e,i){var n=i>0?t.cloneNode(!0):t,r=e.parentNode,o=e.nextSibling;n.appendChild(e),o?r.insertBefore(n,o):r.appendChild(n)})}function L(e,t){C.element(e)&&!C.empty(t)&&Object.entries(t).filter(function(e){var t=o(e,2)[1];return!C.nullOrUndefined(t)}).forEach(function(t){var i=o(t,2),n=i[0],r=i[1];return e.setAttribute(n,r)})}function $(e,t,i){var n=document.createElement(e);return C.object(t)&&L(n,t),C.string(i)&&(n.innerText=i),n}function N(e,t,i,n){C.element(t)&&t.appendChild($(e,i,n))}function F(e){C.nodeList(e)||C.array(e)?Array.from(e).forEach(F):C.element(e)&&C.element(e.parentNode)&&e.parentNode.removeChild(e)}function O(e){if(C.element(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function j(e,t){return C.element(t)&&C.element(t.parentNode)&&C.element(e)?(t.parentNode.replaceChild(e,t),e):null}function M(e,t){if(!C.string(e)||C.empty(e))return{};var i={},n=t;return e.split(",").forEach(function(e){var t=e.trim(),r=t.replace(".",""),o=t.replace(/[[\]]/g,"").split("="),s=o[0],a=o.length>1?o[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":C.object(n)&&C.string(n.class)&&(n.class+=" ".concat(r)),i.class=r;break;case"#":i.id=t.replace("#","");break;case"[":i[s]=a}}),i}function z(e,t){if(C.element(e)){var i=t;C.boolean(i)||(i=!e.hidden),i?e.setAttribute("hidden",""):e.removeAttribute("hidden")}}function R(e,t,i){if(C.nodeList(e))return Array.from(e).map(function(e){return R(e,t,i)});if(C.element(e)){var n="toggle";return void 0!==i&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function H(e,t){return C.element(e)&&e.classList.contains(t)}function U(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function B(e){return this.elements.container.querySelectorAll(e)}function q(e){return this.elements.container.querySelector(e)}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C.element(e)&&(e.focus({preventScroll:!0}),t&&R(e,this.config.classNames.tabFocus))}var V,Z,K,G=(V=document.createElement("span"),Z={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},K=Object.keys(Z).find(function(e){return void 0!==V.style[e]}),!!C.string(K)&&Z[K]);function Y(e){setTimeout(function(){try{z(e,!0),e.offsetHeight,z(e,!1)}catch(e){}},0)}var X,J={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},Q={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ee={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,i){var n=J.isIPhone&&i&&ee.playsinline,r=ee[e]||"html5"!==t;return{api:r,ui:r&&ee.rangeInput&&("video"!==e||!J.isIPhone||n)}},pip:!(J.isIPhone||!C.function($("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||$("video").disablePictureInPicture)),airplay:C.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(C.empty(e))return!1;var t=o(e.split("/"),1)[0],i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Q).includes(i)&&(i+='; codecs="'.concat(Q[e],'"'));try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(X=document.createElement("input"),X.type="range","range"===X.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==G,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},te={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(t){var i=t.getAttribute("type");return!!C.empty(i)||ee.mime.call(e,i)}):[]},getQualityOptions:function(){return te.getSources.call(this).map(function(e){return Number(e.getAttribute("size"))}).filter(Boolean)},extend:function(){if(this.isHTML5){var e=this;Object.defineProperty(e.media,"quality",{get:function(){var t=te.getSources.call(e).find(function(t){return t.getAttribute("src")===e.source});return t&&Number(t.getAttribute("size"))},set:function(t){var i=te.getSources.call(e).find(function(e){return Number(e.getAttribute("size"))===t});if(i){var n=e.media,r=n.currentTime,o=n.paused,s=n.preload,a=n.readyState;e.media.src=i.getAttribute("src"),("none"!==s||a)&&(e.once("loadedmetadata",function(){e.currentTime=r,o||e.play()}),e.media.load()),P.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(F(te.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function ie(e){return C.array(e)?e.filter(function(t,i){return e.indexOf(t)===i}):e}function ne(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function re(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!i.length)return e;var o=i.shift();return C.object(o)?(Object.keys(o).forEach(function(t){C.object(o[t])?(Object.keys(e).includes(t)||Object.assign(e,r({},t,{})),re(e[t],o[t])):Object.assign(e,r({},t,o[t]))}),re.apply(void 0,[e].concat(i))):e}function oe(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return C.empty(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return i[t].toString()})}function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),i.toString())}function ae(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function le(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var ce={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(C.empty(e)||C.empty(t))return"";var i=ne(t.i18n,e);if(C.empty(i))return Object.keys(ce).includes(e)?ce[e]:"";var n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach(function(e){var t=o(e,2),n=t[0],r=t[1];i=se(i,n,r)}),i},de=function(){function t(i){e(this,t),this.enabled=i.config.storage.enabled,this.key=i.config.storage.key}return n(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var i=window.localStorage.getItem(this.key);if(C.empty(i))return null;var n=JSON.parse(i);return C.string(e)&&e.length?n[e]:n}},{key:"set",value:function(e){if(t.supported&&this.enabled&&C.object(e)){var i=this.get();C.empty(i)&&(i={}),re(i,e),window.localStorage.setItem(this.key,JSON.stringify(i))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),t}();function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(i,n){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",function(){if("text"===t)try{i(JSON.parse(r.responseText))}catch(e){i(r.responseText)}else i(r.response)}),r.addEventListener("error",function(){throw new Error(r.status)}),r.open("GET",e,!0),r.responseType=t,r.send()}catch(e){n(e)}})}function pe(e,t){if(C.string(e)){var i=C.string(t),n=function(){return null!==document.getElementById(t)},r=function(e,t){e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){var o=de.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),i&&s.setAttribute("id",t),o){var a=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==a){var l=JSON.parse(a);r(s,l.content)}}he(e).then(function(e){C.empty(e)||(o&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),r(s,e))}).catch(function(){})}}}var fe=function(e){return Math.trunc(e/60/60%60,10)},me=function(e){return Math.trunc(e/60%60,10)},ge=function(e){return Math.trunc(e%60,10)};function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!C.number(e))return ve(null,t,i);var n=function(e){return"0".concat(e).slice(-2)},r=fe(e),o=me(e),s=ge(e);return r=t||r>0?"".concat(r,":"):"","".concat(i&&e>0?"-":"").concat(r).concat(n(o),":").concat(n(s))}var ye={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||J.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=q.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:B.call(this,this.config.selectors.buttons.play),pause:q.call(this,this.config.selectors.buttons.pause),restart:q.call(this,this.config.selectors.buttons.restart),rewind:q.call(this,this.config.selectors.buttons.rewind),fastForward:q.call(this,this.config.selectors.buttons.fastForward),mute:q.call(this,this.config.selectors.buttons.mute),pip:q.call(this,this.config.selectors.buttons.pip),airplay:q.call(this,this.config.selectors.buttons.airplay),settings:q.call(this,this.config.selectors.buttons.settings),captions:q.call(this,this.config.selectors.buttons.captions),fullscreen:q.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=q.call(this,this.config.selectors.progress),this.elements.inputs={seek:q.call(this,this.config.selectors.inputs.seek),volume:q.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:q.call(this,this.config.selectors.display.buffer),currentTime:q.call(this,this.config.selectors.display.currentTime),duration:q.call(this,this.config.selectors.display.duration)},C.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var i=ye.getIconUrl.call(this),n="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),r=document.createElementNS("http://www.w3.org/2000/svg","svg");L(r,re(t,{role:"presentation",focusable:"false"}));var o=document.createElementNS("http://www.w3.org/2000/svg","use"),s="".concat(n,"-").concat(e);return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),r.appendChild(o),r},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=ue(e,this.config);return $("span",Object.assign({},t,{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),i)},createBadge:function(e){if(C.empty(e))return null;var t=$("span",{class:this.config.classNames.menu.value});return t.appendChild($("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var i=Object.assign({},t),n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return se(e=ae(e=se(e=se(e,"-"," "),"_"," "))," ","")}(e)).charAt(0).toLowerCase()+e.slice(1)}(e),r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(e){Object.keys(i).includes(e)&&(r[e]=i[e],delete i[e])}),"button"!==r.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.includes(this.config.classNames.control)||(i.class+=" ".concat(this.config.classNames.control)):i.class=this.config.classNames.control,e){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",r.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),n="play",r.label="play",r.icon="play";break;default:C.empty(r.label)&&(r.label=n),C.empty(r.icon)&&(r.icon=e)}var o=$(r.element);return r.toggle?(o.appendChild(ye.createIcon.call(this,r.iconPressed,{class:"icon--pressed"})),o.appendChild(ye.createIcon.call(this,r.icon,{class:"icon--not-pressed"})),o.appendChild(ye.createLabel.call(this,r.labelPressed,{class:"label--pressed"})),o.appendChild(ye.createLabel.call(this,r.label,{class:"label--not-pressed"}))):(o.appendChild(ye.createIcon.call(this,r.icon)),o.appendChild(ye.createLabel.call(this,r.label))),re(i,M(this.config.selectors.buttons[n],i)),L(o,i),"play"===n?(C.array(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(o)):this.elements.buttons[n]=o,o},createRange:function(e,t){var i=$("input",re(M(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ue(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,ye.updateRangeFill.call(this,i),m.setup(i),i},createProgress:function(e,t){var i=$("progress",re(M(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild($("span",null,"0"));var n={played:"played",buffer:"buffered"}[e],r=n?ue(n,this.config):"";i.innerText="% ".concat(r.toLowerCase())}return this.elements.display[e]=i,i},createTime:function(e){var t=M(this.config.selectors.display[e]),i=$("div",re(t,{class:"".concat(this.config.classNames.display.time," ").concat(t.class?t.class:"").trim(),"aria-label":ue(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts:function(e,t){var i=this;_(e,"keydown keyup",function(n){if([32,38,39,40].includes(n.which)&&(n.preventDefault(),n.stopPropagation(),"keydown"!==n.type)){var r,o=U(e,'[role="menuitemradio"]');!o&&[32,39].includes(n.which)?ye.showMenuPanel.call(i,t,!0):32!==n.which&&(40===n.which||o&&39===n.which?(r=e.nextElementSibling,C.element(r)||(r=e.parentNode.firstElementChild)):(r=e.previousElementSibling,C.element(r)||(r=e.parentNode.lastElementChild)),W.call(i,r,!0))}},!1),_(e,"keyup",function(e){13===e.which&&ye.focusFirstMenuItem.call(i,null,!0)})},createMenuItem:function(e){var t=this,i=e.value,n=e.list,r=e.type,o=e.title,s=e.badge,a=void 0===s?null:s,l=e.checked,c=void 0!==l&&l,u=M(this.config.selectors.inputs[r]),d=$("button",re(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:i})),h=$("span");h.innerHTML=o,C.element(a)&&h.appendChild(a),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter(function(e){return U(e,'[role="menuitemradio"]')}).forEach(function(e){return e.setAttribute("aria-checked","false")}),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",function(e){if(!C.keyboardEvent(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,r){case"language":t.currentTrack=Number(i);break;case"quality":t.quality=i;break;case"speed":t.speed=parseFloat(i)}ye.showMenuPanel.call(t,"home",C.keyboardEvent(e))}},r,!1),ye.bindMenuItemShortcuts.call(this,d,r),n.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C.number(e)?ve(e,fe(this.duration)>0,t):e},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];C.element(e)&&C.number(t)&&(e.innerText=ye.formatTime(t,i))},updateVolume:function(){this.supported.ui&&(C.element(this.elements.inputs.volume)&&ye.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),C.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;C.element(e)&&(e.value=t,ye.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&C.event(e)){var i,n,r=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":i=this.currentTime,n=this.duration,r=0===i||0===n||Number.isNaN(i)||Number.isNaN(n)?0:(i/n*100).toFixed(2),"timeupdate"===e.type&&ye.setRange.call(this,this.elements.inputs.seek,r);break;case"playing":case"progress":!function(e,i){var n=C.number(i)?i:0,r=C.element(e)?e:t.elements.display.buffer;if(C.element(r)){r.value=n;var o=r.getElementsByTagName("span")[0];C.element(o)&&(o.childNodes[0].nodeValue=n)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=C.event(e)?e.target:e;if(C.element(t)&&"range"===t.getAttribute("type")){if(U(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var i=ye.formatTime(this.currentTime),n=ye.formatTime(this.duration),r=ue("seekLabel",this.config);t.setAttribute("aria-valuetext",r.replace("{currentTime}",i).replace("{duration}",n))}else if(U(t,this.config.selectors.inputs.volume)){var o=100*t.value;t.setAttribute("aria-valuenow",o),t.setAttribute("aria-valuetext","".concat(o.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);J.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&C.element(this.elements.inputs.seek)&&C.element(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.progress.getBoundingClientRect(),r="".concat(this.config.classNames.tooltip,"--visible"),o=function(e){R(t.elements.display.seekTooltip,r,e)};if(this.touch)o(!1);else{if(C.event(e))i=100/n.width*(e.pageX-n.left);else{if(!H(this.elements.display.seekTooltip,r))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:i>100&&(i=100),ye.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left="".concat(i,"%"),C.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&o("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!C.element(this.elements.display.duration)&&this.config.invertTime;ye.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||ye.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return z(this.elements.display.currentTime,!0),void z(this.elements.progress,!0);C.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=C.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&ye.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&ye.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),ye.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){z(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,i){var n=this.elements.settings.panels[e],r=null,o=t;if("captions"===e)r=this.currentTrack;else{if(r=C.empty(i)?this[e]:i,C.empty(r)&&(r=this.config[e].default),!C.empty(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(e));if(!this.config[e].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(e))}if(C.element(o)||(o=n&&n.querySelector('[role="menu"]')),C.element(o)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=ye.getLabel.call(this,e,r);var s=o&&o.querySelector('[value="'.concat(r,'"]'));C.element(s)&&(s.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?ue("normal",this.config):"".concat(t,"&times;");case"quality":if(C.number(t)){var i=ue("qualityLabel.".concat(t),this.config);return i.length?i:"".concat(t,"p")}return ae(t);case"captions":return xe.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(C.element(this.elements.settings.panels.quality)){var i=this.elements.settings.panels.quality.querySelector('[role="menu"]');C.array(e)&&(this.options.quality=ie(e).filter(function(e){return t.config.quality.options.includes(e)}));var n=!C.empty(this.options.quality)&&this.options.quality.length>1;if(ye.toggleMenuButton.call(this,"quality",n),O(i),ye.checkMenu.call(this),n){this.options.quality.sort(function(e,i){var n=t.config.quality.options;return n.indexOf(e)>n.indexOf(i)?1:-1}).forEach(function(e){ye.createMenuItem.call(t,{value:e,list:i,type:"quality",title:ye.getLabel.call(t,"quality",e),badge:function(e){var i=ue("qualityBadge.".concat(e),t.config);return i.length?ye.createBadge.call(t,i):null}(e)})}),ye.updateSetting.call(this,"quality",i)}}},setCaptionsMenu:function(){var e=this;if(C.element(this.elements.settings.panels.captions)){var t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=xe.getTracks.call(this),n=Boolean(i.length);if(ye.toggleMenuButton.call(this,"captions",n),O(t),ye.checkMenu.call(this),n){var r=i.map(function(i,n){return{value:n,checked:e.captions.toggled&&e.currentTrack===n,title:xe.getLabel.call(e,i),badge:i.language&&ye.createBadge.call(e,i.language.toUpperCase()),list:t,type:"language"}});r.unshift({value:-1,checked:!this.captions.toggled,title:ue("disabled",this.config),list:t,type:"language"}),r.forEach(ye.createMenuItem.bind(this)),ye.updateSetting.call(this,"captions",t)}}},setSpeedMenu:function(e){var t=this;if(C.element(this.elements.settings.panels.speed)){var i=this.elements.settings.panels.speed.querySelector('[role="menu"]');C.array(e)?this.options.speed=e:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(e){return t.config.speed.options.includes(e)});var n=!C.empty(this.options.speed)&&this.options.speed.length>1;ye.toggleMenuButton.call(this,"speed",n),O(i),ye.checkMenu.call(this),n&&(this.options.speed.forEach(function(e){ye.createMenuItem.call(t,{value:e,list:i,type:"speed",title:ye.getLabel.call(t,"speed",e)})}),ye.updateSetting.call(this,"speed",i))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!C.empty(e)&&Object.values(e).some(function(e){return!e.hidden});z(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var i=e;C.element(i)||(i=Object.values(this.elements.settings.panels).find(function(e){return!e.hidden}));var n=i.querySelector('[role^="menuitem"]');W.call(this,n,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,i=this.elements.buttons.settings;if(C.element(t)&&C.element(i)){var n=t.hidden,r=n;if(C.boolean(e))r=e;else if(C.keyboardEvent(e)&&27===e.which)r=!1;else if(C.event(e)){var o=t.contains(e.target);if(o||!o&&e.target!==i&&r)return}i.setAttribute("aria-expanded",r),z(t,!r),R(this.elements.container,this.config.classNames.menu.open,r),r&&C.keyboardEvent(e)?ye.focusFirstMenuItem.call(this,null,!0):r||n||W.call(this,i,C.keyboardEvent(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var i=t.scrollWidth,n=t.scrollHeight;return F(t),{width:i,height:n}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.getElementById("plyr-settings-".concat(this.id,"-").concat(t));if(C.element(n)){var r=n.parentNode,o=Array.from(r.children).find(function(e){return!e.hidden});if(ee.transitions&&!ee.reducedMotion){r.style.width="".concat(o.scrollWidth,"px"),r.style.height="".concat(o.scrollHeight,"px");var s=ye.getMenuSize.call(this,n);_.call(this,r,G,function t(i){i.target===r&&["width","height"].includes(i.propertyName)&&(r.style.width="",r.style.height="",I.call(e,r,G,t))}),r.style.width="".concat(s.width,"px"),r.style.height="".concat(s.height,"px")}z(o,!0),z(n,!1),ye.focusFirstMenuItem.call(this,n,i)}},setDownloadLink:function(){var e=this.elements.buttons.download;C.element(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,i=$("div",M(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&i.appendChild(ye.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&i.appendChild(ye.createButton.call(this,"rewind")),this.config.controls.includes("play")&&i.appendChild(ye.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&i.appendChild(ye.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var n=$("div",M(this.config.selectors.progress));if(n.appendChild(ye.createRange.call(this,"seek",{id:"plyr-seek-".concat(e.id)})),n.appendChild(ye.createProgress.call(this,"buffer")),this.config.tooltips.seek){var r=$("span",{class:this.config.classNames.tooltip},"00:00");n.appendChild(r),this.elements.display.seekTooltip=r}this.elements.progress=n,i.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&i.appendChild(ye.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&i.appendChild(ye.createTime.call(this,"duration")),this.config.controls.includes("mute")||this.config.controls.includes("volume")){var o=$("div",{class:"plyr__volume"});if(this.config.controls.includes("mute")&&o.appendChild(ye.createButton.call(this,"mute")),this.config.controls.includes("volume")){var s={max:1,step:.05,value:this.config.volume};o.appendChild(ye.createRange.call(this,"volume",re(s,{id:"plyr-volume-".concat(e.id)}))),this.elements.volume=o}i.appendChild(o)}if(this.config.controls.includes("captions")&&i.appendChild(ye.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!C.empty(this.config.settings)){var a=$("div",{class:"plyr__menu",hidden:""});a.appendChild(ye.createButton.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var l=$("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),c=$("div"),u=$("div",{id:"plyr-settings-".concat(e.id,"-home")}),d=$("div",{role:"menu"});u.appendChild(d),c.appendChild(u),this.elements.settings.panels.home=u,this.config.settings.forEach(function(i){var n=$("button",re(M(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));ye.bindMenuItemShortcuts.call(t,n,i),_(n,"click",function(){ye.showMenuPanel.call(t,i,!1)});var r=$("span",null,ue(i,t.config)),o=$("span",{class:t.config.classNames.menu.value});o.innerHTML=e[i],r.appendChild(o),n.appendChild(r),d.appendChild(n);var s=$("div",{id:"plyr-settings-".concat(e.id,"-").concat(i),hidden:""}),a=$("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});a.appendChild($("span",{"aria-hidden":!0},ue(i,t.config))),a.appendChild($("span",{class:t.config.classNames.hidden},ue("menuBack",t.config))),_(s,"keydown",function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),ye.showMenuPanel.call(t,"home",!0))},!1),_(a,"click",function(){ye.showMenuPanel.call(t,"home",!1)}),s.appendChild(a),s.appendChild($("div",{role:"menu"})),c.appendChild(s),t.elements.settings.buttons[i]=n,t.elements.settings.panels[i]=s}),l.appendChild(c),a.appendChild(l),i.appendChild(a),this.elements.settings.popup=l,this.elements.settings.menu=a}if(this.config.controls.includes("pip")&&ee.pip&&i.appendChild(ye.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&ee.airplay&&i.appendChild(ye.createButton.call(this,"airplay")),this.config.controls.includes("download")){var h={element:"a",href:this.download,target:"_blank"},p=this.config.urls.download;!C.url(p)&&this.isEmbed&&re(h,{icon:"logo-".concat(this.provider),label:this.provider}),i.appendChild(ye.createButton.call(this,"download",h))}return this.config.controls.includes("fullscreen")&&i.appendChild(ye.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(ye.createButton.call(this,"play-large")),this.elements.controls=i,this.isHTML5&&ye.setQualityMenu.call(this,te.getQualityOptions.call(this)),ye.setSpeedMenu.call(this),i},inject:function(){var e=this;if(this.config.loadSprite){var t=ye.getIconUrl.call(this);t.cors&&pe(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var i=null;this.elements.controls=null;var n={id:this.id,seektime:this.config.seekTime,title:this.config.title},r=!0;C.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,n)),this.config.controls||(this.config.controls=[]),C.element(this.config.controls)||C.string(this.config.controls)?i=this.config.controls:(i=ye.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:xe.getLabel.call(this)}),r=!1);var s,a=function(e){var t=e;return Object.entries(n).forEach(function(e){var i=o(e,2),n=i[0],r=i[1];t=se(t,"{".concat(n,"}"),r)}),t};if(r&&(C.string(this.config.controls)?i=a(i):C.element(i)&&(i.innerHTML=a(i.innerHTML))),C.string(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),C.element(s)||(s=this.elements.container),s[C.element(i)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",i),C.element(this.elements.controls)||ye.findElements.call(this),!C.empty(this.elements.buttons)){var l=function(t){var i=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return H(t,i)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R(t,i,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(e){C.array(e)||C.nodeList(e)?Array.from(e).filter(Boolean).forEach(l):l(e)})}if(J.isEdge&&Y(s),this.config.tooltips.controls){var c=this.config,u=c.classNames,d=c.selectors,h="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(u.hidden),p=B.call(this,h);Array.from(p).forEach(function(t){R(t,e.config.classNames.hidden,!1),R(t,e.config.classNames.tooltip,!0)})}}};function be(e){var t=e;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=document.createElement("a");i.href=t,t=i.href}try{return new URL(t)}catch(e){return null}}function we(e){var t=new URLSearchParams;return C.object(e)&&Object.entries(e).forEach(function(e){var i=o(e,2),n=i[0],r=i[1];t.set(n,r)}),t}var xe={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!ee.textTracks)C.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ye.setCaptionsMenu.call(this);else{var e,t;if(C.element(this.elements.captions)||(this.elements.captions=$("div",M(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,C.element(e)&&C.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),J.isIE&&window.URL){var i=this.media.querySelectorAll("track");Array.from(i).forEach(function(e){var t=e.getAttribute("src"),i=be(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&he(t,"blob").then(function(t){e.setAttribute("src",window.URL.createObjectURL(t))}).catch(function(){F(e)})})}var n=ie((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(e){return e.split("-")[0]})),r=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===r&&(r=o(n,1)[0]);var s=this.storage.get("captions");if(C.boolean(s)||(s=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:s,language:r,languages:n}),this.isHTML5){var a=this.config.captions.update?"addtrack removetrack":"removetrack";_.call(this,this.media.textTracks,a,xe.update.bind(this))}setTimeout(xe.update.bind(this),0)}},update:function(){var e=this,t=xe.getTracks.call(this,!0),i=this.captions,n=i.active,r=i.language,o=i.meta,s=i.currentTrackNode,a=Boolean(t.find(function(e){return e.language===r}));this.isHTML5&&this.isVideo&&t.filter(function(e){return!o.get(e)}).forEach(function(t){e.debug.log("Track added",t),o.set(t,{default:"showing"===t.mode}),t.mode="hidden",_.call(e,t,"cuechange",function(){return xe.updateCues.call(e)})}),(a&&this.language!==r||!t.includes(s))&&(xe.setLanguage.call(this,r),xe.toggle.call(this,n&&a)),R(this.elements.container,this.config.classNames.captions.enabled,!C.empty(t)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&ye.setCaptionsMenu.call(this)},toggle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,n=this.config.classNames.captions.active,r=C.nullOrUndefined(e)?!i:e;if(r!==i){if(t||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!t){var o=xe.getTracks.call(this),s=xe.findTrack.call(this,[this.captions.language].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.captions.languages)),!0);return this.captions.language=s.language,void xe.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),R(this.elements.container,n,r),this.captions.toggled=r,ye.updateSetting.call(this,"captions"),P.call(this,this.media,r?"captionsenabled":"captionsdisabled")}}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=xe.getTracks.call(this);if(-1!==e)if(C.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var n=i[e],r=(n||{}).language;this.captions.currentTrackNode=n,ye.updateSetting.call(this,"captions"),t||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),P.call(this,this.media,"languagechange")}xe.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&xe.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else xe.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(C.string(e)){var i=e.toLowerCase();this.captions.language=i;var n=xe.getTracks.call(this),r=xe.findTrack.call(this,[i]);xe.set.call(this,n.indexOf(r),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(i){return!e.isHTML5||t||e.captions.meta.has(i)}).filter(function(e){return["captions","subtitles"].includes(e.kind)})},findTrack:function(e){var t,i=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=xe.getTracks.call(this),o=function(e){return Number((i.captions.meta.get(e)||{}).default)},s=Array.from(r).sort(function(e,t){return o(t)-o(e)});return e.every(function(e){return!(t=s.find(function(t){return t.language===e}))}),t||(n?s[0]:void 0)},getCurrentTrack:function(){return xe.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!C.track(t)&&ee.textTracks&&this.captions.toggled&&(t=xe.getCurrentTrack.call(this)),C.track(t)?C.empty(t.label)?C.empty(t.language)?ue("enabled",this.config):e.language.toUpperCase():t.label:ue("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(C.element(this.elements.captions))if(C.nullOrUndefined(e)||Array.isArray(e)){var t=e;if(!t){var i=xe.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map(function(e){return e.getCueAsHTML()}).map(le)}var n=t.map(function(e){return e.trim()}).join("\n");if(n!==this.elements.captions.innerHTML){O(this.elements.captions);var r=$("span",M(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),P.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},ke={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.5.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1},youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Te="picture-in-picture",Ce={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Ee={audio:"audio",video:"video"},Se=function(){},_e=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.enabled=window.console&&i,this.enabled&&this.log("Debugging enabled")}return n(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):Se}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):Se}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):Se}}]),t}();function Ie(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;C.element(e)&&(e.pressed=this.active),P.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),J.isIos||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(C.element(e)){var i=B.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=i[0],r=i[i.length-1];S.call(this,this.elements.container,"keydown",function(e){if("Tab"===e.key&&9===e.keyCode){var t=document.activeElement;t!==r||e.shiftKey?t===n&&e.shiftKey&&(r.focus(),e.preventDefault()):(n.focus(),e.preventDefault())}},t,!1)}}.call(this.player,this.target,this.active)}}function Ae(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",R(this.target,this.player.config.classNames.fullscreen.fallback,t),J.isIos){var i=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";i||(i=document.createElement("meta")).setAttribute("name","viewport");var r=C.string(i.content)&&i.content.includes(n);t?(this.cleanupViewport=!r,r||(i.content+=",".concat(n))):this.cleanupViewport&&(i.content=i.content.split(",").filter(function(e){return e.trim()!==n}).join(",")),setTimeout(function(){return Y(e.target)},100)}Ie.call(this)}var Pe=function(){function t(i){var n=this;e(this,t),this.player=i,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===i.config.fullscreen.fallback,_.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){Ie.call(n)}),_.call(this.player,this.player.elements.container,"dblclick",function(e){C.element(n.player.elements.controls)&&n.player.elements.controls.contains(e.target)||n.toggle()}),this.update()}return n(t,[{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),R(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(J.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!t.native||this.forceFallback?Ae.call(this,!0):this.prefix?C.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen())}},{key:"exit",value:function(){if(this.enabled)if(J.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(!t.native||this.forceFallback)Ae.call(this,!1);else if(this.prefix){if(!C.empty(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(!t.native||this.forceFallback?H(this.target,this.player.config.classNames.fullscreen.fallback):(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target)}},{key:"target",get:function(){return J.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(C.function(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some(function(t){return!(!C.function(document["".concat(t,"ExitFullscreen")])&&!C.function(document["".concat(t,"CancelFullScreen")]))&&(e=t,!0)}),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(i,n){var r=new Image,o=function(){delete r.onload,delete r.onerror,(r.naturalWidth>=t?i:n)(r)};Object.assign(r,{onload:o,onerror:o,src:e})})}var Le={addStyleHook:function(){R(this.elements.container,this.config.selectors.container.replace(".",""),!0),R(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Le.toggleNativeControls.call(this,!0);C.element(this.elements.controls)||(ye.inject.call(this),this.listeners.controls()),Le.toggleNativeControls.call(this),this.isHTML5&&xe.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,ye.updateVolume.call(this),ye.timeUpdate.call(this),Le.checkPlaying.call(this),R(this.elements.container,this.config.classNames.pip.supported,ee.pip&&this.isHTML5&&this.isVideo),R(this.elements.container,this.config.classNames.airplay.supported,ee.airplay&&this.isHTML5),R(this.elements.container,this.config.classNames.isIos,J.isIos),R(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){P.call(e,e.media,"ready")},0),Le.setTitle.call(this),this.poster&&Le.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&ye.durationUpdate.call(this)},setTitle:function(){var e=ue("play",this.config);if(C.string(this.config.title)&&!C.empty(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(t){t.setAttribute("aria-label",e)}),this.isEmbed){var t=q.call(this,"iframe");if(!C.element(t))return;var i=C.empty(this.config.title)?"video":this.config.title,n=ue("frameTitle",this.config);t.setAttribute("title",n.replace("{title}",i))}},togglePoster:function(e){R(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("poster",e),function(){var e=this;return new Promise(function(t){return e.ready?setTimeout(t,0):_.call(e,e.elements.container,"ready",t)}).then(function(){})}.call(this).then(function(){return De(e)}).catch(function(i){throw e===t.poster&&Le.togglePoster.call(t,!1),i}).then(function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),Le.togglePoster.call(t,!0),e})):Promise.reject(new Error("Poster already set"))},checkPlaying:function(e){var t=this;R(this.elements.container,this.config.classNames.playing,this.playing),R(this.elements.container,this.config.classNames.paused,this.paused),R(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.pressed=t.playing}),C.event(e)&&"timeupdate"===e.type||Le.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){R(t.elements.container,t.config.classNames.loading,t.loading),Le.toggleControls.call(t)},this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}}};function $e(e){var t=e;C.string(t)||C.nullOrUndefined(this.embed)||(t=this.embed.ratio),C.string(t)||(t=this.config.ratio);var i=o(t.split(":").map(Number),2),n=100/i[0]*i[1];if(this.elements.wrapper.style.paddingBottom="".concat(n,"%"),this.isVimeo&&this.supported.ui){var r=(240-n)/4.8;this.media.style.transform="translateY(-".concat(r,"%)")}return{padding:n,ratio:t}}var Ne=function(){function t(i){e(this,t),this.player=i,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return n(t,[{key:"handleKey",value:function(e){var t=this.player,i=t.elements,n=e.keyCode?e.keyCode:e.which,r="keydown"===e.type,o=r&&n===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&C.number(n))if(r){var s=document.activeElement;if(C.element(s)){var a=t.config.selectors.editable;if(s!==i.inputs.seek&&U(s,a))return;if(32===e.which&&U(s,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:o||(t.currentTime=t.duration/10*(n-48));break;case 32:case 75:o||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:o||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:o||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===n&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}},{key:"toggleMenu",value:function(e){ye.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,R(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,i=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var n,r=e.timeStamp-this.lastKeyDown<=20;("focus"!==e.type||r)&&(n=t.config.classNames.tabFocus,R(B.call(t,".".concat(n)),n,!1),this.focusTimer=setTimeout(function(){var e=document.activeElement;i.container.contains(e)&&R(document.activeElement,t.config.classNames.tabFocus,!0)},10))}}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&S.call(t,window,"keydown keyup",this.handleKey,e,!1),S.call(t,document.body,"click",this.toggleMenu,e),A.call(t,document.body,"touchstart",this.firstTouch),S.call(t,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,t=e.config,i=e.elements,n=e.timers;!t.keyboard.global&&t.keyboard.focused&&_.call(e,i.container,"keydown keyup",this.handleKey,!1),_.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(t){var r=i.controls;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);var o=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Le.toggleControls.call(e,!0),o=e.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(function(){return Le.toggleControls.call(e,!1)},o)});var r=function(t){if(!t)return $e.call(e);var n=i.container.getBoundingClientRect(),r=n.width,o=n.height;return $e.call(e,"".concat(r,":").concat(o))},s=function(){window.clearTimeout(n.resized),n.resized=window.setTimeout(r,50)};_.call(e,i.container,"enterfullscreen exitfullscreen",function(t){var n=e.fullscreen,a=n.target,l=n.usingNative;if(e.isEmbed&&a===i.container){var c="enterfullscreen"===t.type,u=r(c);u.padding,!function(t,i,n){if(e.isVimeo){var r=e.elements.wrapper.firstChild,s=o(t.split(":").map(Number),2)[1],a=o(e.embed.ratio.split(":").map(Number),2),l=a[0],c=a[1];r.style.maxWidth=n?"".concat(s/c*l,"px"):null,r.style.margin=n?"0 auto":null}}(u.ratio,0,c),l||(c?_.call(e,window,"resize",s):I.call(e,window,"resize",s))}})}},{key:"media",value:function(){var e=this,t=this.player,i=t.elements;if(_.call(t,t.media,"timeupdate seeking seeked",function(e){return ye.timeUpdate.call(t,e)}),_.call(t,t.media,"durationchange loadeddata loadedmetadata",function(e){return ye.durationUpdate.call(t,e)}),_.call(t,t.media,"canplay loadeddata",function(){z(i.volume,!t.hasAudio),z(i.buttons.mute,!t.hasAudio)}),_.call(t,t.media,"ended",function(){t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&t.restart()}),_.call(t,t.media,"progress playing seeking seeked",function(e){return ye.updateProgress.call(t,e)}),_.call(t,t.media,"volumechange",function(e){return ye.updateVolume.call(t,e)}),_.call(t,t.media,"playing play pause ended emptied timeupdate",function(e){return Le.checkPlaying.call(t,e)}),_.call(t,t.media,"waiting canplay seeked playing",function(e){return Le.checkLoading.call(t,e)}),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){var n=q.call(t,".".concat(t.config.classNames.video));if(!C.element(n))return;_.call(t,i.container,"click",function(r){([i.container,n].includes(r.target)||n.contains(r.target))&&(t.touch&&t.config.hideControls||(t.ended?(e.proxy(r,t.restart,"restart"),e.proxy(r,t.play,"play")):e.proxy(r,t.togglePlay,"play")))})}t.supported.ui&&t.config.disableContextMenu&&_.call(t,i.wrapper,"contextmenu",function(e){e.preventDefault()},!1),_.call(t,t.media,"volumechange",function(){t.storage.set({volume:t.volume,muted:t.muted})}),_.call(t,t.media,"ratechange",function(){ye.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),_.call(t,t.media,"qualitychange",function(e){ye.updateSetting.call(t,"quality",null,e.detail.quality)}),_.call(t,t.media,"ready qualitychange",function(){ye.setDownloadLink.call(t)});var r=t.config.events.concat(["keyup","keydown"]).join(" ");_.call(t,t.media,r,function(e){var n=e.detail,r=void 0===n?{}:n;"error"===e.type&&(r=t.media.error),P.call(t,i.container,e.type,!0,r)})}},{key:"proxy",value:function(e,t,i){var n=this.player,r=n.config.listeners[i],o=!0;C.function(r)&&(o=r.call(n,e)),o&&C.function(t)&&t.call(n,e)}},{key:"bind",value:function(e,t,i,n){var r=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.player,a=s.config.listeners[n],l=C.function(a);_.call(s,e,t,function(e){return r.proxy(e,i,n)},o&&!l)}},{key:"controls",value:function(){var e=this,t=this.player,i=t.elements,n=J.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach(function(i){e.bind(i,"click",t.togglePlay,"play")}),this.bind(i.buttons.restart,"click",t.restart,"restart"),this.bind(i.buttons.rewind,"click",t.rewind,"rewind"),this.bind(i.buttons.fastForward,"click",t.forward,"fastForward"),this.bind(i.buttons.mute,"click",function(){t.muted=!t.muted},"mute"),this.bind(i.buttons.captions,"click",function(){return t.toggleCaptions()}),this.bind(i.buttons.download,"click",function(){P.call(t,t.media,"download")},"download"),this.bind(i.buttons.fullscreen,"click",function(){t.fullscreen.toggle()},"fullscreen"),this.bind(i.buttons.pip,"click",function(){t.pip="toggle"},"pip"),this.bind(i.buttons.airplay,"click",t.airplay,"airplay"),this.bind(i.buttons.settings,"click",function(e){e.stopPropagation(),ye.toggleMenu.call(t,e)}),this.bind(i.buttons.settings,"keyup",function(e){var i=e.which;[13,32].includes(i)&&(13!==i?(e.preventDefault(),e.stopPropagation(),ye.toggleMenu.call(t,e)):ye.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(i.settings.menu,"keydown",function(e){27===e.which&&ye.toggleMenu.call(t,e)}),this.bind(i.inputs.seek,"mousedown mousemove",function(e){var t=i.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",n)}),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(e){var i=e.currentTarget,n=e.keyCode?e.keyCode:e.which;if(!C.keyboardEvent(e)||39===n||37===n){t.lastSeekTime=Date.now();var r=i.hasAttribute("play-on-seeked"),o=["mouseup","touchend","keyup"].includes(e.type);r&&o?(i.removeAttribute("play-on-seeked"),t.play()):!o&&t.playing&&(i.setAttribute("play-on-seeked",""),t.pause())}}),J.isIos){var r=B.call(t,'input[type="range"]');Array.from(r).forEach(function(t){return e.bind(t,n,function(e){return Y(e.target)})})}this.bind(i.inputs.seek,n,function(e){var i=e.currentTarget,n=i.getAttribute("seek-value");C.empty(n)&&(n=i.value),i.removeAttribute("seek-value"),t.currentTime=n/i.max*t.duration},"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",function(e){return ye.updateSeekTooltip.call(t,e)}),this.bind(i.progress,"mousemove touchmove",function(e){var i=t.previewThumbnails;i&&i.loaded&&i.startMove(e)}),this.bind(i.progress,"mouseleave click",function(){var e=t.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(i.progress,"mousedown touchstart",function(e){var i=t.previewThumbnails;i&&i.loaded&&i.startScrubbing(e)}),this.bind(i.progress,"mouseup touchend",function(e){var i=t.previewThumbnails;i&&i.loaded&&i.endScrubbing(e)}),J.isWebkit&&Array.from(B.call(t,'input[type="range"]')).forEach(function(i){e.bind(i,"input",function(e){return ye.updateRangeFill.call(t,e.target)})}),t.config.toggleInvert&&!C.element(i.display.duration)&&this.bind(i.display.currentTime,"click",function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,ye.timeUpdate.call(t))}),this.bind(i.inputs.volume,n,function(e){t.volume=e.target.value},"volume"),this.bind(i.controls,"mouseenter mouseleave",function(e){i.controls.hover=!t.touch&&"mouseenter"===e.type}),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){i.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(i.controls,"focusin",function(){var i=t.config,n=t.elements,r=t.timers;R(n.controls,i.classNames.noTransition,!0),Le.toggleControls.call(t,!0),setTimeout(function(){R(n.controls,i.classNames.noTransition,!1)},0);var o=e.touch?3e3:4e3;clearTimeout(r.controls),r.controls=setTimeout(function(){return Le.toggleControls.call(t,!1)},o)}),this.bind(i.inputs.volume,"wheel",function(e){var i=e.webkitDirectionInvertedFromDevice,n=o([e.deltaX,-e.deltaY].map(function(e){return i?-e:e}),2),r=n[0],s=n[1],a=Math.sign(Math.abs(r)>Math.abs(s)?r:s);t.increaseVolume(a/50);var l=t.media.volume;(1===a&&l<1||-1===a&&l>0)&&e.preventDefault()},"volume",!1)}}]),t}();"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var Fe,Oe=(function(e,t){e.exports=function(){var e=function(){},t={},i={},n={};function r(e,t){if(e){var r=n[e];if(i[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function o(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function s(t,i,n,r){var o,a,l=document,c=n.async,u=(n.numRetries||0)+1,d=n.before||e,h=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(t)?(o=!0,(a=l.createElement("link")).rel="stylesheet",a.href=h):/(^img!|\.(png|gif|jpg|svg)$)/.test(t)?(a=l.createElement("img")).src=h:((a=l.createElement("script")).src=t,a.async=void 0===c||c),a.onload=a.onerror=a.onbeforeload=function(e){var l=e.type[0];if(o&&"hideFocus"in a)try{a.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l&&(r+=1)<u)return s(t,i,n,r);i(t,l,e.defaultPrevented)},!1!==d(t,a)&&l.head.appendChild(a)}function a(e,i,n){var a,l;if(i&&i.trim&&(a=i),l=(a?n:i)||{},a){if(a in t)throw"LoadJS";t[a]=!0}!function(e,t,i){var n,r,o=(e=e.push?e:[e]).length,a=o,l=[];for(n=function(e,i,n){if("e"==i&&l.push(e),"b"==i){if(!n)return;l.push(e)}--o||t(l)},r=0;r<a;r++)s(e[r],n,i)}(e,function(e){o(l,e),r(a,e)},l)}return a.ready=function(e,t){return function(e,t){var r,o,s,a=[],l=(e=e.push?e:[e]).length,c=l;for(r=function(e,i){i.length&&a.push(e),--c||t(a)};l--;)o=e[l],(s=i[o])?r(o,s):(n[o]=n[o]||[]).push(r)}(e,function(e){o(t,e)}),a},a.done=function(e){r(e,[])},a.reset=function(){t={},i={},n={}},a.isDefined=function(e){return e in t},a}()}(Fe={exports:{}}),Fe.exports);function je(e){return new Promise(function(t,i){Oe(e,{success:t,error:i})})}function Me(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,P.call(this,this.media,e?"play":"pause"))}var ze={setup:function(){var e=this;R(this.elements.wrapper,this.config.classNames.embed,!0),$e.call(this),C.object(window.Vimeo)?ze.ready.call(this):je(this.config.urls.vimeo.sdk).then(function(){ze.ready.call(e)}).catch(function(t){e.debug.warn("Vimeo API failed to load",t)})},ready:function(){var e=this,t=this,i=t.config.vimeo,n=we(re({},{loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},i)),r=t.media.getAttribute("src");C.empty(r)&&(r=t.media.getAttribute(t.config.attributes.embed.id));var s,a=(s=r,C.empty(s)?null:C.number(Number(s))?s:s.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:s),l=$("iframe"),c=oe(t.config.urls.vimeo.iframe,a,n);l.setAttribute("src",c),l.setAttribute("allowfullscreen",""),l.setAttribute("allowtransparency",""),l.setAttribute("allow","autoplay");var u=$("div",{poster:t.poster,class:t.config.classNames.embedContainer});u.appendChild(l),t.media=j(u,t.media),he(oe(t.config.urls.vimeo.api,a),"json").then(function(e){if(!C.empty(e)){var i=new URL(e[0].thumbnail_large);i.pathname="".concat(i.pathname.split("_")[0],".jpg"),Le.setPoster.call(t,i.href).catch(function(){})}}),t.embed=new window.Vimeo.Player(l,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return Me.call(t,!0),t.embed.play()},t.media.pause=function(){return Me.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var d=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return d},set:function(e){var i=t.embed,n=t.media,r=t.paused,o=t.volume,s=r&&!i.hasPlayed;n.seeking=!0,P.call(t,n,"seeking"),Promise.resolve(s&&i.setVolume(0)).then(function(){return i.setCurrentTime(e)}).then(function(){return s&&i.pause()}).then(function(){return s&&i.setVolume(o)}).catch(function(){})}});var h=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return h},set:function(e){t.embed.setPlaybackRate(e).then(function(){h=e,P.call(t,t.media,"ratechange")}).catch(function(e){"Error"===e.name&&ye.setSpeedMenu.call(t,[])})}});var p=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return p},set:function(e){t.embed.setVolume(e).then(function(){p=e,P.call(t,t.media,"volumechange")})}});var f=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return f},set:function(e){var i=!!C.boolean(e)&&e;t.embed.setVolume(i?0:t.config.volume).then(function(){f=i,P.call(t,t.media,"volumechange")})}});var m,g=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return g},set:function(e){var i=C.boolean(e)?e:t.config.loop.active;t.embed.setLoop(i).then(function(){g=i})}}),t.embed.getVideoUrl().then(function(e){m=e,ye.setDownloadLink.call(t)}).catch(function(t){e.debug.warn(t)}),Object.defineProperty(t.media,"currentSrc",{get:function(){return m}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(function(i){var n=o(i,2),r=n[0],s=n[1];t.embed.ratio="".concat(r,":").concat(s),$e.call(e,t.embed.ratio)}),t.embed.setAutopause(t.config.autopause).then(function(e){t.config.autopause=e}),t.embed.getVideoTitle().then(function(i){t.config.title=i,Le.setTitle.call(e)}),t.embed.getCurrentTime().then(function(e){d=e,P.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(function(e){t.media.duration=e,P.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(function(e){t.media.textTracks=e,xe.setup.call(t)}),t.embed.on("cuechange",function(e){var i=e.cues,n=(void 0===i?[]:i).map(function(e){return t=e.text,i=document.createDocumentFragment(),n=document.createElement("div"),i.appendChild(n),n.innerHTML=t,i.firstChild.innerText;var t,i,n});xe.updateCues.call(t,n)}),t.embed.on("loaded",function(){t.embed.getPaused().then(function(e){Me.call(t,!e),e||P.call(t,t.media,"playing")}),C.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("play",function(){Me.call(t,!0),P.call(t,t.media,"playing")}),t.embed.on("pause",function(){Me.call(t,!1)}),t.embed.on("timeupdate",function(e){t.media.seeking=!1,d=e.seconds,P.call(t,t.media,"timeupdate")}),t.embed.on("progress",function(e){t.media.buffered=e.percent,P.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&P.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(function(e){e!==t.media.duration&&(t.media.duration=e,P.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",function(){t.media.seeking=!1,P.call(t,t.media,"seeked")}),t.embed.on("ended",function(){t.media.paused=!0,P.call(t,t.media,"ended")}),t.embed.on("error",function(e){t.media.error=e,P.call(t,t.media,"error")}),setTimeout(function(){return Le.build.call(t)},0)}};function Re(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,P.call(this,this.media,e?"play":"pause"))}var He,Ue={setup:function(){var e=this;R(this.elements.wrapper,this.config.classNames.embed,!0),$e.call(this),C.object(window.YT)&&C.function(window.YT.Player)?Ue.ready.call(this):(je(this.config.urls.youtube.sdk).catch(function(t){e.debug.warn("YouTube API failed to load",t)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){Ue.ready.call(e)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(e){e()})})},getTitle:function(e){var t=this;if(C.function(this.embed.getVideoData)){var i=this.embed.getVideoData().title;if(C.empty(i))return this.config.title=i,void Le.setTitle.call(this)}var n=this.config.keys.google;C.string(n)&&!C.empty(n)&&he(oe(this.config.urls.youtube.api,e,n)).then(function(e){C.object(e)&&(t.config.title=e.items[0].snippet.title,Le.setTitle.call(t))}).catch(function(){})},ready:function(){var e=this,t=e.media.getAttribute("id");if(C.empty(t)||!t.startsWith("youtube-")){var i=e.media.getAttribute("src");C.empty(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));var n,r,o=(n=i,C.empty(n)?null:n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:n),s=(r=e.provider,"".concat(r,"-").concat(Math.floor(1e4*Math.random()))),a=$("div",{id:s,poster:e.poster});e.media=j(a,e.media);var l=function(e){return"https://img.youtube.com/vi/".concat(o,"/").concat(e,"default.jpg")};De(l("maxres"),121).catch(function(){return De(l("sd"),121)}).catch(function(){return De(l("hq"))}).then(function(t){return Le.setPoster.call(e,t.src)}).then(function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(function(){});var c=e.config.youtube;e.embed=new window.YT.Player(s,{videoId:o,host:c.noCookie?"https://www.youtube-nocookie.com":void 0,playerVars:re({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},c),events:{onError:function(t){if(!e.media.error){var i=t.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";e.media.error={code:i,message:n},P.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var i=t.target;e.media.playbackRate=i.getPlaybackRate(),P.call(e,e.media,"ratechange")},onReady:function(t){if(!C.function(e.media.play)){var i=t.target;Ue.getTitle.call(e,o),e.media.play=function(){Re.call(e,!0),i.playVideo()},e.media.pause=function(){Re.call(e,!1),i.pauseVideo()},e.media.stop=function(){i.stopVideo()},e.media.duration=i.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,P.call(e,e.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var n=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return n},set:function(t){n=t,i.setVolume(100*n),P.call(e,e.media,"volumechange")}});var r=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return r},set:function(t){var n=C.boolean(t)?t:r;r=n,i[n?"mute":"unMute"](),P.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),e.options.speed=i.getAvailablePlaybackRates(),e.supported.ui&&e.media.setAttribute("tabindex",-1),P.call(e,e.media,"timeupdate"),P.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(function(){e.media.buffered=i.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&P.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),P.call(e,e.media,"canplaythrough"))},200),setTimeout(function(){return Le.build.call(e)},50)}},onStateChange:function(t){var i=t.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(t.data)&&(e.media.seeking=!1,P.call(e,e.media,"seeked")),t.data){case-1:P.call(e,e.media,"timeupdate"),e.media.buffered=i.getVideoLoadedFraction(),P.call(e,e.media,"progress");break;case 0:Re.call(e,!1),e.media.loop?(i.stopVideo(),i.playVideo()):P.call(e,e.media,"ended");break;case 1:e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Re.call(e,!0),P.call(e,e.media,"playing"),e.timers.playing=setInterval(function(){P.call(e,e.media,"timeupdate")},50),e.media.duration!==i.getDuration()&&(e.media.duration=i.getDuration(),P.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Re.call(e,!1)}P.call(e,e.elements.container,"statechange",!1,{code:t.data})}}})}}},Be={setup:function(){this.media?(R(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),R(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&R(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=$("div",{class:this.config.classNames.video}),D(this.media,this.elements.wrapper),this.elements.poster=$("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?te.extend.call(this):this.isYouTube?Ue.setup.call(this):this.isVimeo&&ze.setup.call(this)):this.debug.warn("No media element found!")}},qe=function(){function t(i){var n=this;e(this,t),this.player=i,this.config=i.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){n.on("loaded",e),n.on("error",t)}),this.load()}return n(t,[{key:"load",value:function(){var e=this;this.enabled&&(C.object(window.google)&&C.object(window.google.ima)?this.ready():je(this.player.config.urls.googleIMA.sdk).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=$("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.requestAds()}},{key:"requestAds",value:function(){var e=this,t=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e.onAdsManagerLoaded(t)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=t.offsetWidth,i.linearAdSlotHeight=t.offsetHeight,i.nonLinearAdSlotWidth=t.offsetWidth,i.nonLinearAdSlotHeight=t.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var t=ve(Math.max(e.manager.getRemainingTime(),0)),i="".concat(ue("advertisement",e.player.config)," - ").concat(t);e.elements.container.setAttribute("data-badge-text",i)},100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=e.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return t.onAdEvent(e)})}),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var e=this;C.empty(this.cuePoints)||this.cuePoints.forEach(function(t){if(0!==t&&-1!==t&&t<e.player.duration){var i=e.player.elements.progress;if(C.element(i)){var n=100/e.player.duration*t,r=$("span",{class:e.player.config.classNames.cues});r.style.left="".concat(n.toString(),"%"),i.appendChild(r)}}})}},{key:"onAdEvent",value:function(e){var t=this,i=this.player.elements.container,n=e.getAd(),r=e.getAdData(),o=function(e){var i="ads".concat(e.replace(/_/g,"").toLowerCase());P.call(t.player,t.player.media,i)};switch(e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),o(e.type),this.pollCountdown(!0),n.isLinear()||(n.width=i.offsetWidth,n.height=i.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:o(e.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:o(e.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:o(e.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:o(e.type);break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,t=this,i=this.player.elements.container;this.player.on("canplay",function(){t.addCuePoints()}),this.player.on("ended",function(){t.loader.contentComplete()}),this.player.on("timeupdate",function(){e=t.player.currentTime}),this.player.on("seeked",function(){var i=t.player.currentTime;C.empty(t.cuePoints)||t.cuePoints.forEach(function(n,r){e<n&&n<i&&(t.manager.discardAdBreak(),t.cuePoints.splice(r,1))})}),window.addEventListener("resize",function(){t.manager&&t.manager.resize(i.offsetWidth,i.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.media.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then(function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise(function(t){e.on("loaded",t),e.player.debug.log(e.manager)}),e.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var t=this,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var o=this.events[e];C.array(o)&&o.forEach(function(e){C.function(e)&&e.apply(t,n)})}},{key:"on",value:function(e,t){return C.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var i=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){C.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!C.empty(e.publisherId)||C.url(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(C.url(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(we(t))}}]),t}(),We=function(){function t(i){e(this,t),this.player=i,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return n(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){e.render(),e.determineContainerAutoSizing(),e.loaded=!0})}},{key:"getThumbnails",value:function(){var e=this;return new Promise(function(t){var i=e.player.config.previewThumbnails.src;if(C.empty(i))throw new Error("Missing previewThumbnails.src config attribute");var n=(C.string(i)?[i]:i).map(function(t){return e.getThumbnail(t)});Promise.all(n).then(function(){e.thumbnails.sort(function(e,t){return e.height-t.height}),e.player.debug.log("Preview thumbnails",e.thumbnails),t()})})}},{key:"getThumbnail",value:function(e){var t=this;return new Promise(function(i){he(e).then(function(n){var r,s,a={frames:(r=n,s=[],r.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(e){var t={};e.split(/\r\n|\n|\r/).forEach(function(e){if(C.number(t.startTime)){if(!C.empty(e.trim())&&C.empty(t.text)){var i=e.trim().split("#xywh="),n=o(i,1);if(t.text=n[0],i[1]){var r=o(i[1].split(","),4);t.x=r[0],t.y=r[1],t.w=r[2],t.h=r[3]}}}else{var s=e.match(/([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(t.startTime=60*Number(s[1])*60+60*Number(s[2])+Number(s[3])+Number("0.".concat(s[4])),t.endTime=60*Number(s[6])*60+60*Number(s[7])+Number(s[8])+Number("0.".concat(s[9])))}}),t.text&&s.push(t)}),s),height:null,urlPrefix:""};a.frames[0].text.startsWith("/")||(a.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var l=new Image;l.onload=function(){a.height=l.naturalHeight,a.width=l.naturalWidth,t.thumbnails.push(a),i()},l.src=a.urlPrefix+a.frames[0].text})})}},{key:"startMove",value:function(e){if(this.loaded&&C.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=ve(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){!1!==e.button&&0!==e.button||(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):A.call(this.player,this.player.media,"timeupdate",function(){e.mouseDown||e.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var e=this;this.player.on("play",function(){e.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){e.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){e.lastTime=e.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=$("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=$("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=$("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=$("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=$("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"showImageAtCurrentTime",value:function(){var e=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var t=this.thumbnails[0].frames.findIndex(function(t){return e.seekTime>=t.startTime&&e.seekTime<=t.endTime}),i=t>=0,n=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach(function(i,r){e.loadedImages.includes(i.frames[t].text)&&(n=r)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(n)))}},{key:"loadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=this.showingThumb,n=this.thumbnails[t],r=n.urlPrefix,o=n.frames[i],s=n.frames[i].text,a=r+s;if(this.currentImageElement&&this.currentImageElement.dataset.filename===s)this.showImage(this.currentImageElement,o,t,i,s,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var l=new Image;l.src=a,l.dataset.index=i,l.dataset.filename=s,this.showingThumbFilename=s,this.player.debug.log("Loading image: ".concat(a)),l.onload=function(){return e.showImage(l,o,t,i,s,!0)},this.loadingImage=l,this.removeOldImages(l)}}},{key:"showImage",value:function(e,t,i,n,r){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(n,". qual: ").concat(i,". newimg: ").concat(o)),this.setImageSizeAndOffset(e,t),o&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(i,e,t,r))}},{key:"removeOldImages",value:function(e){var t=this;Array.from(this.currentImageContainer.children).forEach(function(i){if("img"===i.tagName.toLowerCase()){var n=t.usingSprites?500:1e3;if(i.dataset.index!==e.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;var r=t.currentImageContainer;setTimeout(function(){r.removeChild(i),t.player.debug.log("Removing thumb: ".concat(i.dataset.filename))},n)}}})}},{key:"preloadNearby",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(n){setTimeout(function(){var r=t.thumbnails[0].frames[e].text;if(t.showingThumbFilename===r){var o=!1;(i?t.thumbnails[0].frames.slice(e):t.thumbnails[0].frames.slice(0,e).reverse()).forEach(function(e){var i=e.text;if(i!==r&&!t.loadedImages.includes(i)){o=!0,t.player.debug.log("Preloading thumb filename: ".concat(i));var s=t.thumbnails[0].urlPrefix+i,a=new Image;a.src=s,a.onload=function(){t.player.debug.log("Preloaded thumb filename: ".concat(i)),t.loadedImages.includes(i)||t.loadedImages.push(i),n()}}}),o||n()}},300)})}},{key:"getHigherQuality",value:function(e,t,i,n){var r=this;if(e<this.thumbnails.length-1){var o=t.naturalHeight;this.usingSprites&&(o=i.h),o<this.thumbContainerHeight&&setTimeout(function(){r.showingThumbFilename===n&&(r.player.debug.log("Showing higher quality thumb for: ".concat(n)),r.loadImage(e+1))},300)}}},{key:"toggleThumbContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){this.elements.thumb.imageContainer.clientHeight>20&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(!this.sizeSpecifiedInCSS){var e=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(e,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),i=this.elements.thumb.container,n=t.left-e.left+10,r=t.right-e.left-i.clientWidth-10,o=this.mousePosX-e.left-i.clientWidth/2;o<n&&(o=n),o>r&&(o=r),i.style.left="".concat(o,"px")}},{key:"setScrubbingContainerSize",value:function(){this.elements.scrubbing.container.style.width="".concat(this.player.media.clientWidth,"px"),this.elements.scrubbing.container.style.height="".concat(this.player.media.clientWidth/this.thumbAspectRatio,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var i=this.thumbContainerHeight/t.h;e.style.height="".concat(Math.floor(e.naturalHeight*i),"px"),e.style.width="".concat(Math.floor(e.naturalWidth*i),"px"),e.style.left="-".concat(t.x*i,"px"),e.style.top="-".concat(t.y*i,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Math.floor(this.player.media.clientWidth/this.thumbAspectRatio):Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),Ve={insertElements:function(e,t){var i=this;C.string(t)?N(e,this.media,{src:t}):C.array(t)&&t.forEach(function(t){N(e,i.media,t)})},change:function(e){var t=this;ne(e,"sources.length")?(te.cancelRequests.call(this),this.destroy.call(this,function(){t.options.quality=[],F(t.media),t.media=null,C.element(t.elements.container)&&t.elements.container.removeAttribute("class");var i=e.sources,n=e.type,r=o(i,1)[0],s=r.provider,a=void 0===s?Ce.html5:s,l=r.src,c="html5"===a?n:"div",u="html5"===a?{}:{src:l};Object.assign(t,{provider:a,type:n,supported:ee.check(n,a,t.config.playsinline),media:$(c,u)}),t.elements.container.appendChild(t.media),C.boolean(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),C.empty(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),Le.addStyleHook.call(t),t.isHTML5&&Ve.insertElements.call(t,"source",i),t.config.title=e.title,Be.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&Ve.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&Le.build.call(t),t.isHTML5&&t.media.load(),t.previewThumbnails&&t.previewThumbnails.load(),t.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},Ze=function(){function t(i,n){var r=this;if(e(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ee.touch,this.media=i,C.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||C.nodeList(this.media)||C.array(this.media))&&(this.media=this.media[0]),this.config=re({},ke,t.defaults,n||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new _e(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ee),!C.nullOrUndefined(this.media)&&C.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(ee.check().api){var o=this.media.cloneNode(!0);o.autoplay=!1,this.elements.original=o;var s=this.media.tagName.toLowerCase(),a=null,l=null;switch(s){case"div":if(a=this.media.querySelector("iframe"),C.element(a)){if(l=be(a.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Ce.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Ce.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",l.search.length){var c=["1","true"];c.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),c.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=c.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(C.empty(this.provider)||!Object.keys(Ce).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Ee.video;break;case"video":case"audio":this.type=s,this.provider=Ce.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ee.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Ne(this),this.storage=new de(this),this.media.plyr=this,C.element(this.elements.container)||(this.elements.container=$("div",{tabindex:0}),D(this.media,this.elements.container)),Le.addStyleHook.call(this),Be.setup.call(this),this.config.debug&&_.call(this,this.elements.container,this.config.events.join(" "),function(e){r.debug.log("event: ".concat(e.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Le.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new Pe(this),this.config.ads.enabled&&(this.ads=new qe(this)),this.config.autoplay&&this.play(),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new We(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return n(t,[{key:"play",value:function(){var e=this;return C.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return e.ads.play()}).catch(function(){return e.media.play()}),this.media.play()):null}},{key:"pause",value:function(){this.playing&&C.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(C.boolean(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):C.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(C.number(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(C.number(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(C.number(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){xe.toggle.call(this,e,!1)}},{key:"airplay",value:function(){ee.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=H(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,n=R(this.elements.container,this.config.classNames.hideControls,i);if(n&&this.config.controls.includes("settings")&&!C.empty(this.config.settings)&&ye.toggleMenu.call(this,!1),n!==t){var r=n?"controlshidden":"controlsshown";P.call(this,this.media,r)}return!n}return!1}},{key:"on",value:function(e,t){_.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){A.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){I(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",t.embed=null,i?(Object.keys(t.elements).length&&(F(t.elements.buttons.play),F(t.elements.captions),F(t.elements.controls),F(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),C.function(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(e){var t=e.element,i=e.type,n=e.callback,r=e.options;t.removeEventListener(i,n,r)}),this.eventListeners=[])}.call(t),j(t.elements.original,t.elements.container),P.call(t,t.elements.original,"destroyed",!0),C.function(e)&&e.call(t.elements.original),t.ready=!1,setTimeout(function(){t.elements=null,t.media=null},200))};this.stop(),this.isHTML5?(clearTimeout(this.timers.loading),Le.toggleNativeControls.call(this,!0),n()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&C.function(this.embed.destroy)&&this.embed.destroy(),n()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200))}}},{key:"supports",value:function(e){return ee.mime.call(this,e)}},{key:"isHTML5",get:function(){return Boolean(this.provider===Ce.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===Ce.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===Ce.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===Ee.video)}},{key:"isAudio",get:function(){return Boolean(this.type===Ee.audio)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=C.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return C.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=C.number(t)&&t!==1/0?t:0;return e||i}},{key:"volume",set:function(e){var t=e;C.string(t)&&(t=Number(t)),C.number(t)||(t=this.storage.get("volume")),C.number(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!C.empty(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;C.boolean(t)||(t=this.storage.get("muted")),C.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=null;C.number(e)&&(t=e),C.number(t)||(t=this.storage.get("speed")),C.number(t)||(t=this.config.speed.selected),t<.1&&(t=.1),t>2&&(t=2),this.config.speed.options.includes(t)?(this.config.speed.selected=t,this.media.playbackRate=t):this.debug.warn("Unsupported speed (".concat(t,")"))},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(e){var t=this.config.quality,i=this.options.quality;if(i.length){var n=[!C.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(C.number),r=!0;if(!i.includes(n)){var o=function(e,t){return C.array(e)&&e.length?e.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e}):null}(i,n);this.debug.warn("Unsupported quality option: ".concat(n,", using ").concat(o," instead")),n=o,r=!1}t.selected=n,this.media.quality=n,r&&this.storage.set({quality:n})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=C.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){Ve.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return C.url(e)?e:this.source}},{key:"poster",set:function(e){this.isVideo?Le.setPoster.call(this,e,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(e){var t=C.boolean(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){xe.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,i=e.currentTrack;return t?i:-1}},{key:"language",set:function(e){xe.setLanguage.call(this,e,!1)},get:function(){return(xe.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(ee.pip){var t=C.boolean(e)?e:!this.pip;C.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Te:"inline"),C.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return ee.pip?C.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Te:null}}],[{key:"supported",value:function(e,t,i){return ee.check(e,t,i)}},{key:"loadSprite",value:function(e,t){return pe(e,t)}},{key:"setup",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;return C.string(e)?n=Array.from(document.querySelectorAll(e)):C.nodeList(e)?n=Array.from(e):C.array(e)&&(n=e.filter(C.element)),C.empty(n)?null:n.map(function(e){return new t(e,i)})}}]),t}();return Ze.defaults=(He=ke,JSON.parse(JSON.stringify(He))),Ze},e.exports=i())}).call(t,i(11))},161:function(e,t){},162:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(163),r=new(i.n(n).a);document.body.dataset&&document.body.dataset.notificationCount&&r.badge(parseInt(document.body.dataset.notificationCount,10))},163:function(e,t,i){var n,r;r=function(e){"use strict";e=e||{};var t,i,n,r,o,s,a,l,c,u,d,h,p,f,m,g,v={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(p={}).ff="undefined"!=typeof InstallTrigger,p.chrome=!!window.chrome,p.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,p.ie=!1,p.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,p.supported=p.chrome||p.ff||p.opera;var y=[];d=function(){},l=h=!1;var b={ready:function(){l=!0,b.reset(),d()},reset:function(){l&&(y=[],c=!1,u=!1,s.clearRect(0,0,r,n),s.drawImage(a,0,0,r,n),T.setIcon(o),window.clearTimeout(f),window.clearTimeout(m))}};b.start=function(){if(l&&!u){if(y.length>0){u=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(e){e in y[0].options&&(t[e]=y[0].options[e])}),S.run(y[0].options,function(){c=y[0],u=!1,y.length>0&&(y.shift(),b.start())},!1)};c?S.run(c.options,function(){e()},!0):e()}}};var w={},x=function(e){return e.n="number"===typeof e.n?Math.abs(0|e.n):e.n,e.x=r*e.x,e.y=n*e.y,e.w=r*e.w,e.h=n*e.h,e.len=(""+e.n).length,e};w.circle=function(e){var i=!1;2===(e=x(e)).len?(e.x=e.x-.4*e.w,e.w=1.4*e.w,i=!0):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w,i=!0),s.clearRect(0,0,r,n),s.drawImage(a,0,0,r,n),s.beginPath(),s.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+t.fontFamily,s.textAlign="center",i?(s.moveTo(e.x+e.w/2,e.y),s.lineTo(e.x+e.w-e.h/2,e.y),s.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2),s.lineTo(e.x+e.w,e.y+e.h-e.h/2),s.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h),s.lineTo(e.x+e.h/2,e.y+e.h),s.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2),s.lineTo(e.x,e.y+e.h/2),s.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)):s.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI),s.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")",s.fill(),s.closePath(),s.beginPath(),s.stroke(),s.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")","number"===typeof e.n&&e.n>999?s.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):s.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),s.closePath()},w.rectangle=function(e){2===(e=x(e)).len?(e.x=e.x-.4*e.w,e.w=1.4*e.w):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w),s.clearRect(0,0,r,n),s.drawImage(a,0,0,r,n),s.beginPath(),s.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+t.fontFamily,s.textAlign="center",s.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")",s.fillRect(e.x,e.y,e.w,e.h),s.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")","number"===typeof e.n&&e.n>999?s.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):s.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),s.closePath()};function k(e){if(e.paused||e.ended||h)return!1;try{s.clearRect(0,0,r,n),s.drawImage(e,0,0,r,n)}catch(e){}m=setTimeout(function(){k(e)},S.duration),T.setIcon(o)}var T={};function C(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return!!t&&{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function E(e,t){var i,n={};for(i in e)n[i]=e[i];for(i in t)n[i]=t[i];return n}T.getIcon=function(){var e=!1;return t.element?e=t.element:t.elementId?(e=g.getElementById(t.elementId)).setAttribute("href",e.getAttribute("src")):!1===(e=function(){for(var e=g.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length-1;t>=0;t--)if(/(^|\s)icon(\s|$)/i.test(e[t].getAttribute("rel")))return e[t];return!1}())&&((e=g.createElement("link")).setAttribute("rel","icon"),g.getElementsByTagName("head")[0].appendChild(e)),e.setAttribute("type","image/png"),e},T.setIcon=function(e){var n=e.toDataURL("image/png");if(t.dataUrl&&t.dataUrl(n),t.element)t.element.setAttribute("href",n),t.element.setAttribute("src",n);else if(t.elementId){var r=g.getElementById(t.elementId);r.setAttribute("href",n),r.setAttribute("src",n)}else if(p.ff||p.opera){var o=i;i=g.createElement("link"),p.opera&&i.setAttribute("rel","icon"),i.setAttribute("rel","icon"),i.setAttribute("type","image/png"),g.getElementsByTagName("head")[0].appendChild(i),i.setAttribute("href",n),o.parentNode&&o.parentNode.removeChild(o)}else i.setAttribute("href",n)};var S={duration:40,types:{}};return S.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],S.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],S.run=function(e,i,n,r){var s=S.types[g.hidden||g.msHidden||g.webkitHidden||g.mozHidden?"none":t.animation];r=!0===n?"undefined"!==typeof r?r:s.length-1:"undefined"!==typeof r?r:0,i=i||function(){},r<s.length&&r>=0?(w[t.type](E(e,s[r])),f=setTimeout(function(){n?r-=1:r+=1,S.run(e,i,n,r)},S.duration),T.setIcon(o)):i()},function(){(t=E(v,e)).bgColor=C(t.bgColor),t.textColor=C(t.textColor),t.position=t.position.toLowerCase(),t.animation=S.types[""+t.animation]?t.animation:v.animation,g=t.win.document;var l=t.position.indexOf("up")>-1,c=t.position.indexOf("left")>-1;if(l||c)for(var u=0;u<S.types[""+t.animation].length;u++){var d=S.types[""+t.animation][u];l&&(d.y<.6?d.y=d.y-.4:d.y=d.y-2*d.y+(1-d.w)),c&&(d.x<.6?d.x=d.x-.4:d.x=d.x-2*d.x+(1-d.h)),S.types[""+t.animation][u]=d}t.type=w[""+t.type]?t.type:v.type,i=T.getIcon(),o=document.createElement("canvas"),a=document.createElement("img"),i.hasAttribute("href")?(a.setAttribute("crossOrigin","anonymous"),a.onload=function(){n=a.height>0?a.height:32,r=a.width>0?a.width:32,o.height=n,o.width=r,s=o.getContext("2d"),b.ready()},a.setAttribute("src",i.getAttribute("href"))):(a.onload=function(){n=32,r=32,a.height=n,a.width=r,o.height=n,o.width=r,s=o.getContext("2d"),b.ready()},a.setAttribute("src",""))}(),{badge:function(e,t){t=("string"===typeof t?{animation:t}:t)||{},d=function(){try{if("number"===typeof e?e>0:""!==e){var i={type:"badge",options:{n:e}};if("animation"in t&&S.types[""+t.animation]&&(i.options.animation=""+t.animation),"type"in t&&w[""+t.type]&&(i.options.type=""+t.type),["bgColor","textColor"].forEach(function(e){e in t&&(i.options[e]=C(t[e]))}),["fontStyle","fontFamily"].forEach(function(e){e in t&&(i.options[e]=t[e])}),y.push(i),y.length>100)throw new Error("Too many badges requests in queue.");b.start()}else b.reset()}catch(e){throw new Error("Error setting badge. Message: "+e.message)}},l&&d()},video:function(e){d=function(){try{if("stop"===e)return h=!0,b.reset(),void(h=!1);e.addEventListener("play",function(){k(this)},!1)}catch(e){throw new Error("Error setting video. Message: "+e.message)}},l&&d()},image:function(e){d=function(){try{var t=e.width,i=e.height,a=document.createElement("img"),l=t/r<i/n?t/r:i/n;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){s.clearRect(0,0,r,n),s.drawImage(a,0,0,r,n),T.setIcon(o)},a.setAttribute("src",e.getAttribute("src")),a.height=i/l,a.width=t/l}catch(e){throw new Error("Error setting image. Message: "+e.message)}},l&&d()},webcam:function(e){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(e){return e}),p.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,d=function(){try{if("stop"===e)return h=!0,b.reset(),void(h=!1);(t=document.createElement("video")).width=r,t.height=n,navigator.getUserMedia({video:!0,audio:!1},function(e){t.src=URL.createObjectURL(e),t.play(),k(t)},function(){})}catch(e){throw new Error("Error setting webcam. Message: "+e.message)}},l&&d()}},reset:b.reset,browser:{supported:p.supported}}},void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)},184:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i(154),i(159),i(162)},34:function(e,t,i){var n;!function(t,i){"use strict";"object"===typeof e&&"object"===typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!==typeof window?window:this,function(i,r){"use strict";var o=[],s=i.document,a=Object.getPrototypeOf,l=o.slice,c=o.concat,u=o.push,d=o.indexOf,h={},p=h.toString,f=h.hasOwnProperty,m=f.toString,g=m.call(Object),v={},y=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function x(e,t,i){var n,r=(t=t||s).createElement("script");if(r.text=e,i)for(n in w)i[n]&&(r[n]=i[n]);t.head.appendChild(r).parentNode.removeChild(r)}function k(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?h[p.call(e)]||"object":typeof e}var T=function(e,t){return new T.fn.init(e,t)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(e){var t=!!e&&"length"in e&&e.length,i=k(e);return!y(e)&&!b(e)&&("array"===i||0===t||"number"===typeof t&&t>0&&t-1 in e)}T.fn=T.prototype={jquery:"3.3.1",constructor:T,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var e,t,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"===typeof s&&(c=s,s=arguments[a]||{},a++),"object"===typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=s[t],s!==(n=e[t])&&(c&&n&&(T.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&T.isPlainObject(i)?i:{},s[t]=T.extend(c,o,n)):void 0!==n&&(s[t]=n));return s},T.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==p.call(e))&&(!(t=a(e))||"function"===typeof(i=f.call(t,"constructor")&&t.constructor)&&m.call(i)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){x(e)},each:function(e,t){var i,n=0;if(E(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(E(Object(e))?T.merge(i,"string"===typeof e?[e]:e):u.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:d.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,s=!i;r<o;r++)!t(e[r],r)!==s&&n.push(e[r]);return n},map:function(e,t,i){var n,r,o=0,s=[];if(E(e))for(n=e.length;o<n;o++)null!=(r=t(e[o],o,i))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,i))&&s.push(r);return c.apply([],s)},guid:1,support:v}),"function"===typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,i,n,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w="sizzle"+1*new Date,x=e.document,k=0,T=0,C=se(),E=se(),S=se(),_=function(e,t){return e===t&&(d=!0),0},I={}.hasOwnProperty,A=[],P=A.pop,D=A.push,L=A.push,$=A.slice,N=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+O+"*("+j+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+O+"*\\]",z=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",R=new RegExp(O+"+","g"),H=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),U=new RegExp("^"+O+"*,"+O+"*"),B=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),q=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),W=new RegExp(z),V=new RegExp("^"+j+"$"),Z={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){h()},re=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=$.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){D.apply(e,$.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function oe(e,t,n,r){var o,a,c,u,d,f,v,y=t&&t.ownerDocument,k=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==k&&9!==k&&11!==k)return n;if(!r&&((t?t.ownerDocument||t:x)!==p&&h(t),t=t||p,m)){if(11!==k&&(d=X.exec(e)))if(o=d[1]){if(9===k){if(!(c=t.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return n.push(c),n}else{if(d[2])return L.apply(n,t.getElementsByTagName(e)),n;if((o=d[3])&&i.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(o)),n}if(i.qsa&&!S[e+" "]&&(!g||!g.test(e))){if(1!==k)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ie):t.setAttribute("id",u=w),a=(f=s(e)).length;a--;)f[a]="#"+u+" "+ve(f[a]);v=f.join(","),y=J.test(e)&&me(t.parentNode)||t}if(v)try{return L.apply(n,y.querySelectorAll(v)),n}catch(e){}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,n,r)}function se(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function ae(e){return e[w]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(i,n){for(var r,o=e([],i.length,t),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function me(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in i=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:x;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,m=!o(p),x!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=Y.test(p.getElementsByClassName),i.getById=le(function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&m){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){var i="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&m){var i,n,r,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(i.qsa=Y.test(p.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+O+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+O+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=Y.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){i.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",z)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Y.test(f.compareDocumentPosition),b=t||Y.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===x&&b(x,e)?-1:t===p||t.ownerDocument===x&&b(x,t)?1:u?N(u,e)-N(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===p?-1:t===p?1:r?-1:o?1:u?N(u,e)-N(u,t):0;if(r===o)return ue(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ue(s[n],a[n]):s[n]===x?-1:a[n]===x?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(q,"='$1']"),i.matchesSelector&&m&&!S[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=y.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var r=n.attrHandle[t.toLowerCase()],o=r&&I.call(n.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:i.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ie)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,o=0;if(d=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(_),d){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return u=null,e},r=oe.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=oe.selectors={cacheLength:50,createPseudo:ae,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&W.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&C(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=oe.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(R," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(b=(p=(c=(u=(d=(h=g)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[k,p,b];break}}else if(y&&(b=p=(c=(u=(d=(h=t)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===b)for(;(h=++p&&h&&h[m]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[k,b]),h!==t)););return(b-=r)===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var n,o=r(e,t),s=o.length;s--;)e[n=N(e,o[s])]=!(i[n]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:ae(function(e){var t=[],i=[],n=a(e.replace(H,"$1"));return n[w]?ae(function(e,t,i,r){for(var o,s=n(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(Q,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Q,ee).toLowerCase(),function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,i){return[i<0?i+t:i]}),even:fe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:fe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:fe(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:fe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function ge(){}function ve(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ye(e,t,i){var n=t.dir,r=t.next,o=r||n,s=i&&"parentNode"===o,a=T++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r);return!1}:function(t,i,l){var c,u,d,h=[k,a];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=u[o])&&c[0]===k&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,i,l))return!0}return!1}}function be(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function we(e,t,i,n,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(i&&!i(o,n,r)||(s.push(o),c&&t.push(a)));return s}function xe(e,t,i,n,r,o){return n&&!n[w]&&(n=xe(n)),r&&!r[w]&&(r=xe(r,o)),ae(function(o,s,a,l){var c,u,d,h=[],p=[],f=s.length,m=o||function(e,t,i){for(var n=0,r=t.length;n<r;n++)oe(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:we(m,h,e,a,l),v=i?r||(o?e:f||n)?[]:s:g;if(i&&i(g,v,a,l),n)for(c=we(v,p),n(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(o){if(r||e){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?N(o,d):h[u])>-1&&(o[c]=!(s[c]=d))}}else v=we(v===s?v.splice(f,v.length):v),r?r(null,s,v,l):L.apply(s,v)})}function ke(e){for(var t,i,r,o=e.length,s=n.relative[e[0].type],a=s||n.relative[" "],l=s?1:0,u=ye(function(e){return e===t},a,!0),d=ye(function(e){return N(t,e)>-1},a,!0),h=[function(e,i,n){var r=!s&&(n||i!==c)||((t=i).nodeType?u(e,i,n):d(e,i,n));return t=null,r}];l<o;l++)if(i=n.relative[e[l].type])h=[ye(be(h),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<o&&!n.relative[e[r].type];r++);return xe(l>1&&be(h),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),i,l<r&&ke(e.slice(l,r)),r<o&&ke(e=e.slice(r)),r<o&&ve(e))}h.push(i)}return be(h)}return ge.prototype=n.filters=n.pseudos,n.setFilters=new ge,s=oe.tokenize=function(e,t){var i,r,o,s,a,l,c,u=E[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=n.preFilter;a;){for(s in i&&!(r=U.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=B.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(H," ")}),a=a.slice(i.length)),n.filter)!(r=Z[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?oe.error(e):E(e,l).slice(0)},a=oe.compile=function(e,t){var i,r=[],o=[],a=S[e+" "];if(!a){for(t||(t=s(e)),i=t.length;i--;)(a=ke(t[i]))[w]?r.push(a):o.push(a);(a=S(e,function(e,t){var i=t.length>0,r=e.length>0,o=function(o,s,a,l,u){var d,f,g,v=0,y="0",b=o&&[],w=[],x=c,T=o||r&&n.find.TAG("*",u),C=k+=null==x?1:Math.random()||.1,E=T.length;for(u&&(c=s===p||s||u);y!==E&&null!=(d=T[y]);y++){if(r&&d){for(f=0,s||d.ownerDocument===p||(h(d),a=!m);g=e[f++];)if(g(d,s||p,a)){l.push(d);break}u&&(k=C)}i&&((d=!g&&d)&&v--,o&&b.push(d))}if(v+=y,i&&y!==v){for(f=0;g=t[f++];)g(b,w,s,a);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=P.call(l));w=we(w)}L.apply(l,w),u&&!o&&w.length>0&&v+t.length>1&&oe.uniqueSort(l)}return u&&(k=C,c=x),b};return i?ae(o):o}(o,r))).selector=e}return a},l=oe.select=function(e,t,i,r){var o,l,c,u,d,h="function"===typeof e&&e,p=!r&&s(e=h.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(Q,ee),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=Z.needsContext.test(e)?0:l.length;o--&&(c=l[o],!n.relative[u=c.type]);)if((d=n.find[u])&&(r=d(c.matches[0].replace(Q,ee),J.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ve(l)))return L.apply(i,r),i;break}}return(h||a(e,p))(r,t,!m,i,!t||J.test(e)&&me(t.parentNode)||t),i},i.sortStable=w.split("").sort(_).join("")===w,i.detectDuplicates=!!d,h(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(F,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),oe}(i);T.find=S,T.expr=S.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=S.uniqueSort,T.text=S.getText,T.isXMLDoc=S.isXML,T.contains=S.contains,T.escapeSelector=S.escape;var _=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&T(e).is(i))break;n.push(e)}return n},I=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},A=T.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,i){return y(t)?T.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?T.grep(e,function(e){return e===t!==i}):"string"!==typeof t?T.grep(e,function(e){return d.call(t,e)>-1!==i}):T.filter(t,e,i)}T.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?T.find.matchesSelector(n,e)?[n]:[]:T.find.matches(e,T.grep(t,function(e){return 1===e.nodeType}))},T.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!==typeof e)return this.pushStack(T(e).filter(function(){for(t=0;t<n;t++)if(T.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)T.find(e,r[t],i);return n>1?T.uniqueSort(i):i},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"===typeof e&&A.test(e)?T(e):e||[],!1).length}});var $,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||$,"string"===typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),D.test(n[1])&&T.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=s.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==i.ready?i.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,$=T(s);var F=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(T.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,o=[],s="string"!==typeof e&&T(e);if(!A.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&T.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?d.call(T(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return _(e,"parentNode")},parentsUntil:function(e,t,i){return _(e,"parentNode",i)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return _(e,"nextSibling")},prevAll:function(e){return _(e,"previousSibling")},nextUntil:function(e,t,i){return _(e,"nextSibling",i)},prevUntil:function(e,t,i){return _(e,"previousSibling",i)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return P(e,"iframe")?e.contentDocument:(P(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},function(e,t){T.fn[e]=function(i,n){var r=T.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"===typeof n&&(r=T.filter(n,r)),this.length>1&&(O[e]||T.uniqueSort(r),F.test(e)&&r.reverse()),this.pushStack(r)}});var M=/[^\x20\t\r\n\f]+/g;function z(e){return e}function R(e){throw e}function H(e,t,i,n){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(i):e&&y(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}T.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return T.each(e.match(M)||[],function(e,i){t[i]=!0}),t}(e):T.extend({},e);var t,i,n,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,n=t=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)!1===o[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!t&&(a=o.length-1,s.push(i)),function t(i){T.each(i,function(i,n){y(n)?e.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==k(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return T.each(arguments,function(e,t){for(var i;(i=T.inArray(t,o,i))>-1;)o.splice(i,1),i<=a&&a--}),this},has:function(e){return e?T.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=s=[],i||t||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],s.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return T.Deferred(function(i){T.each(t,function(t,n){var r=y(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var o=0;function s(e,t,n,r){return function(){var a=this,l=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"===typeof i||"function"===typeof i)&&i.then,y(c)?r?c.call(i,s(o,t,z,r),s(o,t,R,r)):(o++,c.call(i,s(o,t,z,r),s(o,t,R,r),s(o,t,z,t.notifyWith))):(n!==z&&(a=void 0,l=[i]),(r||t.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(i){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(i,u.stackTrace),e+1>=o&&(n!==R&&(a=void 0,l=[i]),t.rejectWith(a,l))}};e?u():(T.Deferred.getStackHook&&(u.stackTrace=T.Deferred.getStackHook()),i.setTimeout(u))}}return T.Deferred(function(i){t[0][3].add(s(0,i,y(r)?r:z,i.notifyWith)),t[1][3].add(s(0,i,y(e)?e:z)),t[2][3].add(s(0,i,y(n)?n:R))}).promise()},promise:function(e){return null!=e?T.extend(e,r):r}},o={};return T.each(t,function(e,i){var s=i[2],a=i[5];r[i[1]]=s.add,a&&s.add(function(){n=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,i=t,n=Array(i),r=l.call(arguments),o=T.Deferred(),s=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?l.call(arguments):i,--t||o.resolveWith(n,r)}};if(t<=1&&(H(e,o.done(s(i)).resolve,o.reject,!t),"pending"===o.state()||y(r[i]&&r[i].then)))return o.then();for(;i--;)H(r[i],s(i),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&U.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){i.setTimeout(function(){throw e})};var B=T.Deferred();function q(){s.removeEventListener("DOMContentLoaded",q),i.removeEventListener("load",q),T.ready()}T.fn.ready=function(e){return B.then(e).catch(function(e){T.readyException(e)}),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||B.resolveWith(s,[T]))}}),T.ready.then=B.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?i.setTimeout(T.ready):(s.addEventListener("DOMContentLoaded",q),i.addEventListener("load",q));var W=function(e,t,i,n,r,o,s){var a=0,l=e.length,c=null==i;if("object"===k(i))for(a in r=!0,i)W(e,t,a,i[a],!0,o,s);else if(void 0!==n&&(r=!0,y(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(T(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return r?e:c?t.call(e):l?t(e[0],i):o},V=/^-ms-/,Z=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function G(e){return e.replace(V,"ms-").replace(Z,K)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=T.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"===typeof t)r[G(t)]=i;else for(n in t)r[G(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,i){return void 0===t||t&&"string"===typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(G):(t=G(t))in n?[t]:t.match(M)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||T.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var J=new X,Q=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ie(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(te,"-$&").toLowerCase(),"string"===typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(i)}catch(e){}Q.set(e,t,i)}else i=void 0;return i}T.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,i){return Q.access(e,t,i)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,i){return J.access(e,t,i)},_removeData:function(e,t){J.remove(e,t)}}),T.fn.extend({data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=G(n.slice(5)),ie(o,n,r[n]));J.set(o,"hasDataAttrs",!0)}return r}return"object"===typeof e?this.each(function(){Q.set(this,e)}):W(this,function(t){var i;if(o&&void 0===t)return void 0!==(i=Q.get(o,e))?i:void 0!==(i=ie(o,e))?i:void 0;this.each(function(){Q.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),T.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=J.get(e,t),i&&(!n||Array.isArray(i)?n=J.access(e,t,T.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=T.queue(e,t),n=i.length,r=i.shift(),o=T._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){T.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return J.get(e,i)||J.access(e,i,{empty:T.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",i])})})}}),T.fn.extend({queue:function(e,t){var i=2;return"string"!==typeof e&&(t=e,e="fx",i--),arguments.length<i?T.queue(this[0],e):void 0===t?this:this.each(function(){var i=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&T.dequeue(this,e)})},dequeue:function(e){return this.each(function(){T.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=T.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=J.get(o[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&T.contains(e.ownerDocument,e)&&"none"===T.css(e,"display")},ae=function(e,t,i,n){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=i.apply(e,n||[]),t)e.style[o]=s[o];return r};function le(e,t,i,n){var r,o,s=20,a=n?function(){return n.cur()}:function(){return T.css(e,t,"")},l=a(),c=i&&i[3]||(T.cssNumber[t]?"":"px"),u=(T.cssNumber[t]||"px"!==c&&+l)&&re.exec(T.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)T.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,T.style(e,t,u+c),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}var ce={};function ue(e){var t,i=e.ownerDocument,n=e.nodeName,r=ce[n];return r||(t=i.body.appendChild(i.createElement(n)),r=T.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ce[n]=r,r)}function de(e,t){for(var i,n,r=[],o=0,s=e.length;o<s;o++)(n=e[o]).style&&(i=n.style.display,t?("none"===i&&(r[o]=J.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&se(n)&&(r[o]=ue(n))):"none"!==i&&(r[o]="none",J.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}T.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){se(this)?T(this).show():T(this).hide()})}});var he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var i;return i="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?T.merge([e],i):i}function ve(e,t){for(var i=0,n=e.length;i<n;i++)J.set(e[i],"globalEval",!t||J.get(t[i],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ye,be,we=/<|&#?\w+;/;function xe(e,t,i,n,r){for(var o,s,a,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===k(o))T.merge(h,o.nodeType?[o]:o);else if(we.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(pe.exec(o)||["",""])[1].toLowerCase(),l=me[a]||me._default,s.innerHTML=l[1]+T.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;T.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(n&&T.inArray(o,n)>-1)r&&r.push(o);else if(c=T.contains(o.ownerDocument,o),s=ge(d.appendChild(o),"script"),c&&ve(s),i)for(u=0;o=s[u++];)fe.test(o.type||"")&&i.push(o);return d}ye=s.createDocumentFragment().appendChild(s.createElement("div")),(be=s.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ye.appendChild(be),v.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var ke=s.documentElement,Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function _e(){return!1}function Ie(){try{return s.activeElement}catch(e){}}function Ae(e,t,i,n,r,o){var s,a;if("object"===typeof t){for(a in"string"!==typeof i&&(n=n||i,i=void 0),t)Ae(e,a,i,n,t[a],o);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"===typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=_e;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return T().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=T.guid++)),e.each(function(){T.event.add(this,t,r,n,i)})}T.event={global:{},add:function(e,t,i,n,r){var o,s,a,l,c,u,d,h,p,f,m,g=J.get(e);if(g)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&T.find.matchesSelector(ke,r),i.guid||(i.guid=T.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return"undefined"!==typeof T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(M)||[""]).length;c--;)p=m=(a=Ee.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=T.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=T.event.special[p]||{},u=T.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&T.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),T.event.global[p]=!0)},remove:function(e,t,i,n,r){var o,s,a,l,c,u,d,h,p,f,m,g=J.hasData(e)&&J.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(M)||[""]).length;c--;)if(p=m=(a=Ee.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=T.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||T.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)T.event.remove(e,p+t[c],i,n,!0);T.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,o,s,a=T.event.fix(e),l=new Array(arguments.length),c=(J.get(this,"events")||{})[a.type]||[],u=T.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=T.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(n=((T.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},i=0;i<l;i++)void 0===s[r=(n=t[i]).selector+" "]&&(s[r]=n.needsContext?T(r,this).index(c)>-1:T.find(r,this,null,[c]).length),s[r]&&o.push(n);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ie()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ie()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&P(this,"input"))return this.click(),!1},_default:function(e){return P(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:_e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},T.event.addProp),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||T.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),T.fn.extend({on:function(e,t,i,n){return Ae(this,e,t,i,n)},one:function(e,t,i,n){return Ae(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,T(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"===typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!==typeof t||(i=t,t=void 0),!1===i&&(i=_e),this.each(function(){T.event.remove(this,e,i,t)})}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function Fe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var i,n,r,o,s,a,l,c;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),s=J.set(t,o),c=o.events))for(r in delete s.handle,s.events={},c)for(i=0,n=c[r].length;i<n;i++)T.event.add(t,r,c[r][i]);Q.hasData(e)&&(a=Q.access(e),l=T.extend({},a),Q.set(t,l))}}function Me(e,t,i,n){t=c.apply([],t);var r,o,s,a,l,u,d=0,h=e.length,p=h-1,f=t[0],m=y(f);if(m||h>1&&"string"===typeof f&&!v.checkClone&&Le.test(f))return e.each(function(r){var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),Me(o,t,i,n)});if(h&&(o=(r=xe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(a=(s=T.map(ge(r,"script"),Fe)).length;d<h;d++)l=r,d!==p&&(l=T.clone(l,!0,!0),a&&T.merge(s,ge(l,"script"))),i.call(e[d],l,d);if(a)for(u=s[s.length-1].ownerDocument,T.map(s,Oe),d=0;d<a;d++)l=s[d],fe.test(l.type||"")&&!J.access(l,"globalEval")&&T.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?T._evalUrl&&T._evalUrl(l.src):x(l.textContent.replace($e,""),u,l))}return e}function ze(e,t,i){for(var n,r=t?T.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||T.cleanData(ge(n)),n.parentNode&&(i&&T.contains(n.ownerDocument,n)&&ve(ge(n,"script")),n.parentNode.removeChild(n));return e}T.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,i){var n,r,o,s,a,l,c,u=e.cloneNode(!0),d=T.contains(e.ownerDocument,e);if(!v.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!T.isXMLDoc(e))for(s=ge(u),n=0,r=(o=ge(e)).length;n<r;n++)a=o[n],l=s[n],void 0,"input"===(c=l.nodeName.toLowerCase())&&he.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(i)for(o=o||ge(e),s=s||ge(u),n=0,r=o.length;n<r;n++)je(o[n],s[n]);else je(e,u);return(s=ge(u,"script")).length>0&&ve(s,!d&&ge(e,"script")),u},cleanData:function(e){for(var t,i,n,r=T.event.special,o=0;void 0!==(i=e[o]);o++)if(Y(i)){if(t=i[J.expando]){if(t.events)for(n in t.events)r[n]?T.event.remove(i,n):T.removeEvent(i,n,t.handle);i[J.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),T.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return W(this,function(e){return void 0===e?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return T.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!De.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(T.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var i=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(ge(this)),i&&i.replaceChild(t,this))},e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){T.fn[e]=function(e){for(var i,n=[],r=T(e),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),T(r[s])[t](i),u.apply(n,i.get());return this.pushStack(n)}});var Re=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ue=new RegExp(oe.join("|"),"i");function Be(e,t,i){var n,r,o,s,a=e.style;return(i=i||He(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||T.contains(e.ownerDocument,e)||(s=T.style(e,t)),!v.pixelBoxStyles()&&Re.test(s)&&Ue.test(t)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ke.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",ke.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,l,c=s.createElement("div"),u=s.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,T.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var We=/^(none|table(?!-c[ea]).+)/,Ve=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=s.createElement("div").style;function Xe(e){var t=T.cssProps[e];return t||(t=T.cssProps[e]=function(e){if(e in Ye)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Ge.length;i--;)if((e=Ge[i]+t)in Ye)return e}(e)||e),t}function Je(e,t,i){var n=re.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Qe(e,t,i,n,r,o){var s="width"===t?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=T.css(e,i+oe[s],!0,r)),n?("content"===i&&(l-=T.css(e,"padding"+oe[s],!0,r)),"margin"!==i&&(l-=T.css(e,"border"+oe[s]+"Width",!0,r))):(l+=T.css(e,"padding"+oe[s],!0,r),"padding"!==i?l+=T.css(e,"border"+oe[s]+"Width",!0,r):a+=T.css(e,"border"+oe[s]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function et(e,t,i){var n=He(e),r=Be(e,t,n),o="border-box"===T.css(e,"boxSizing",!1,n),s=o;if(Re.test(r)){if(!i)return r;r="auto"}return s=s&&(v.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===T.css(e,"display",!1,n))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(r=parseFloat(r)||0)+Qe(e,t,i||(o?"border":"content"),s,n,r)+"px"}function tt(e,t,i,n,r){return new tt.prototype.init(e,t,i,n,r)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Be(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=G(t),l=Ve.test(t),c=e.style;if(l||(t=Xe(a)),s=T.cssHooks[t]||T.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(e,!1,n))?r:c[t];"string"===(o=typeof i)&&(r=re.exec(i))&&r[1]&&(i=le(e,t,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(T.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var r,o,s,a=G(t);return Ve.test(t)||(t=Xe(a)),(s=T.cssHooks[t]||T.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,i)),void 0===r&&(r=Be(e,t,n)),"normal"===r&&t in Ke&&(r=Ke[t]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),T.each(["height","width"],function(e,t){T.cssHooks[t]={get:function(e,i,n){if(i)return!We.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,n):ae(e,Ze,function(){return et(e,t,n)})},set:function(e,i,n){var r,o=He(e),s="border-box"===T.css(e,"boxSizing",!1,o),a=n&&Qe(e,t,n,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Qe(e,t,"border",!1,o)-.5)),a&&(r=re.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=T.css(e,t)),Je(0,i,a)}}}),T.cssHooks.marginLeft=qe(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(e,t){T.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"===typeof i?i.split(" "):[i];n<4;n++)r[e+oe[n]+t]=o[n]||o[n-2]||o[0];return r}},"margin"!==e&&(T.cssHooks[e+t].set=Je)}),T.fn.extend({css:function(e,t){return W(this,function(e,t,i){var n,r,o={},s=0;if(Array.isArray(t)){for(n=He(e),r=t.length;s<r;s++)o[t[s]]=T.css(e,t[s],!1,n);return o}return void 0!==i?T.style(e,t,i):T.css(e,t)},e,t,arguments.length>1)}}),T.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(T.cssNumber[i]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,i=tt.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[T.cssProps[e.prop]]&&!T.cssHooks[e.prop]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=tt.prototype.init,T.fx.step={};var it,nt,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){nt&&(!1===s.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(st):i.setTimeout(st,T.fx.interval),T.fx.tick())}function at(){return i.setTimeout(function(){it=void 0}),it=Date.now()}function lt(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=oe[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,i){for(var n,r=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,t,e))return n}function ut(e,t,i){var n,r,o=0,s=ut.prefilters.length,a=T.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=it||at(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(n);return a.notifyWith(e,[c,n,i]),n<1&&s?i:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},i),originalProperties:t,originalOptions:i,startTime:it||at(),duration:i.duration,tweens:[],createTween:function(t,i){var n=T.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var i,n,r,o,s;for(i in e)if(r=t[n=G(i)],o=e[i],Array.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(s=T.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r);else t[n]=r}(u,c.opts.specialEasing);o<s;o++)if(n=ut.prefilters[o].call(c,e,u,c.opts))return y(n.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return T.map(u,ct,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(ut,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return le(i.elem,e,re.exec(t),i),i}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(M);for(var i,n=0,r=e.length;n<r;n++)i=e[n],ut.tweeners[i]=ut.tweeners[i]||[],ut.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,o,s,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&se(e),g=J.get(e,"fxshow");for(n in i.queue||(null==(s=T._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,T.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[n],rt.test(r)){if(delete t[n],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||T.style(e,n)}if((l=!T.isEmptyObject(t))||!T.isEmptyObject(p))for(n in d&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=J.get(e,"display")),"none"===(u=T.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=T.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===T.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=J.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&de([e],!0),h.done(function(){for(n in m||de([e]),J.remove(e,"fxshow"),p)T.style(e,n,p[n])})),l=ct(m?g[n]:0,n,h),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),T.speed=function(e,t,i){var n=e&&"object"===typeof e?T.extend({},e):{complete:i||!i&&t||y(e)&&e,duration:e,easing:i&&t||t&&!y(t)&&t};return T.fx.off?n.duration=0:"number"!==typeof n.duration&&(n.duration in T.fx.speeds?n.duration=T.fx.speeds[n.duration]:n.duration=T.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&T.dequeue(this,n.queue)},n},T.fn.extend({fadeTo:function(e,t,i,n){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=T.isEmptyObject(e),o=T.speed(t,i,n),s=function(){var t=ut(this,T.extend({},e),o);(r||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!==typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=T.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&ot.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));!t&&i||T.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=J.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=T.timers,s=n?n.length:0;for(i.finish=!0,T.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),T.each(["toggle","show","hide"],function(e,t){var i=T.fn[t];T.fn[t]=function(e,n,r){return null==e||"boolean"===typeof e?i.apply(this,arguments):this.animate(lt(t,!0),e,n,r)}}),T.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){T.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),T.timers=[],T.fx.tick=function(){var e,t=0,i=T.timers;for(it=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||T.fx.stop(),it=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){nt||(nt=!0,st())},T.fx.stop=function(){nt=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var dt,ht=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return W(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){T.removeAttr(this,e)})}}),T.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?T.prop(e,t,i):(1===o&&T.isXMLDoc(e)||(r=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?dt:void 0)),void 0!==i?null===i?void T.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=T.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&P(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(M);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),dt={set:function(e,t,i){return!1===t?T.removeAttr(e,i):e.setAttribute(i,i),i}},T.each(T.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ht[t]||T.find.attr;ht[t]=function(e,t,n){var r,o,s=t.toLowerCase();return n||(o=ht[s],ht[s]=r,r=null!=i(e,t,n)?s:null,ht[s]=o),r}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function mt(e){return(e.match(M)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(M)||[]}T.fn.extend({prop:function(e,t){return W(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[T.propFix[e]||e]})}}),T.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(e)||(t=T.propFix[t]||t,r=T.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(e){var t,i,n,r,o,s,a,l=0;if(y(e))return this.each(function(t){T(this).addClass(e.call(this,t,gt(this)))});if((t=vt(e)).length)for(;i=this[l++];)if(r=gt(i),n=1===i.nodeType&&" "+mt(r)+" "){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=mt(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,r,o,s,a,l=0;if(y(e))return this.each(function(t){T(this).removeClass(e.call(this,t,gt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;i=this[l++];)if(r=gt(i),n=1===i.nodeType&&" "+mt(r)+" "){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(a=mt(n))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"===typeof t&&n?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(i){T(this).toggleClass(e.call(this,i,gt(this),t),t)}):this.each(function(){var t,r,o,s;if(n)for(r=0,o=T(this),s=vt(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||((t=gt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+mt(gt(i))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;T.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=y(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,T(this).val()):e)?r="":"number"===typeof r?r+="":Array.isArray(r)&&(r=T.map(r,function(e){return null==e?"":e+""})),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=T.valHooks[r.type]||T.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"===typeof(i=r.value)?i.replace(yt,""):null==i?"":i:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:mt(T.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(n=o<0?l:s?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!P(i.parentNode,"optgroup"))){if(t=T(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,o=T.makeArray(t),s=r.length;s--;)((n=r[s]).selected=T.inArray(T.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},v.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in i;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,n,r){var o,a,l,c,u,d,h,p,m=[n||s],g=f.call(e,"type")?e.type:e,v=f.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=n=n||s,3!==n.nodeType&&8!==n.nodeType&&!bt.test(g+T.event.triggered)&&(g.indexOf(".")>-1&&(g=(v=g.split(".")).shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[T.expando]?e:new T.Event(g,"object"===typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:T.makeArray(t,[e]),h=T.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(n,t))){if(!r&&!h.noBubble&&!b(n)){for(c=h.delegateType||g,bt.test(c+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),l=a;l===(n.ownerDocument||s)&&m.push(l.defaultView||l.parentWindow||i)}for(o=0;(a=m[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?c:h.bindType||g,(d=(J.get(a,"events")||{})[e.type]&&J.get(a,"handle"))&&d.apply(a,t),(d=u&&a[u])&&d.apply&&Y(a)&&(e.result=d.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),t)||!Y(n)||u&&y(n[g])&&!b(n)&&((l=n[u])&&(n[u]=null),T.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,wt),n[g](),e.isPropagationStopped()&&p.removeEventListener(g,wt),T.event.triggered=void 0,l&&(n[u]=l)),e.result}},simulate:function(e,t,i){var n=T.extend(new T.Event,i,{type:e,isSimulated:!0});T.event.trigger(n,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each(function(){T.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return T.event.trigger(e,t,i,!0)}}),v.focusin||T.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){T.event.simulate(t,e.target,T.event.fix(e))};T.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=J.access(n,t);r||n.addEventListener(e,i,!0),J.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=J.access(n,t)-1;r?J.access(n,t,r):(n.removeEventListener(e,i,!0),J.remove(n,t))}}});var xt=i.location,kt=Date.now(),Tt=/\?/;T.parseXML=function(e){var t;if(!e||"string"!==typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+e),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;function It(e,t,i,n){var r;if(Array.isArray(t))T.each(t,function(t,r){i||Ct.test(e)?n(e,r):It(e+"["+("object"===typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==k(t))n(e,t);else for(r in t)It(e+"["+r+"]",t[r],i,n)}T.param=function(e,t){var i,n=[],r=function(e,t){var i=y(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,function(){r(this.name,this.value)});else for(i in e)It(i,e[i],t,r);return n.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&_t.test(this.nodeName)&&!St.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var i=T(this).val();return null==i?null:Array.isArray(i)?T.map(i,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:i.replace(Et,"\r\n")}}).get()}});var At=/%20/g,Pt=/#.*$/,Dt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:GET|HEAD)$/,Nt=/^\/\//,Ft={},Ot={},jt="*/".concat("*"),Mt=s.createElement("a");function zt(e){return function(t,i){"string"!==typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(M)||[];if(y(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Rt(e,t,i,n){var r={},o=e===Ot;function s(a){var l;return r[a]=!0,T.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!==typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Ht(e,t){var i,n,r=T.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&T.extend(!0,e,n),e}Mt.href=xt.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,T.ajaxSettings),t):Ht(T.ajaxSettings,e)},ajaxPrefilter:zt(Ft),ajaxTransport:zt(Ot),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,l,c,u,d,h,p,f=T.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?T(m):T.event,v=T.Deferred(),y=T.Callbacks("once memory"),b=f.statusCode||{},w={},x={},k="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Lt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)C.always(e[C.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),E(0,t),this}};if(v.promise(C),f.url=((e||f.url||xt.href)+"").replace(Nt,xt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(M)||[""],null==f.crossDomain){c=s.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Mt.protocol+"//"+Mt.host!==c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!==typeof f.data&&(f.data=T.param(f.data,f.traditional)),Rt(Ft,f,t,C),u)return C;for(h in(d=T.event&&f.global)&&0===T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!$t.test(f.type),r=f.url.replace(Pt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(At,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"===typeof f.data)&&(r+=(Tt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Dt,"$1"),p=(Tt.test(r)?"&":"?")+"_="+kt+++p),f.url=r+p),f.ifModified&&(T.lastModified[r]&&C.setRequestHeader("If-Modified-Since",T.lastModified[r]),T.etag[r]&&C.setRequestHeader("If-None-Match",T.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+jt+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(m,C,f)||u))return C.abort();if(k="abort",y.add(f.complete),C.done(f.success),C.fail(f.error),n=Rt(Ot,f,t,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,f]),u)return C;f.async&&f.timeout>0&&(l=i.setTimeout(function(){C.abort("timeout")},f.timeout));try{u=!1,n.send(w,E)}catch(e){if(u)throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,s,a){var c,h,p,w,x,k=t;u||(u=!0,l&&i.clearTimeout(l),n=void 0,o=a||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,s&&(w=function(e,t,i){for(var n,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}(f,C,s)),w=function(e,t,i,n){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,w,C,c),c?(f.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(T.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(T.etag[r]=x)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=w.state,h=w.data,c=!(p=w.error))):(p=k,!e&&k||(k="error",e<0&&(e=0))),C.status=e,C.statusText=(t||k)+"",c?v.resolveWith(m,[h,k,C]):v.rejectWith(m,[C,k,p]),C.statusCode(b),b=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[C,f,c?h:p]),y.fireWith(m,[C,k]),d&&(g.trigger("ajaxComplete",[C,f]),--T.active||T.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,i){return T.get(e,t,i,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],function(e,t){T[t]=function(e,i,n,r){return y(i)&&(r=r||n,n=i,i=void 0),T.ajax(T.extend({url:e,type:t,dataType:r,data:i,success:n},T.isPlainObject(e)&&e))}}),T._evalUrl=function(e){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){T(this).wrapInner(e.call(this,t))}):this.each(function(){var t=T(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(i){T(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Bt=T.ajaxSettings.xhr();v.cors=!!Bt&&"withCredentials"in Bt,v.ajax=Bt=!!Bt,T.ajaxTransport(function(e){var t,n;if(v.cors||Bt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!==typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ut[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),T.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),T.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(n,r){t=T("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){i&&i()}}});var qt,Wt=[],Vt=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||T.expando+"_"+kt++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,s,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||T.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){s=arguments},n.always(function(){void 0===o?T(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(r)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((qt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),T.parseHTML=function(e,t,i){return"string"!==typeof e?[]:("boolean"===typeof t&&(i=t,t=!1),t||(v.createHTMLDocument?((n=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(n)):t=s),r=D.exec(e),o=!i&&[],r?[t.createElement(r[1])]:(r=xe([e],t,o),o&&o.length&&T(o).remove(),T.merge([],r.childNodes)));var n,r,o},T.fn.load=function(e,t,i){var n,r,o,s=this,a=e.indexOf(" ");return a>-1&&(n=mt(e.slice(a)),e=e.slice(0,a)),y(t)?(i=t,t=void 0):t&&"object"===typeof t&&(r="POST"),s.length>0&&T.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?T("<div>").append(T.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){T.fn[t]=function(e){return this.on(t,e)}}),T.expr.pseudos.animated=function(e){return T.grep(T.timers,function(t){return e===t.elem}).length},T.offset={setOffset:function(e,t,i){var n,r,o,s,a,l,c=T.css(e,"position"),u=T(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=T.css(e,"top"),l=T.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(n=u.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),y(t)&&(t=t.call(e,i,T.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){T.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===T.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),r.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-T.css(n,"marginTop",!0),left:t.left-r.left-T.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||ke})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;T.fn[e]=function(n){return W(this,function(e,n,r){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):e[n]=r},e,n,arguments.length)}}),T.each(["top","left"],function(e,t){T.cssHooks[t]=qe(v.pixelPosition,function(e,i){if(i)return i=Be(e,t),Re.test(i)?T(e).position()[t]+"px":i})}),T.each({Height:"height",Width:"width"},function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){T.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!==typeof r),a=i||(!0===r||!0===o?"margin":"border");return W(this,function(t,i,r){var o;return b(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?T.css(t,i,a):T.style(t,i,r,a)},t,s?r:void 0,s)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){T.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),T.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),T.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),T.proxy=function(e,t){var i,n,r;if("string"===typeof t&&(i=e[t],t=e,e=i),y(e))return n=l.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||T.guid++,r},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=P,T.isFunction=y,T.isWindow=b,T.camelCase=G,T.type=k,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return T}.apply(t,[]))||(e.exports=n);var Zt=i.jQuery,Kt=i.$;return T.noConflict=function(e){return i.$===T&&(i.$=Kt),e&&i.jQuery===T&&(i.jQuery=Zt),T},r||(i.jQuery=i.$=T),T})}});
//# sourceMappingURL=application-26df5af71028ed23a972.js.map